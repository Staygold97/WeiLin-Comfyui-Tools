(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend$2=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn$1=(e,t)=>hasOwnProperty$3.call(e,t),isArray$2=Array.isArray,isMap=e=>toTypeString$1(e)==="[object Map]",isSet=e=>toTypeString$1(e)==="[object Set]",isDate$2=e=>toTypeString$1(e)==="[object Date]",isFunction$2=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$3=e=>e!==null&&typeof e=="object",isPromise$1=e=>(isObject$3(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject$3=e=>toTypeString$1(e)==="[object Object]",isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},def=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$2(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=isString$2(r)?parseStringStyle(r):normalizeStyle(r);if(a)for(const o in a)t[o]=a[o]}return t}else if(isString$2(e)||isObject$3(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$2(e))t=e;else if(isArray$2(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject$3(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=looseEqual(e[r],t[r]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate$2(e),r=isDate$2(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=isSymbol(e),r=isSymbol(t),n||r)return e===t;if(n=isArray$2(e),r=isArray$2(t),n||r)return n&&r?looseCompareArrays(e,t):!1;if(n=isObject$3(e),r=isObject$3(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,o=Object.keys(t).length;if(a!==o)return!1;for(const s in e){const l=e.hasOwnProperty(s),c=t.hasOwnProperty(s);if(l&&!c||!l&&c||!looseEqual(e[s],t[s]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(n=>looseEqual(n,t))}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString$1=e=>isString$2(e)?e:e==null?"":isArray$2(e)||isObject$3(e)&&(e.toString===objectToString$1||!isFunction$2(e.toString))?isRef$1(e)?toDisplayString$1(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],o)=>(n[stringifySymbol(r,o)+" =>"]=a,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject$3(t)&&!isArray$2(t)&&!isPlainObject$3(t)?String(t):t,stringifySymbol=(e,t="")=>{var n;return isSymbol(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function effectScope(e){return new EffectScope(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(e)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),removeSub(r),removeDep(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion))return;e.globalVersion=globalVersion;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!isDirty(e)){e.flags&=-3;return}const n=activeSub,r=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const a=e.fn(e._value);(t.version===0||hasChanged(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{activeSub=n,shouldTrack=r,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)removeSub(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=activeSub;activeSub=void 0;try{t()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=r)}return n}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)addSub(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeSub){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new Dep),a.map=r,a.key=n),a.track()}}function trigger(e,t,n,r,a,o){const s=targetMap.get(e);if(!s){globalVersion++;return}const l=c=>{c&&c.trigger()};if(startBatch(),t==="clear")s.forEach(l);else{const c=isArray$2(e),u=c&&isIntegerKey(n);if(c&&n==="length"){const d=Number(r);s.forEach((f,m)=>{(m==="length"||m===ARRAY_ITERATE_KEY||!isSymbol(m)&&m>=d)&&l(f)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),u&&l(s.get(ARRAY_ITERATE_KEY)),t){case"add":c?u&&l(s.get("length")):(l(s.get(ITERATE_KEY)),isMap(e)&&l(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":c||(l(s.get(ITERATE_KEY)),isMap(e)&&l(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&l(s.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(e,t){const n=targetMap.get(e);return n&&n.get(t)}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray$2(t)?reactiveReadArray(t):t))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,t){return apply$1(this,"every",e,t,void 0,arguments)},filter(e,t){return apply$1(this,"filter",e,t,n=>n.map(toReactive),arguments)},find(e,t){return apply$1(this,"find",e,t,toReactive,arguments)},findIndex(e,t){return apply$1(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply$1(this,"findLast",e,t,toReactive,arguments)},findLastIndex(e,t){return apply$1(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply$1(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply$1(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply$1(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,t,n){const r=shallowReadArray(e),a=r[t]();return r!==e&&!isShallow(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=n(o.value)),o}),a}const arrayProto=Array.prototype;function apply$1(e,t,n,r,a,o){const s=shallowReadArray(e),l=s!==e&&!isShallow(e),c=s[t];if(c!==arrayProto[t]){const f=c.apply(e,o);return l?toReactive(f):f}let u=n;s!==e&&(l?u=function(f,m){return n.call(this,toReactive(f),m,e)}:n.length>2&&(u=function(f,m){return n.call(this,f,m,e)}));const d=c.call(s,u,r);return l&&a?a(d):d}function reduce(e,t,n,r){const a=shallowReadArray(e);let o=n;return a!==e&&(isShallow(e)?n.length>3&&(o=function(s,l,c){return n.call(this,s,l,c,e)}):o=function(s,l,c){return n.call(this,s,toReactive(l),c,e)}),a[t](o,...r)}function searchProxy(e,t,n){const r=toRaw(e);track(r,"iterate",ARRAY_ITERATE_KEY);const a=r[t](...n);return(a===-1||a===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),r[t](...n)):a}function noTracking(e,t,n=[]){pauseTracking(),startBatch();const r=toRaw(e)[t].apply(e,n);return endBatch(),resetTracking(),r}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty$2(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(a?o?shallowReadonlyMap:readonlyMap:o?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=isArray$2(t);if(!a){let c;if(s&&(c=arrayInstrumentations[n]))return c;if(n==="hasOwnProperty")return hasOwnProperty$2}const l=Reflect.get(t,n,isRef(t)?t:r);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(a||track(t,"get",n),o)?l:isRef(l)?s&&isIntegerKey(n)?l:l.value:isObject$3(l)?a?readonly(l):reactive(l):l}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,r,a){let o=t[n];if(!this._isShallow){const c=isReadonly(o);if(!isShallow(r)&&!isReadonly(r)&&(o=toRaw(o),r=toRaw(r)),!isArray$2(t)&&isRef(o)&&!isRef(r))return c?!1:(o.value=r,!0)}const s=isArray$2(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn$1(t,n),l=Reflect.set(t,n,r,isRef(t)?t:a);return t===toRaw(a)&&(s?hasChanged(r,o)&&trigger(t,"set",n,r):trigger(t,"add",n,r)),l}deleteProperty(t,n){const r=hasOwn$1(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&trigger(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),r}ownKeys(t){return track(t,"iterate",isArray$2(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,n){return function(...r){const a=this.__v_raw,o=toRaw(a),s=isMap(o),l=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,u=a[e](...r),d=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:f,done:m}=u.next();return m?{value:f,done:m}:{value:l?[d(f[0]),d(f[1])]:d(f),done:m}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const n={get(a){const o=this.__v_raw,s=toRaw(o),l=toRaw(a);e||(hasChanged(a,l)&&track(s,"get",a),track(s,"get",l));const{has:c}=getProto(s),u=t?toShallow:e?toReadonly:toReactive;if(c.call(s,a))return u(o.get(a));if(c.call(s,l))return u(o.get(l));o!==s&&o.get(a)},get size(){const a=this.__v_raw;return!e&&track(toRaw(a),"iterate",ITERATE_KEY),Reflect.get(a,"size",a)},has(a){const o=this.__v_raw,s=toRaw(o),l=toRaw(a);return e||(hasChanged(a,l)&&track(s,"has",a),track(s,"has",l)),a===l?o.has(a):o.has(a)||o.has(l)},forEach(a,o){const s=this,l=s.__v_raw,c=toRaw(l),u=t?toShallow:e?toReadonly:toReactive;return!e&&track(c,"iterate",ITERATE_KEY),l.forEach((d,f)=>a.call(o,u(d),u(f),s))}};return extend$2(n,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(a){!t&&!isShallow(a)&&!isReadonly(a)&&(a=toRaw(a));const o=toRaw(this);return getProto(o).has.call(o,a)||(o.add(a),trigger(o,"add",a,a)),this},set(a,o){!t&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const s=toRaw(this),{has:l,get:c}=getProto(s);let u=l.call(s,a);u||(a=toRaw(a),u=l.call(s,a));const d=c.call(s,a);return s.set(a,o),u?hasChanged(o,d)&&trigger(s,"set",a,o):trigger(s,"add",a,o),this},delete(a){const o=toRaw(this),{has:s,get:l}=getProto(o);let c=s.call(o,a);c||(a=toRaw(a),c=s.call(o,a)),l&&l.call(o,a);const u=o.delete(a);return c&&trigger(o,"delete",a,void 0),u},clear(){const a=toRaw(this),o=a.size!==0,s=a.clear();return o&&trigger(a,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=createIterableMethod(a,e,t)}),n}function createInstrumentationGetter(e,t){const n=createInstrumentations(e,t);return(r,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(hasOwn$1(n,a)&&a in r?n:r,a,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,n,r,a){if(!isObject$3(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const s=getTargetType(e);if(s===0)return e;const l=new Proxy(e,s===2?r:n);return a.set(e,l),l}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn$1(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$3(e)?reactive(e):e,toReadonly=e=>isObject$3(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,n)&&(this._rawValue=t,this._value=r?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>t==="__v_raw"?e:unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return isRef(a)&&!isRef(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(e,t,n){const r=e[t];return isRef(r)?r:new ObjectRefImpl(e,t,n)}class ComputedRefImpl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,n=!1){let r,a;return isFunction$2(e)?r=e:(r=e.get,a=e.set),new ComputedRefImpl(r,a,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,n=activeWatcher){if(n){let r=cleanupMap.get(n);r||cleanupMap.set(n,r=[]),r.push(e)}}function watch$1(e,t,n=EMPTY_OBJ){const{immediate:r,deep:a,once:o,scheduler:s,augmentJob:l,call:c}=n,u=x=>a?x:isShallow(x)||a===!1||a===0?traverse(x,1):traverse(x);let d,f,m,_,g=!1,v=!1;if(isRef(e)?(f=()=>e.value,g=isShallow(e)):isReactive(e)?(f=()=>u(e),g=!0):isArray$2(e)?(v=!0,g=e.some(x=>isReactive(x)||isShallow(x)),f=()=>e.map(x=>{if(isRef(x))return x.value;if(isReactive(x))return u(x);if(isFunction$2(x))return c?c(x,2):x()})):isFunction$2(e)?t?f=c?()=>c(e,2):e:f=()=>{if(m){pauseTracking();try{m()}finally{resetTracking()}}const x=activeWatcher;activeWatcher=d;try{return c?c(e,3,[_]):e(_)}finally{activeWatcher=x}}:f=NOOP,t&&a){const x=f,C=a===!0?1/0:a;f=()=>traverse(x(),C)}const b=getCurrentScope(),y=()=>{d.stop(),b&&b.active&&remove(b.effects,d)};if(o&&t){const x=t;t=(...C)=>{x(...C),y()}}let S=v?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const N=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(t){const C=d.run();if(a||g||(v?C.some((B,L)=>hasChanged(B,S[L])):hasChanged(C,S))){m&&m();const B=activeWatcher;activeWatcher=d;try{const L=[C,S===INITIAL_WATCHER_VALUE?void 0:v&&S[0]===INITIAL_WATCHER_VALUE?[]:S,_];c?c(t,3,L):t(...L),S=C}finally{activeWatcher=B}}}else d.run()};return l&&l(N),d=new ReactiveEffect(f),d.scheduler=s?()=>s(N,!1):N,_=x=>onWatcherCleanup(x,!1,d),m=d.onStop=()=>{const x=cleanupMap.get(d);if(x){if(c)c(x,4);else for(const C of x)C();cleanupMap.delete(d)}},t?r?N(!0):S=d.run():s?s(N.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function traverse(e,t=1/0,n){if(t<=0||!isObject$3(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,isRef(e))traverse(e.value,t,n);else if(isArray$2(e))for(let r=0;r<e.length;r++)traverse(e[r],t,n);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t,n)});else if(isPlainObject$3(e)){for(const r in e)traverse(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&traverse(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,r=n&&n.appContext.config.warnHandler,a=getComponentTrace();if(r)callWithErrorHandling(r,n,11,[e+t.map(o=>{var s,l;return(l=(s=o.toString)==null?void 0:s.call(o))!=null?l:JSON.stringify(o)}).join(""),n&&n.proxy,a.map(({vnode:o})=>`at <${formatComponentName(n,o.type)}>`).join(`
`),a]);else{const o=[`[Vue warn]: ${e}`,...t];a.length&&o.push(`
`,...formatTrace(a)),console.warn(...o)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function formatTrace(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,a=` at <${formatComponentName(e.component,e.type,r)}`,o=">"+n;return e.props?[a,...formatProps(e.props),o]:[a+o]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...formatProp(r,e[r]))}),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString$2(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction$2(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,r){try{return r?e(...r):e()}catch(a){handleError(a,t,n)}}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction$2(e)){const a=callWithErrorHandling(e,t,n,r);return a&&isPromise$1(a)&&a.catch(o=>{handleError(o,t,n)}),a}if(isArray$2(e)){const a=[];for(let o=0;o<e.length;o++)a.push(callWithAsyncErrorHandling(e[o],t,n,r));return a}}function handleError(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||EMPTY_OBJ;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,c,u)===!1)return}l=l.parent}if(o){pauseTracking(),callWithErrorHandling(o,null,10,[e,c,u]),resetTracking();return}}logError(e,n,a,r,s)}function logError(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1,a=queue[r],o=getId(a);o<e||o===e&&a.flags&2?t=r+1:n=r}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),n=queue[queue.length-1];!n||!(e.flags&2)&&t>=getId(n)?queue.push(e):queue.splice(findInsertionIndex(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,n=flushIndex+1){for(;n<queue.length;n++){const r=queue[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;queue.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,r)=>getId(n)-getId(r));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let s;try{s=e(...a)}finally{setCurrentRenderingInstance(o),r._d&&setBlockTracking(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function withDirectives(e,t){if(currentRenderingInstance===null)return e;const n=getComponentPublicInstance(currentRenderingInstance),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,l,c=EMPTY_OBJ]=t[a];o&&(isFunction$2(o)&&(o={mounted:o,updated:o}),o.deep&&traverse(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:c}))}return e}function invokeDirectiveHook(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let c=l.dir[r];c&&(pauseTracking(),callWithAsyncErrorHandling(c,n,8,[e.el,l,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTeleportDeferred=e=>e&&(e.defer||e.defer===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,isTargetMathML=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,resolveTarget=(e,t)=>{const n=e&&e.to;return isString$2(n)?t?t(n):null:n},TeleportImpl={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,o,s,l,c,u){const{mc:d,pc:f,pbc:m,o:{insert:_,querySelector:g,createText:v,createComment:b}}=u,y=isTeleportDisabled(t.props);let{shapeFlag:S,children:N,dynamicChildren:x}=t;if(e==null){const C=t.el=v(""),B=t.anchor=v("");_(C,n,r),_(B,n,r);const L=(z,ee)=>{S&16&&(a&&a.isCE&&(a.ce._teleportTarget=z),d(N,z,ee,a,o,s,l,c))},F=()=>{const z=t.target=resolveTarget(t.props,g),ee=prepareAnchor(z,t,v,_);z&&(s!=="svg"&&isTargetSVG(z)?s="svg":s!=="mathml"&&isTargetMathML(z)&&(s="mathml"),y||(L(z,ee),updateCssVars(t,!1)))};y&&(L(n,B),updateCssVars(t,!0)),isTeleportDeferred(t.props)?queuePostRenderEffect(()=>{F(),t.el.__isMounted=!0},o):F()}else{if(isTeleportDeferred(t.props)&&!e.el.__isMounted){queuePostRenderEffect(()=>{TeleportImpl.process(e,t,n,r,a,o,s,l,c,u),delete e.el.__isMounted},o);return}t.el=e.el,t.targetStart=e.targetStart;const C=t.anchor=e.anchor,B=t.target=e.target,L=t.targetAnchor=e.targetAnchor,F=isTeleportDisabled(e.props),z=F?n:B,ee=F?C:L;if(s==="svg"||isTargetSVG(B)?s="svg":(s==="mathml"||isTargetMathML(B))&&(s="mathml"),x?(m(e.dynamicChildren,x,z,a,o,s,l),traverseStaticChildren(e,t,!0)):c||f(e,t,z,ee,a,o,s,l,!1),y)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):moveTeleport(t,n,C,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const W=t.target=resolveTarget(t.props,g);W&&moveTeleport(t,W,null,u,0)}else F&&moveTeleport(t,B,L,u,1);updateCssVars(t,y)}},remove(e,t,n,{um:r,o:{remove:a}},o){const{shapeFlag:s,children:l,anchor:c,targetStart:u,targetAnchor:d,target:f,props:m}=e;if(f&&(a(u),a(d)),o&&a(c),s&16){const _=o||!isTeleportDisabled(m);for(let g=0;g<l.length;g++){const v=l[g];r(v,t,n,_,!!v.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,n,{o:{insert:r},m:a},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:c,children:u,props:d}=e,f=o===2;if(f&&r(s,t,n),(!f||isTeleportDisabled(d))&&c&16)for(let m=0;m<u.length;m++)a(u[m],t,n,2);f&&r(l,t,n)}function hydrateTeleport(e,t,n,r,a,o,{o:{nextSibling:s,parentNode:l,querySelector:c,insert:u,createText:d}},f){const m=t.target=resolveTarget(t.props,c);if(m){const _=isTeleportDisabled(t.props),g=m._lpa||m.firstChild;if(t.shapeFlag&16)if(_)t.anchor=f(s(e),t,l(e),n,r,a,o),t.targetStart=g,t.targetAnchor=g&&s(g);else{t.anchor=s(e);let v=g;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,m._lpa=t.targetAnchor&&s(t.targetAnchor);break}}v=s(v)}t.targetAnchor||prepareAnchor(m,t,d,u),f(g&&s(g),t,m,n,r,a,o)}updateCssVars(t,_)}return t.anchor&&s(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function prepareAnchor(e,t,n,r){const a=t.targetStart=n(""),o=t.targetAnchor=n("");return a[TeleportEndKey]=o,e&&(r(a,e),r(o,e)),o}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=e=>{const t=e.subTree;return t.component?recursiveGetSubtree(t.component):t},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();return()=>{const a=t.default&&getTransitionRawChildren(t.default(),!0);if(!a||!a.length)return;const o=findNonCommentChild(a),s=toRaw(e),{mode:l}=s;if(r.isLeaving)return emptyPlaceholder(o);const c=getInnerChild$1(o);if(!c)return emptyPlaceholder(o);let u=resolveTransitionHooks(c,s,r,n,f=>u=f);c.type!==Comment&&setTransitionHooks(c,u);let d=n.subTree&&getInnerChild$1(n.subTree);if(d&&d.type!==Comment&&!isSameVNodeType(c,d)&&recursiveGetSubtree(n).type!==Comment){let f=resolveTransitionHooks(d,s,r,n);if(setTransitionHooks(d,f),l==="out-in"&&c.type!==Comment)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,d=void 0},emptyPlaceholder(o);l==="in-out"&&c.type!==Comment?f.delayLeave=(m,_,g)=>{const v=getLeavingNodesForType(r,d);v[String(d.key)]=d,m[leaveCbKey]=()=>{_(),m[leaveCbKey]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function findNonCommentChild(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Comment){t=n;break}}return t}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r,a){const{appear:o,mode:s,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:m,onLeave:_,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:b,onAppear:y,onAfterAppear:S,onAppearCancelled:N}=t,x=String(e.key),C=getLeavingNodesForType(n,e),B=(z,ee)=>{z&&callWithAsyncErrorHandling(z,r,9,ee)},L=(z,ee)=>{const W=ee[1];B(z,ee),isArray$2(z)?z.every(O=>O.length<=1)&&W():z.length<=1&&W()},F={mode:s,persisted:l,beforeEnter(z){let ee=c;if(!n.isMounted)if(o)ee=b||c;else return;z[leaveCbKey]&&z[leaveCbKey](!0);const W=C[x];W&&isSameVNodeType(e,W)&&W.el[leaveCbKey]&&W.el[leaveCbKey](),B(ee,[z])},enter(z){let ee=u,W=d,O=f;if(!n.isMounted)if(o)ee=y||u,W=S||d,O=N||f;else return;let ne=!1;const le=z[enterCbKey]=Se=>{ne||(ne=!0,Se?B(O,[z]):B(W,[z]),F.delayedLeave&&F.delayedLeave(),z[enterCbKey]=void 0)};ee?L(ee,[z,le]):le()},leave(z,ee){const W=String(e.key);if(z[enterCbKey]&&z[enterCbKey](!0),n.isUnmounting)return ee();B(m,[z]);let O=!1;const ne=z[leaveCbKey]=le=>{O||(O=!0,ee(),le?B(v,[z]):B(g,[z]),z[leaveCbKey]=void 0,C[W]===e&&delete C[W])};C[W]=e,_?L(_,[z,ne]):ne()},clone(z){const ee=resolveTransitionHooks(z,t,n,r,a);return a&&a(ee),ee}};return F}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getInnerChild$1(e){if(!isKeepAlive(e))return isTeleport(e.type)&&e.children?findNonCommentChild(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&isFunction$2(n.default))return n.default()}}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let s=e[o];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Fragment?(s.patchFlag&128&&a++,r=r.concat(getTransitionRawChildren(s.children,t,l))):(t||s.type!==Comment)&&r.push(l!=null?cloneVNode(s,{key:l}):s)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction$2(e)?extend$2({name:e.name},t,{setup:e}):e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,t,n,r,a=!1){if(isArray$2(e)){e.forEach((g,v)=>setRef(g,t&&(isArray$2(t)?t[v]:t),n,r,a));return}if(isAsyncWrapper(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&setRef(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?getComponentPublicInstance(r.component):r.el,s=a?null:o,{i:l,r:c}=e,u=t&&t.r,d=l.refs===EMPTY_OBJ?l.refs={}:l.refs,f=l.setupState,m=toRaw(f),_=f===EMPTY_OBJ?()=>!1:g=>hasOwn$1(m,g);if(u!=null&&u!==c&&(isString$2(u)?(d[u]=null,_(u)&&(f[u]=null)):isRef(u)&&(u.value=null)),isFunction$2(c))callWithErrorHandling(c,l,12,[s,d]);else{const g=isString$2(c),v=isRef(c);if(g||v){const b=()=>{if(e.f){const y=g?_(c)?f[c]:d[c]:c.value;a?isArray$2(y)&&remove(y,o):isArray$2(y)?y.includes(o)||y.push(o):g?(d[c]=[o],_(c)&&(f[c]=d[c])):(c.value=[o],e.k&&(d[e.k]=c.value))}else g?(d[c]=s,_(c)&&(f[c]=s)):v&&(c.value=s,e.k&&(d[e.k]=s))};s?(b.id=-1,queuePostRenderEffect(b,n)):b()}}}getGlobalThis$1().requestIdleCallback,getGlobalThis$1().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(injectHook(t,r,n),n){let a=n.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(r,t,n,a),a=a.parent}}function injectToKeepAliveRoot(e,t,n,r){const a=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],a)},n)}function injectHook(e,t,n=currentInstance,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{pauseTracking();const l=setCurrentInstance(n),c=callWithAsyncErrorHandling(t,n,e,s);return l(),resetTracking(),c});return r?a.unshift(o):a.push(o),o}}const createHook=e=>(t,n=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>t(...r),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(e,t,n=!0,r=!1){const a=currentRenderingInstance||currentInstance;if(a){const o=a.type;{const l=getComponentName(o,!1);if(l&&(l===t||l===camelize(t)||l===capitalize$1(camelize(t))))return o}const s=resolve(a[e]||o[e],t)||resolve(a.appContext[e],t);return!s&&r?o:s}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize$1(camelize(t))])}function renderList(e,t,n,r){let a;const o=n,s=isArray$2(e);if(s||isString$2(e)){const l=s&&isReactive(e);let c=!1;l&&(c=!isShallow(e),e=shallowReadArray(e)),a=new Array(e.length);for(let u=0,d=e.length;u<d;u++)a[u]=t(c?toReactive(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,o)}else if(isObject$3(e))if(e[Symbol.iterator])a=Array.from(e,(l,c)=>t(l,c,void 0,o));else{const l=Object.keys(e);a=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const d=l[c];a[c]=t(e[d],d,c,o)}}else a=[];return a}function renderSlot(e,t,n={},r,a){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return t!=="default"&&(n.name=t),openBlock(),createBlock(Fragment,null,[createVNode("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),openBlock();const s=o&&ensureValidVNode(o(n)),l=n.key||s&&s.key,c=createBlock(Fragment,{key:(l&&!isSymbol(l)?l:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return!a&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function ensureValidVNode(e){return e.some(t=>isVNode$1(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn$1(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:o,accessCache:s,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const _=s[t];if(_!==void 0)switch(_){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(hasSetupBinding(r,t))return s[t]=1,r[t];if(a!==EMPTY_OBJ&&hasOwn$1(a,t))return s[t]=2,a[t];if((u=e.propsOptions[0])&&hasOwn$1(u,t))return s[t]=3,o[t];if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return s[t]=4,n[t];shouldCacheAccess&&(s[t]=0)}}const d=publicPropertiesMap[t];let f,m;if(d)return t==="$attrs"&&track(e.attrs,"get",""),d(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return s[t]=4,n[t];if(m=c.config.globalProperties,hasOwn$1(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:o}=e;return hasSetupBinding(a,t)?(a[t]=n,!0):r!==EMPTY_OBJ&&hasOwn$1(r,t)?(r[t]=n,!0):hasOwn$1(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:o}},s){let l;return!!n[s]||e!==EMPTY_OBJ&&hasOwn$1(e,s)||hasSetupBinding(t,s)||(l=o[0])&&hasOwn$1(l,s)||hasOwn$1(r,s)||hasOwn$1(publicPropertiesMap,s)||hasOwn$1(a.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function normalizePropsOrEmits(e){return isArray$2(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:s,watch:l,provide:c,inject:u,created:d,beforeMount:f,mounted:m,beforeUpdate:_,updated:g,activated:v,deactivated:b,beforeDestroy:y,beforeUnmount:S,destroyed:N,unmounted:x,render:C,renderTracked:B,renderTriggered:L,errorCaptured:F,serverPrefetch:z,expose:ee,inheritAttrs:W,components:O,directives:ne,filters:le}=t;if(u&&resolveInjections(u,r,null),s)for(const ue in s){const ce=s[ue];isFunction$2(ce)&&(r[ue]=ce.bind(n))}if(a){const ue=a.call(n,n);isObject$3(ue)&&(e.data=reactive(ue))}if(shouldCacheAccess=!0,o)for(const ue in o){const ce=o[ue],ye=isFunction$2(ce)?ce.bind(n,n):isFunction$2(ce.get)?ce.get.bind(n,n):NOOP,be=!isFunction$2(ce)&&isFunction$2(ce.set)?ce.set.bind(n):NOOP,Ee=computed({get:ye,set:be});Object.defineProperty(r,ue,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:H=>Ee.value=H})}if(l)for(const ue in l)createWatcher(l[ue],r,n,ue);if(c){const ue=isFunction$2(c)?c.call(n):c;Reflect.ownKeys(ue).forEach(ce=>{provide(ce,ue[ce])})}d&&callHook$1(d,e,"c");function _e(ue,ce){isArray$2(ce)?ce.forEach(ye=>ue(ye.bind(n))):ce&&ue(ce.bind(n))}if(_e(onBeforeMount,f),_e(onMounted,m),_e(onBeforeUpdate,_),_e(onUpdated,g),_e(onActivated,v),_e(onDeactivated,b),_e(onErrorCaptured,F),_e(onRenderTracked,B),_e(onRenderTriggered,L),_e(onBeforeUnmount,S),_e(onUnmounted,x),_e(onServerPrefetch,z),isArray$2(ee))if(ee.length){const ue=e.exposed||(e.exposed={});ee.forEach(ce=>{Object.defineProperty(ue,ce,{get:()=>n[ce],set:ye=>n[ce]=ye})})}else e.exposed||(e.exposed={});C&&e.render===NOOP&&(e.render=C),W!=null&&(e.inheritAttrs=W),O&&(e.components=O),ne&&(e.directives=ne),z&&markAsyncBoundary(e)}function resolveInjections(e,t,n=NOOP){isArray$2(e)&&(e=normalizeInject(e));for(const r in e){const a=e[r];let o;isObject$3(a)?"default"in a?o=inject(a.from||r,a.default,!0):o=inject(a.from||r):o=inject(a),isRef(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$2(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){let a=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$2(e)){const o=t[e];isFunction$2(o)&&watch(a,o)}else if(isFunction$2(e))watch(a,e.bind(n));else if(isObject$3(e))if(isArray$2(e))e.forEach(o=>createWatcher(o,t,n,r));else{const o=isFunction$2(e.handler)?e.handler.bind(n):t[e.handler];isFunction$2(o)&&watch(a,o,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let c;return l?c=l:!a.length&&!n&&!r?c=t:(c={},a.length&&a.forEach(u=>mergeOptions(c,u,s,!0)),mergeOptions(c,t,s)),isObject$3(t)&&o.set(t,c),c}function mergeOptions(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&mergeOptions(e,o,n,!0),a&&a.forEach(s=>mergeOptions(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const l=internalOptionMergeStrats[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$2(isFunction$2(e)?e.call(this,this):e,isFunction$2(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$2(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$2(e)&&isArray$2(t)?[...new Set([...e,...t])]:extend$2(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend$2(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(r,a=null){isFunction$2(r)||(r=extend$2({},r)),a!=null&&!isObject$3(a)&&(a=null);const o=createAppContext(),s=new WeakSet,l=[];let c=!1;const u=o.app={_uid:uid$1++,_component:r,_props:a,_container:null,_context:o,_instance:null,version:version$1,get config(){return o.config},set config(d){},use(d,...f){return s.has(d)||(d&&isFunction$2(d.install)?(s.add(d),d.install(u,...f)):isFunction$2(d)&&(s.add(d),d(u,...f))),u},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),u},component(d,f){return f?(o.components[d]=f,u):o.components[d]},directive(d,f){return f?(o.directives[d]=f,u):o.directives[d]},mount(d,f,m){if(!c){const _=u._ceVNode||createVNode(r,a);return _.appContext=o,m===!0?m="svg":m===!1&&(m=void 0),e(_,d,m),c=!0,u._container=d,d.__vue_app__=u,getComponentPublicInstance(_.component)}},onUnmount(d){l.push(d)},unmount(){c&&(callWithAsyncErrorHandling(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(d,f){return o.provides[d]=f,u},runWithContext(d){const f=currentApp;currentApp=u;try{return d()}finally{currentApp=f}}};return u}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject(e,t,n=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){const a=currentApp?currentApp._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&isFunction$2(t)?t.call(r&&r.proxy):t}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,n,r=!1){const a={},o=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,a,o);for(const s in e.propsOptions[0])s in a||(a[s]=void 0);n?e.props=r?a:shallowReactive(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function updateProps(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:s}}=e,l=toRaw(a),[c]=e.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let m=d[f];if(isEmitListener(e.emitsOptions,m))continue;const _=t[m];if(c)if(hasOwn$1(o,m))_!==o[m]&&(o[m]=_,u=!0);else{const g=camelize(m);a[g]=resolvePropValue(c,l,g,_,e,!1)}else _!==o[m]&&(o[m]=_,u=!0)}}}else{setFullProps(e,t,a,o)&&(u=!0);let d;for(const f in l)(!t||!hasOwn$1(t,f)&&((d=hyphenate(f))===f||!hasOwn$1(t,d)))&&(c?n&&(n[f]!==void 0||n[d]!==void 0)&&(a[f]=resolvePropValue(c,l,f,void 0,e,!0)):delete a[f]);if(o!==l)for(const f in o)(!t||!hasOwn$1(t,f))&&(delete o[f],u=!0)}u&&trigger(e.attrs,"set","")}function setFullProps(e,t,n,r){const[a,o]=e.propsOptions;let s=!1,l;if(t)for(let c in t){if(isReservedProp(c))continue;const u=t[c];let d;a&&hasOwn$1(a,d=camelize(c))?!o||!o.includes(d)?n[d]=u:(l||(l={}))[d]=u:isEmitListener(e.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,s=!0)}if(o){const c=toRaw(n),u=l||EMPTY_OBJ;for(let d=0;d<o.length;d++){const f=o[d];n[f]=resolvePropValue(a,c,f,u[f],e,!hasOwn$1(u,f))}}return s}function resolvePropValue(e,t,n,r,a,o){const s=e[n];if(s!=null){const l=hasOwn$1(s,"default");if(l&&r===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&isFunction$2(c)){const{propsDefaults:u}=a;if(n in u)r=u[n];else{const d=setCurrentInstance(a);r=u[n]=c.call(null,t),d()}}else r=c;a.ce&&a.ce._setProp(n,r)}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,n=!1){const r=n?mixinPropsCache:t.propsCache,a=r.get(e);if(a)return a;const o=e.props,s={},l=[];let c=!1;if(!isFunction$2(e)){const d=f=>{c=!0;const[m,_]=normalizePropsOptions(f,t,!0);extend$2(s,m),_&&l.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!c)return isObject$3(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(o))for(let d=0;d<o.length;d++){const f=camelize(o[d]);validatePropName(f)&&(s[f]=EMPTY_OBJ)}else if(o)for(const d in o){const f=camelize(d);if(validatePropName(f)){const m=o[d],_=s[f]=isArray$2(m)||isFunction$2(m)?{type:m}:extend$2({},m),g=_.type;let v=!1,b=!0;if(isArray$2(g))for(let y=0;y<g.length;++y){const S=g[y],N=isFunction$2(S)&&S.name;if(N==="Boolean"){v=!0;break}else N==="String"&&(b=!1)}else v=isFunction$2(g)&&g.name==="Boolean";_[0]=v,_[1]=b,(v||hasOwn$1(_,"default"))&&l.push(f)}}const u=[s,l];return isObject$3(e)&&r.set(e,u),u}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const r=withCtx((...a)=>normalizeSlotValue(t(...a)),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const a in e){if(isInternalKey(a))continue;const o=e[a];if(isFunction$2(o))t[a]=normalizeSlot(a,o,r);else if(o!=null){const s=normalizeSlotValue(o);t[a]=()=>s}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},assignSlots=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},initSlots=(e,t,n)=>{const r=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const a=t._;a?(assignSlots(r,t,n),n&&def(r,"_",a,!0)):normalizeObjectSlots(t,r)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,n)=>{const{vnode:r,slots:a}=e;let o=!0,s=EMPTY_OBJ;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:assignSlots(a,t,n):(o=!t.$stable,normalizeObjectSlots(t,a)),s=t}else t&&(normalizeVNodeSlots(e,t),s={default:1});if(o)for(const l in a)!isInternalKey(l)&&s[l]==null&&delete a[l]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis$1();n.__VUE__=!0;const{insert:r,remove:a,patchProp:o,createElement:s,createText:l,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:m,setScopeId:_=NOOP,insertStaticContent:g}=e,v=(T,E,I,U=null,K=null,Z=null,w=void 0,$=null,D=!!E.dynamicChildren)=>{if(T===E)return;T&&!isSameVNodeType(T,E)&&(U=te(T),H(T,K,Z,!0),T=null),E.patchFlag===-2&&(D=!1,E.dynamicChildren=null);const{type:j,ref:J,shapeFlag:P}=E;switch(j){case Text:b(T,E,I,U);break;case Comment:y(T,E,I,U);break;case Static:T==null&&S(E,I,U,w);break;case Fragment:O(T,E,I,U,K,Z,w,$,D);break;default:P&1?C(T,E,I,U,K,Z,w,$,D):P&6?ne(T,E,I,U,K,Z,w,$,D):(P&64||P&128)&&j.process(T,E,I,U,K,Z,w,$,D,ie)}J!=null&&K&&setRef(J,T&&T.ref,Z,E||T,!E)},b=(T,E,I,U)=>{if(T==null)r(E.el=l(E.children),I,U);else{const K=E.el=T.el;E.children!==T.children&&u(K,E.children)}},y=(T,E,I,U)=>{T==null?r(E.el=c(E.children||""),I,U):E.el=T.el},S=(T,E,I,U)=>{[T.el,T.anchor]=g(T.children,E,I,U,T.el,T.anchor)},N=({el:T,anchor:E},I,U)=>{let K;for(;T&&T!==E;)K=m(T),r(T,I,U),T=K;r(E,I,U)},x=({el:T,anchor:E})=>{let I;for(;T&&T!==E;)I=m(T),a(T),T=I;a(E)},C=(T,E,I,U,K,Z,w,$,D)=>{E.type==="svg"?w="svg":E.type==="math"&&(w="mathml"),T==null?B(E,I,U,K,Z,w,$,D):z(T,E,K,Z,w,$,D)},B=(T,E,I,U,K,Z,w,$)=>{let D,j;const{props:J,shapeFlag:P,transition:k,dirs:Y}=T;if(D=T.el=s(T.type,Z,J&&J.is,J),P&8?d(D,T.children):P&16&&F(T.children,D,null,U,K,resolveChildrenNamespace(T,Z),w,$),Y&&invokeDirectiveHook(T,null,U,"created"),L(D,T,T.scopeId,w,U),J){for(const me in J)me!=="value"&&!isReservedProp(me)&&o(D,me,null,J[me],Z,U);"value"in J&&o(D,"value",null,J.value,Z),(j=J.onVnodeBeforeMount)&&invokeVNodeHook(j,U,T)}Y&&invokeDirectiveHook(T,null,U,"beforeMount");const de=needTransition(K,k);de&&k.beforeEnter(D),r(D,E,I),((j=J&&J.onVnodeMounted)||de||Y)&&queuePostRenderEffect(()=>{j&&invokeVNodeHook(j,U,T),de&&k.enter(D),Y&&invokeDirectiveHook(T,null,U,"mounted")},K)},L=(T,E,I,U,K)=>{if(I&&_(T,I),U)for(let Z=0;Z<U.length;Z++)_(T,U[Z]);if(K){let Z=K.subTree;if(E===Z||isSuspense(Z.type)&&(Z.ssContent===E||Z.ssFallback===E)){const w=K.vnode;L(T,w,w.scopeId,w.slotScopeIds,K.parent)}}},F=(T,E,I,U,K,Z,w,$,D=0)=>{for(let j=D;j<T.length;j++){const J=T[j]=$?cloneIfMounted(T[j]):normalizeVNode(T[j]);v(null,J,E,I,U,K,Z,w,$)}},z=(T,E,I,U,K,Z,w)=>{const $=E.el=T.el;let{patchFlag:D,dynamicChildren:j,dirs:J}=E;D|=T.patchFlag&16;const P=T.props||EMPTY_OBJ,k=E.props||EMPTY_OBJ;let Y;if(I&&toggleRecurse(I,!1),(Y=k.onVnodeBeforeUpdate)&&invokeVNodeHook(Y,I,E,T),J&&invokeDirectiveHook(E,T,I,"beforeUpdate"),I&&toggleRecurse(I,!0),(P.innerHTML&&k.innerHTML==null||P.textContent&&k.textContent==null)&&d($,""),j?ee(T.dynamicChildren,j,$,I,U,resolveChildrenNamespace(E,K),Z):w||ce(T,E,$,null,I,U,resolveChildrenNamespace(E,K),Z,!1),D>0){if(D&16)W($,P,k,I,K);else if(D&2&&P.class!==k.class&&o($,"class",null,k.class,K),D&4&&o($,"style",P.style,k.style,K),D&8){const de=E.dynamicProps;for(let me=0;me<de.length;me++){const $e=de[me],Ve=P[$e],Re=k[$e];(Re!==Ve||$e==="value")&&o($,$e,Ve,Re,K,I)}}D&1&&T.children!==E.children&&d($,E.children)}else!w&&j==null&&W($,P,k,I,K);((Y=k.onVnodeUpdated)||J)&&queuePostRenderEffect(()=>{Y&&invokeVNodeHook(Y,I,E,T),J&&invokeDirectiveHook(E,T,I,"updated")},U)},ee=(T,E,I,U,K,Z,w)=>{for(let $=0;$<E.length;$++){const D=T[$],j=E[$],J=D.el&&(D.type===Fragment||!isSameVNodeType(D,j)||D.shapeFlag&70)?f(D.el):I;v(D,j,J,null,U,K,Z,w,!0)}},W=(T,E,I,U,K)=>{if(E!==I){if(E!==EMPTY_OBJ)for(const Z in E)!isReservedProp(Z)&&!(Z in I)&&o(T,Z,E[Z],null,K,U);for(const Z in I){if(isReservedProp(Z))continue;const w=I[Z],$=E[Z];w!==$&&Z!=="value"&&o(T,Z,$,w,K,U)}"value"in I&&o(T,"value",E.value,I.value,K)}},O=(T,E,I,U,K,Z,w,$,D)=>{const j=E.el=T?T.el:l(""),J=E.anchor=T?T.anchor:l("");let{patchFlag:P,dynamicChildren:k,slotScopeIds:Y}=E;Y&&($=$?$.concat(Y):Y),T==null?(r(j,I,U),r(J,I,U),F(E.children||[],I,J,K,Z,w,$,D)):P>0&&P&64&&k&&T.dynamicChildren?(ee(T.dynamicChildren,k,I,K,Z,w,$),(E.key!=null||K&&E===K.subTree)&&traverseStaticChildren(T,E,!0)):ce(T,E,I,J,K,Z,w,$,D)},ne=(T,E,I,U,K,Z,w,$,D)=>{E.slotScopeIds=$,T==null?E.shapeFlag&512?K.ctx.activate(E,I,U,w,D):le(E,I,U,K,Z,w,D):Se(T,E,D)},le=(T,E,I,U,K,Z,w)=>{const $=T.component=createComponentInstance(T,U,K);if(isKeepAlive(T)&&($.ctx.renderer=ie),setupComponent($,!1,w),$.asyncDep){if(K&&K.registerDep($,_e,w),!T.el){const D=$.subTree=createVNode(Comment);y(null,D,E,I)}}else _e($,T,E,I,K,Z,w)},Se=(T,E,I)=>{const U=E.component=T.component;if(shouldUpdateComponent(T,E,I))if(U.asyncDep&&!U.asyncResolved){ue(U,E,I);return}else U.next=E,U.update();else E.el=T.el,U.vnode=E},_e=(T,E,I,U,K,Z,w)=>{const $=()=>{if(T.isMounted){let{next:P,bu:k,u:Y,parent:de,vnode:me}=T;{const De=locateNonHydratedAsyncRoot(T);if(De){P&&(P.el=me.el,ue(T,P,w)),De.asyncDep.then(()=>{T.isUnmounted||$()});return}}let $e=P,Ve;toggleRecurse(T,!1),P?(P.el=me.el,ue(T,P,w)):P=me,k&&invokeArrayFns(k),(Ve=P.props&&P.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ve,de,P,me),toggleRecurse(T,!0);const Re=renderComponentRoot(T),ze=T.subTree;T.subTree=Re,v(ze,Re,f(ze.el),te(ze),T,K,Z),P.el=Re.el,$e===null&&updateHOCHostEl(T,Re.el),Y&&queuePostRenderEffect(Y,K),(Ve=P.props&&P.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ve,de,P,me),K)}else{let P;const{el:k,props:Y}=E,{bm:de,m:me,parent:$e,root:Ve,type:Re}=T,ze=isAsyncWrapper(E);toggleRecurse(T,!1),de&&invokeArrayFns(de),!ze&&(P=Y&&Y.onVnodeBeforeMount)&&invokeVNodeHook(P,$e,E),toggleRecurse(T,!0);{Ve.ce&&Ve.ce._injectChildStyle(Re);const De=T.subTree=renderComponentRoot(T);v(null,De,I,U,T,K,Z),E.el=De.el}if(me&&queuePostRenderEffect(me,K),!ze&&(P=Y&&Y.onVnodeMounted)){const De=E;queuePostRenderEffect(()=>invokeVNodeHook(P,$e,De),K)}(E.shapeFlag&256||$e&&isAsyncWrapper($e.vnode)&&$e.vnode.shapeFlag&256)&&T.a&&queuePostRenderEffect(T.a,K),T.isMounted=!0,E=I=U=null}};T.scope.on();const D=T.effect=new ReactiveEffect($);T.scope.off();const j=T.update=D.run.bind(D),J=T.job=D.runIfDirty.bind(D);J.i=T,J.id=T.uid,D.scheduler=()=>queueJob(J),toggleRecurse(T,!0),j()},ue=(T,E,I)=>{E.component=T;const U=T.vnode.props;T.vnode=E,T.next=null,updateProps(T,E.props,U,I),updateSlots(T,E.children,I),pauseTracking(),flushPreFlushCbs(T),resetTracking()},ce=(T,E,I,U,K,Z,w,$,D=!1)=>{const j=T&&T.children,J=T?T.shapeFlag:0,P=E.children,{patchFlag:k,shapeFlag:Y}=E;if(k>0){if(k&128){be(j,P,I,U,K,Z,w,$,D);return}else if(k&256){ye(j,P,I,U,K,Z,w,$,D);return}}Y&8?(J&16&&G(j,K,Z),P!==j&&d(I,P)):J&16?Y&16?be(j,P,I,U,K,Z,w,$,D):G(j,K,Z,!0):(J&8&&d(I,""),Y&16&&F(P,I,U,K,Z,w,$,D))},ye=(T,E,I,U,K,Z,w,$,D)=>{T=T||EMPTY_ARR,E=E||EMPTY_ARR;const j=T.length,J=E.length,P=Math.min(j,J);let k;for(k=0;k<P;k++){const Y=E[k]=D?cloneIfMounted(E[k]):normalizeVNode(E[k]);v(T[k],Y,I,null,K,Z,w,$,D)}j>J?G(T,K,Z,!0,!1,P):F(E,I,U,K,Z,w,$,D,P)},be=(T,E,I,U,K,Z,w,$,D)=>{let j=0;const J=E.length;let P=T.length-1,k=J-1;for(;j<=P&&j<=k;){const Y=T[j],de=E[j]=D?cloneIfMounted(E[j]):normalizeVNode(E[j]);if(isSameVNodeType(Y,de))v(Y,de,I,null,K,Z,w,$,D);else break;j++}for(;j<=P&&j<=k;){const Y=T[P],de=E[k]=D?cloneIfMounted(E[k]):normalizeVNode(E[k]);if(isSameVNodeType(Y,de))v(Y,de,I,null,K,Z,w,$,D);else break;P--,k--}if(j>P){if(j<=k){const Y=k+1,de=Y<J?E[Y].el:U;for(;j<=k;)v(null,E[j]=D?cloneIfMounted(E[j]):normalizeVNode(E[j]),I,de,K,Z,w,$,D),j++}}else if(j>k)for(;j<=P;)H(T[j],K,Z,!0),j++;else{const Y=j,de=j,me=new Map;for(j=de;j<=k;j++){const Ue=E[j]=D?cloneIfMounted(E[j]):normalizeVNode(E[j]);Ue.key!=null&&me.set(Ue.key,j)}let $e,Ve=0;const Re=k-de+1;let ze=!1,De=0;const Ke=new Array(Re);for(j=0;j<Re;j++)Ke[j]=0;for(j=Y;j<=P;j++){const Ue=T[j];if(Ve>=Re){H(Ue,K,Z,!0);continue}let Pe;if(Ue.key!=null)Pe=me.get(Ue.key);else for($e=de;$e<=k;$e++)if(Ke[$e-de]===0&&isSameVNodeType(Ue,E[$e])){Pe=$e;break}Pe===void 0?H(Ue,K,Z,!0):(Ke[Pe-de]=j+1,Pe>=De?De=Pe:ze=!0,v(Ue,E[Pe],I,null,K,Z,w,$,D),Ve++)}const Qe=ze?getSequence(Ke):EMPTY_ARR;for($e=Qe.length-1,j=Re-1;j>=0;j--){const Ue=de+j,Pe=E[Ue],rt=Ue+1<J?E[Ue+1].el:U;Ke[j]===0?v(null,Pe,I,rt,K,Z,w,$,D):ze&&($e<0||j!==Qe[$e]?Ee(Pe,I,rt,2):$e--)}}},Ee=(T,E,I,U,K=null)=>{const{el:Z,type:w,transition:$,children:D,shapeFlag:j}=T;if(j&6){Ee(T.component.subTree,E,I,U);return}if(j&128){T.suspense.move(E,I,U);return}if(j&64){w.move(T,E,I,ie);return}if(w===Fragment){r(Z,E,I);for(let P=0;P<D.length;P++)Ee(D[P],E,I,U);r(T.anchor,E,I);return}if(w===Static){N(T,E,I);return}if(U!==2&&j&1&&$)if(U===0)$.beforeEnter(Z),r(Z,E,I),queuePostRenderEffect(()=>$.enter(Z),K);else{const{leave:P,delayLeave:k,afterLeave:Y}=$,de=()=>r(Z,E,I),me=()=>{P(Z,()=>{de(),Y&&Y()})};k?k(Z,de,me):me()}else r(Z,E,I)},H=(T,E,I,U=!1,K=!1)=>{const{type:Z,props:w,ref:$,children:D,dynamicChildren:j,shapeFlag:J,patchFlag:P,dirs:k,cacheIndex:Y}=T;if(P===-2&&(K=!1),$!=null&&setRef($,null,I,T,!0),Y!=null&&(E.renderCache[Y]=void 0),J&256){E.ctx.deactivate(T);return}const de=J&1&&k,me=!isAsyncWrapper(T);let $e;if(me&&($e=w&&w.onVnodeBeforeUnmount)&&invokeVNodeHook($e,E,T),J&6)M(T.component,I,U);else{if(J&128){T.suspense.unmount(I,U);return}de&&invokeDirectiveHook(T,null,E,"beforeUnmount"),J&64?T.type.remove(T,E,I,ie,U):j&&!j.hasOnce&&(Z!==Fragment||P>0&&P&64)?G(j,E,I,!1,!0):(Z===Fragment&&P&384||!K&&J&16)&&G(D,E,I),U&&R(T)}(me&&($e=w&&w.onVnodeUnmounted)||de)&&queuePostRenderEffect(()=>{$e&&invokeVNodeHook($e,E,T),de&&invokeDirectiveHook(T,null,E,"unmounted")},I)},R=T=>{const{type:E,el:I,anchor:U,transition:K}=T;if(E===Fragment){A(I,U);return}if(E===Static){x(T);return}const Z=()=>{a(I),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(T.shapeFlag&1&&K&&!K.persisted){const{leave:w,delayLeave:$}=K,D=()=>w(I,Z);$?$(T.el,Z,D):D()}else Z()},A=(T,E)=>{let I;for(;T!==E;)I=m(T),a(T),T=I;a(E)},M=(T,E,I)=>{const{bum:U,scope:K,job:Z,subTree:w,um:$,m:D,a:j}=T;invalidateMount(D),invalidateMount(j),U&&invokeArrayFns(U),K.stop(),Z&&(Z.flags|=8,H(w,T,E,I)),$&&queuePostRenderEffect($,E),queuePostRenderEffect(()=>{T.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},G=(T,E,I,U=!1,K=!1,Z=0)=>{for(let w=Z;w<T.length;w++)H(T[w],E,I,U,K)},te=T=>{if(T.shapeFlag&6)return te(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const E=m(T.anchor||T.el),I=E&&E[TeleportEndKey];return I?m(I):E};let ge=!1;const ae=(T,E,I)=>{T==null?E._vnode&&H(E._vnode,null,null,!0):v(E._vnode||null,T,E,null,null,null,I),E._vnode=T,ge||(ge=!0,flushPreFlushCbs(),flushPostFlushCbs(),ge=!1)},ie={p:v,um:H,m:Ee,r:R,mt:le,mc:F,pc:ce,pbc:ee,n:te,o:e};return{render:ae,hydrate:void 0,createApp:createAppAPI(ae)}}function resolveChildrenNamespace({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const r=e.children,a=t.children;if(isArray$2(r)&&isArray$2(a))for(let o=0;o<r.length;o++){const s=r[o];let l=a[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[o]=cloneIfMounted(a[o]),l.el=s.el),!n&&l.patchFlag!==-2&&traverseStaticChildren(s,l)),l.type===Text&&(l.el=s.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,a,o,s,l;const c=e.length;for(r=0;r<c;r++){const u=e[r];if(u!==0){if(a=n[n.length-1],e[a]<u){t[r]=a,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,e[n[l]]<u?o=l+1:s=l;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,n=EMPTY_OBJ){const{immediate:r,deep:a,flush:o,once:s}=n,l=extend$2({},n),c=t&&r||!t&&o!=="post";let u;if(isInSSRComponentSetup){if(o==="sync"){const _=useSSRContext();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=NOOP,_.resume=NOOP,_.pause=NOOP,_}}const d=currentInstance;l.call=(_,g,v)=>callWithAsyncErrorHandling(_,d,g,v);let f=!1;o==="post"?l.scheduler=_=>{queuePostRenderEffect(_,d&&d.suspense)}:o!=="sync"&&(f=!0,l.scheduler=(_,g)=>{g?_():queueJob(_)}),l.augmentJob=_=>{t&&(_.flags|=4),f&&(_.flags|=2,d&&(_.id=d.uid,_.i=d))};const m=watch$1(e,t,l);return isInSSRComponentSetup&&(u?u.push(m):c&&m()),m}function instanceWatch(e,t,n){const r=this.proxy,a=isString$2(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let o;isFunction$2(t)?o=t:(o=t.handler,n=t);const s=setCurrentInstance(this),l=doWatch(a,o.bind(r),n);return s(),l}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let a=n;const o=t.startsWith("update:"),s=o&&getModelModifiers(r,t.slice(7));s&&(s.trim&&(a=n.map(d=>isString$2(d)?d.trim():d)),s.number&&(a=n.map(looseToNumber)));let l,c=r[l=toHandlerKey(t)]||r[l=toHandlerKey(camelize(t))];!c&&o&&(c=r[l=toHandlerKey(hyphenate(t))]),c&&callWithAsyncErrorHandling(c,e,6,a);const u=r[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,callWithAsyncErrorHandling(u,e,6,a)}}function normalizeEmitsOptions(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const o=e.emits;let s={},l=!1;if(!isFunction$2(e)){const c=u=>{const d=normalizeEmitsOptions(u,t,!0);d&&(l=!0,extend$2(s,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(isObject$3(e)&&r.set(e,null),null):(isArray$2(o)?o.forEach(c=>s[c]=null):extend$2(s,o),isObject$3(e)&&r.set(e,s),s)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(e,t[0].toLowerCase()+t.slice(1))||hasOwn$1(e,hyphenate(t))||hasOwn$1(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[o],slots:s,attrs:l,emit:c,render:u,renderCache:d,props:f,data:m,setupState:_,ctx:g,inheritAttrs:v}=e,b=setCurrentRenderingInstance(e);let y,S;try{if(n.shapeFlag&4){const x=a||r,C=x;y=normalizeVNode(u.call(C,x,d,f,_,m,g)),S=l}else{const x=t;y=normalizeVNode(x.length>1?x(f,{attrs:l,slots:s,emit:c}):x(f,null)),S=t.props?l:getFunctionalFallthrough(l)}}catch(x){blockStack.length=0,handleError(x,e,1),y=createVNode(Comment)}let N=y;if(S&&v!==!1){const x=Object.keys(S),{shapeFlag:C}=N;x.length&&C&7&&(o&&x.some(isModelListener)&&(S=filterModelListeners(S,o)),N=cloneVNode(N,S,!1,!0))}return n.dirs&&(N=cloneVNode(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(N,n.transition),y=N,setCurrentRenderingInstance(b),y}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:a,component:o}=e,{props:s,children:l,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?hasPropsChanged(r,s,u):!!s;if(c&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const m=d[f];if(s[m]!==r[m]&&!isEmitListener(u,m))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?hasPropsChanged(r,s,u):!0:!!s;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$2(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,a,o){return setupBlock(createBaseVNode(e,t,n,r,a,o,!0))}function createBlock(e,t,n,r,a){return setupBlock(createVNode(e,t,n,r,a,!0))}function isVNode$1(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString$2(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,r=0,a=null,o=e===Fragment?0:1,s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=isString$2(n)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&currentBlock.push(c),c}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,a=null,o=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode$1(e)){const l=cloneVNode(e,t,!0);return n&&normalizeChildren(l,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=l:currentBlock.push(l)),l.patchFlag=-2,l}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:l,style:c}=t;l&&!isString$2(l)&&(t.class=normalizeClass(l)),isObject$3(c)&&(isProxy(c)&&!isArray$2(c)&&(c=extend$2({},c)),t.style=normalizeStyle(c))}const s=isString$2(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$3(e)?4:isFunction$2(e)?2:0;return createBaseVNode(e,t,n,r,a,s,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend$2({},e):e:null}function cloneVNode(e,t,n=!1,r=!1){const{props:a,ref:o,patchFlag:s,children:l,transition:c}=e,u=t?mergeProps(a||{},t):a,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&normalizeKey(u),ref:t&&t.ref?n&&o?isArray$2(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&setTransitionHooks(d,c.clone(d)),d}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):isVNode$1(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray$2(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),normalizeChildren(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!isInternalObject(t)?t._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if(a==="style")t.style=normalizeStyle([t.style,r.style]);else if(isOn(a)){const o=t[a],s=r[a];s&&o!==s&&!(isArray$2(o)&&o.includes(s))&&(t[a]=o?[].concat(o,s):s)}else a!==""&&(t[a]=r[a])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,a),emitsOptions:normalizeEmitsOptions(r,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis$1(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),o=>{a.length>1?a.forEach(s=>s(o)):a[0](o)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,n=!1){t&&setInSSRSetupState(t);const{props:r,children:a}=e.vnode,o=isStatefulComponent(e);initProps(e,r,o,t),initSlots(e,a,n);const s=o?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),s}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:r}=n;if(r){pauseTracking();const a=e.setupContext=r.length>1?createSetupContext(e):null,o=setCurrentInstance(e),s=callWithErrorHandling(r,e,0,[e.props,a]),l=isPromise$1(s);if(resetTracking(),o(),(l||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),l){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(c=>{handleSetupResult(e,c)}).catch(c=>{handleError(c,e,0)});e.asyncDep=s}else handleSetupResult(e,s)}else finishComponentSetup(e)}function handleSetupResult(e,t,n){isFunction$2(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$3(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,n){const r=e.type;e.render||(e.render=r.render||NOOP);{const a=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),a()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$2(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let r=getComponentName(t);if(!r&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(r=a[1])}if(!r&&e&&e.parent){const a=o=>{for(const s in o)if(o[s]===t)return s};r=a(e.components||e.parent.type.components)||a(e.appContext.components)}return r?classify(r):n?"App":"Anonymous"}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const r=arguments.length;return r===2?isObject$3(t)&&!isArray$2(t)?isVNode$1(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode$1(n)&&(n=[n]),createVNode(e,t,n))}const version$1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):n?doc.createElement(e,{is:n}):doc.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const s=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=templateContainer.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$2({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=e=>(e.displayName="Transition",e.props=TransitionPropsValidators,e),Transition=decorate$1((e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t)),callHook=(e,t=[])=>{isArray$2(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$2(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const O in e)O in DOMTransitionPropsValidators||(t[O]=e[O]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=e,g=normalizeDuration(a),v=g&&g[0],b=g&&g[1],{onBeforeEnter:y,onEnter:S,onEnterCancelled:N,onLeave:x,onLeaveCancelled:C,onBeforeAppear:B=y,onAppear:L=S,onAppearCancelled:F=N}=t,z=(O,ne,le,Se)=>{O._enterCancelled=Se,removeTransitionClass(O,ne?d:l),removeTransitionClass(O,ne?u:s),le&&le()},ee=(O,ne)=>{O._isLeaving=!1,removeTransitionClass(O,f),removeTransitionClass(O,_),removeTransitionClass(O,m),ne&&ne()},W=O=>(ne,le)=>{const Se=O?L:S,_e=()=>z(ne,O,le);callHook(Se,[ne,_e]),nextFrame(()=>{removeTransitionClass(ne,O?c:o),addTransitionClass(ne,O?d:l),hasExplicitCallback(Se)||whenTransitionEnds(ne,r,v,_e)})};return extend$2(t,{onBeforeEnter(O){callHook(y,[O]),addTransitionClass(O,o),addTransitionClass(O,s)},onBeforeAppear(O){callHook(B,[O]),addTransitionClass(O,c),addTransitionClass(O,u)},onEnter:W(!1),onAppear:W(!0),onLeave(O,ne){O._isLeaving=!0;const le=()=>ee(O,ne);addTransitionClass(O,f),O._enterCancelled?(addTransitionClass(O,m),forceReflow()):(forceReflow(),addTransitionClass(O,m)),nextFrame(()=>{O._isLeaving&&(removeTransitionClass(O,f),addTransitionClass(O,_),hasExplicitCallback(x)||whenTransitionEnds(O,r,b,le))}),callHook(x,[O,le])},onEnterCancelled(O){z(O,!1,void 0,!0),callHook(N,[O])},onAppearCancelled(O){z(O,!0,void 0,!0),callHook(F,[O])},onLeaveCancelled(O){ee(O),callHook(C,[O])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$3(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vtcKey]||(e[vtcKey]=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[vtcKey];n&&(n.delete(t),n.size||(e[vtcKey]=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,r){const a=e._endId=++endId,o=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:s,timeout:l,propCount:c}=getTransitionInfo(e,t);if(!s)return r();const u=s+"end";let d=0;const f=()=>{e.removeEventListener(u,m),o()},m=_=>{_.target===e&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},l+1),e.addEventListener(u,m)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),a=r(`${TRANSITION}Delay`),o=r(`${TRANSITION}Duration`),s=getTimeout(a,o),l=r(`${ANIMATION}Delay`),c=r(`${ANIMATION}Duration`),u=getTimeout(l,c);let d=null,f=0,m=0;t===TRANSITION?s>0&&(d=TRANSITION,f=s,m=o.length):t===ANIMATION?u>0&&(d=ANIMATION,f=u,m=c.length):(f=Math.max(s,u),d=f>0?s>u?TRANSITION:ANIMATION:null,m=d?d===TRANSITION?o.length:c.length:0);const _=d===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:d,timeout:f,propCount:m,hasTransform:_}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>toMs(n)+toMs(e[r])))}function toMs(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(e,t,n){const r=e[vtcKey];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(e,{value:t},{transition:n}){e[vShowOriginalDisplay]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),setDisplay(e,!0),r.enter(e)):r.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOriginalDisplay]:"none",e[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,n){const r=e.style,a=isString$2(n);let o=!1;if(n&&!a){if(t)if(isString$2(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&setStyle(r,l,"")}else for(const s in t)n[s]==null&&setStyle(r,s,"");for(const s in n)s==="display"&&(o=!0),setStyle(r,s,n[s])}else if(a){if(t!==n){const s=r[CSS_VAR_TEXT];s&&(n+=";"+s),r.cssText=n,o=displayRE.test(n)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=o?r.display:"",e[vShowHidden]&&(r.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$2(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize$1(r);for(let a=0;a<prefixes.length;a++){const o=prefixes[a]+r;if(o in e)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,a,o=isSpecialBooleanAttr(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n):n==null||o&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":isSymbol(n)?String(n):n)}function patchDOMProp(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=includeBooleanAttr(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(a||t)}function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,r,a=null){const o=e[veiKey]||(e[veiKey]={}),s=o[t];if(r&&s)s.value=r;else{const[l,c]=parseName(t);if(r){const u=o[t]=createInvoker(r,a);addEventListener(e,l,u,c)}else s&&(removeEventListener(e,l,s,c),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$2(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,r,a,o)=>{const s=a==="svg";t==="class"?patchClass(e,r,s):t==="style"?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,s))?(patchDOMProp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString$2(r))?patchDOMProp(e,camelize(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,s))};function shouldSetAsProp(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction$2(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return isNativeOn(t)&&isString$2(n)?!1:t in e}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$2(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[assignKey]=getModelAssigner(a);const o=r||a.props&&a.props.type==="number";addEventListener(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=looseToNumber(l)),e[assignKey](l)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:o}},s){if(e[assignKey]=getModelAssigner(s),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===c)||(e.value=c))}},vModelCheckbox={deep:!0,created(e,t,n){e[assignKey]=getModelAssigner(n),addEventListener(e,"change",()=>{const r=e._modelValue,a=getValue(e),o=e.checked,s=e[assignKey];if(isArray$2(r)){const l=looseIndexOf(r,a),c=l!==-1;if(o&&!c)s(r.concat(a));else if(!o&&c){const u=[...r];u.splice(l,1),s(u)}}else if(isSet(r)){const l=new Set(r);o?l.add(a):l.delete(a),s(l)}else s(getCheckboxValue(e,o))})},mounted:setChecked,beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},r){e._modelValue=t;let a;if(isArray$2(t))a=looseIndexOf(t,r.props.value)>-1;else if(isSet(t))a=t.has(r.props.value);else{if(t===n)return;a=looseEqual(t,getCheckboxValue(e,!0))}e.checked!==a&&(e.checked=a)}const vModelRadio={created(e,{value:t},n){e.checked=looseEqual(t,n.props.value),e[assignKey]=getModelAssigner(n),addEventListener(e,"change",()=>{e[assignKey](getValue(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[assignKey]=getModelAssigner(r),t!==n&&(e.checked=looseEqual(t,r.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const a=isSet(t);addEventListener(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?looseToNumber(getValue(s)):getValue(s));e[assignKey](e.multiple?a?new Set(o):o:o[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(r)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n)},updated(e,{value:t}){e._assigning||setSelected(e,t)}};function setSelected(e,t){const n=e.multiple,r=isArray$2(t);if(!(n&&!r&&!isSet(t))){for(let a=0,o=e.options.length;a<o;a++){const s=e.options[a],l=getValue(s);if(n)if(r){const c=typeof l;c==="string"||c==="number"?s.selected=t.some(u=>String(u)===String(l)):s.selected=looseIndexOf(t,l)>-1}else s.selected=t.has(l);else if(looseEqual(getValue(s),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const vModelDynamic={created(e,t,n){callModelHook(e,t,n,null,"created")},mounted(e,t,n){callModelHook(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){callModelHook(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){callModelHook(e,t,n,r,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,n,r,a){const s=resolveDynamicModel(e.tagName,n.props&&n.props.type)[a];s&&s(e,t,n,r)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...o)=>{for(let s=0;s<t.length;s++){const l=modifierGuards[t[s]];if(l&&l(a,t))return}return e(a,...o)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const o=hyphenate(a.key);if(t.some(s=>s===o||keyNames[s]===o))return e(a)})},rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...e)=>{ensureRenderer().render(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=normalizeContainer(r);if(!a)return;const o=t._component;!isFunction$2(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const s=n(a,!1,resolveRootNamespace(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString$2(e)?document.querySelector(e):e}/*!
  * shared v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",makeSymbol=(e,t=!1)=>t?Symbol.for(e):Symbol(e),generateFormatCacheKey=(e,t,n)=>friendlyJSONstringify({l:e,k:t,s:n}),friendlyJSONstringify=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber$1=e=>typeof e=="number"&&isFinite(e),isDate$1=e=>toTypeString(e)==="[object Date]",isRegExp$1=e=>toTypeString(e)==="[object RegExp]",isEmptyObject=e=>isPlainObject$2(e)&&Object.keys(e).length===0,assign$1=Object.assign,_create=Object.create,create=(e=null)=>_create(e);let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:create());function escapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty$1=Object.prototype.hasOwnProperty;function hasOwn(e,t){return hasOwnProperty$1.call(e,t)}const isArray$1=Array.isArray,isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isBoolean$2=e=>typeof e=="boolean",isObject$2=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$2(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),isPlainObject$2=e=>toTypeString(e)==="[object Object]",toDisplayString=e=>e==null?"":isArray$1(e)||isPlainObject$2(e)&&e.toString===objectToString?JSON.stringify(e,null,2):String(e);function join(e,t=""){return e.reduce((n,r,a)=>a===0?n+r:n+t+r,"")}function warn(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const isNotObjectOrIsArray=e=>!isObject$2(e)||isArray$1(e);function deepCopy(e,t){if(isNotObjectOrIsArray(e)||isNotObjectOrIsArray(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:a}=n.pop();Object.keys(r).forEach(o=>{o!=="__proto__"&&(isObject$2(r[o])&&!isObject$2(a[o])&&(a[o]=Array.isArray(r[o])?[]:create()),isNotObjectOrIsArray(a[o])||isNotObjectOrIsArray(r[o])?a[o]=r[o]:n.push({src:r[o],des:a[o]}))})}}/*!
  * message-compiler v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(e,t,n){return{line:e,column:t,offset:n}}function createLocation(e,t,n){return{start:e,end:t}}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},COMPILE_ERROR_CODES_EXTEND_POINT=17;function createCompileError(e,t,n={}){const{domain:r,messages:a,args:o}=n,s=e,l=new SyntaxError(String(s));return l.code=e,t&&(l.location=t),l.domain=r,l}function defaultOnError(e){throw e}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS="\u2028",CHAR_PS="\u2029";function createScanner(e){const t=e;let n=0,r=1,a=1,o=0;const s=L=>t[L]===CHAR_CR&&t[L+1]===CHAR_LF,l=L=>t[L]===CHAR_LF,c=L=>t[L]===CHAR_PS,u=L=>t[L]===CHAR_LS,d=L=>s(L)||l(L)||c(L)||u(L),f=()=>n,m=()=>r,_=()=>a,g=()=>o,v=L=>s(L)||c(L)||u(L)?CHAR_LF:t[L],b=()=>v(n),y=()=>v(n+o);function S(){return o=0,d(n)&&(r++,a=0),s(n)&&n++,n++,a++,t[n]}function N(){return s(n+o)&&o++,o++,t[n+o]}function x(){n=0,r=1,a=1,o=0}function C(L=0){o=L}function B(){const L=n+o;for(;L!==n;)S();o=0}return{index:f,line:m,column:_,peekOffset:g,charAt:v,currentChar:b,currentPeek:y,next:S,peek:N,reset:x,resetPeek:C,skipToPeek:B}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(e,t={}){const n=t.location!==!1,r=createScanner(e),a=()=>r.index(),o=()=>createPosition(r.line(),r.column(),r.index()),s=o(),l=a(),c={currentType:13,offset:l,startLoc:s,endLoc:s,lastType:13,lastOffset:l,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},u=()=>c,{onError:d}=t;function f(w,$,D,...j){const J=u();if($.column+=D,$.offset+=D,d){const P=n?createLocation(J.startLoc,$):null,k=createCompileError(w,P,{domain:ERROR_DOMAIN$3,args:j});d(k)}}function m(w,$,D){w.endLoc=o(),w.currentType=$;const j={type:$};return n&&(j.loc=createLocation(w.startLoc,w.endLoc)),D!=null&&(j.value=D),j}const _=w=>m(w,13);function g(w,$){return w.currentChar()===$?(w.next(),$):(f(CompileErrorCodes.EXPECTED_TOKEN,o(),0,$),"")}function v(w){let $="";for(;w.currentPeek()===CHAR_SP||w.currentPeek()===CHAR_LF;)$+=w.currentPeek(),w.peek();return $}function b(w){const $=v(w);return w.skipToPeek(),$}function y(w){if(w===EOF)return!1;const $=w.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}function S(w){if(w===EOF)return!1;const $=w.charCodeAt(0);return $>=48&&$<=57}function N(w,$){const{currentType:D}=$;if(D!==2)return!1;v(w);const j=y(w.currentPeek());return w.resetPeek(),j}function x(w,$){const{currentType:D}=$;if(D!==2)return!1;v(w);const j=w.currentPeek()==="-"?w.peek():w.currentPeek(),J=S(j);return w.resetPeek(),J}function C(w,$){const{currentType:D}=$;if(D!==2)return!1;v(w);const j=w.currentPeek()===LITERAL_DELIMITER;return w.resetPeek(),j}function B(w,$){const{currentType:D}=$;if(D!==7)return!1;v(w);const j=w.currentPeek()===".";return w.resetPeek(),j}function L(w,$){const{currentType:D}=$;if(D!==8)return!1;v(w);const j=y(w.currentPeek());return w.resetPeek(),j}function F(w,$){const{currentType:D}=$;if(!(D===7||D===11))return!1;v(w);const j=w.currentPeek()===":";return w.resetPeek(),j}function z(w,$){const{currentType:D}=$;if(D!==9)return!1;const j=()=>{const P=w.currentPeek();return P==="{"?y(w.peek()):P==="@"||P==="|"||P===":"||P==="."||P===CHAR_SP||!P?!1:P===CHAR_LF?(w.peek(),j()):W(w,!1)},J=j();return w.resetPeek(),J}function ee(w){v(w);const $=w.currentPeek()==="|";return w.resetPeek(),$}function W(w,$=!0){const D=(J=!1,P="")=>{const k=w.currentPeek();return k==="{"||k==="@"||!k?J:k==="|"?!(P===CHAR_SP||P===CHAR_LF):k===CHAR_SP?(w.peek(),D(!0,CHAR_SP)):k===CHAR_LF?(w.peek(),D(!0,CHAR_LF)):!0},j=D();return $&&w.resetPeek(),j}function O(w,$){const D=w.currentChar();return D===EOF?EOF:$(D)?(w.next(),D):null}function ne(w){const $=w.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}function le(w){return O(w,ne)}function Se(w){const $=w.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}function _e(w){return O(w,Se)}function ue(w){const $=w.charCodeAt(0);return $>=48&&$<=57}function ce(w){return O(w,ue)}function ye(w){const $=w.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}function be(w){return O(w,ye)}function Ee(w){let $="",D="";for(;$=ce(w);)D+=$;return D}function H(w){let $="";for(;;){const D=w.currentChar();if(D==="{"||D==="}"||D==="@"||D==="|"||!D)break;if(D===CHAR_SP||D===CHAR_LF)if(W(w))$+=D,w.next();else{if(ee(w))break;$+=D,w.next()}else $+=D,w.next()}return $}function R(w){b(w);let $="",D="";for(;$=_e(w);)D+=$;return w.currentChar()===EOF&&f(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),D}function A(w){b(w);let $="";return w.currentChar()==="-"?(w.next(),$+=`-${Ee(w)}`):$+=Ee(w),w.currentChar()===EOF&&f(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),$}function M(w){return w!==LITERAL_DELIMITER&&w!==CHAR_LF}function G(w){b(w),g(w,"'");let $="",D="";for(;$=O(w,M);)$==="\\"?D+=te(w):D+=$;const j=w.currentChar();return j===CHAR_LF||j===EOF?(f(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),j===CHAR_LF&&(w.next(),g(w,"'")),D):(g(w,"'"),D)}function te(w){const $=w.currentChar();switch($){case"\\":case"'":return w.next(),`\\${$}`;case"u":return ge(w,$,4);case"U":return ge(w,$,6);default:return f(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,o(),0,$),""}}function ge(w,$,D){g(w,$);let j="";for(let J=0;J<D;J++){const P=be(w);if(!P){f(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${$}${j}${w.currentChar()}`);break}j+=P}return`\\${$}${j}`}function ae(w){return w!=="{"&&w!=="}"&&w!==CHAR_SP&&w!==CHAR_LF}function ie(w){b(w);let $="",D="";for(;$=O(w,ae);)D+=$;return D}function he(w){let $="",D="";for(;$=le(w);)D+=$;return D}function T(w){const $=D=>{const j=w.currentChar();return j==="{"||j==="@"||j==="|"||j==="("||j===")"||!j||j===CHAR_SP?D:(D+=j,w.next(),$(D))};return $("")}function E(w){b(w);const $=g(w,"|");return b(w),$}function I(w,$){let D=null;switch(w.currentChar()){case"{":return $.braceNest>=1&&f(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),w.next(),D=m($,2,"{"),b(w),$.braceNest++,D;case"}":return $.braceNest>0&&$.currentType===2&&f(CompileErrorCodes.EMPTY_PLACEHOLDER,o(),0),w.next(),D=m($,3,"}"),$.braceNest--,$.braceNest>0&&b(w),$.inLinked&&$.braceNest===0&&($.inLinked=!1),D;case"@":return $.braceNest>0&&f(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),D=U(w,$)||_($),$.braceNest=0,D;default:{let J=!0,P=!0,k=!0;if(ee(w))return $.braceNest>0&&f(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),D=m($,1,E(w)),$.braceNest=0,$.inLinked=!1,D;if($.braceNest>0&&($.currentType===4||$.currentType===5||$.currentType===6))return f(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),$.braceNest=0,K(w,$);if(J=N(w,$))return D=m($,4,R(w)),b(w),D;if(P=x(w,$))return D=m($,5,A(w)),b(w),D;if(k=C(w,$))return D=m($,6,G(w)),b(w),D;if(!J&&!P&&!k)return D=m($,12,ie(w)),f(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,D.value),b(w),D;break}}return D}function U(w,$){const{currentType:D}=$;let j=null;const J=w.currentChar();switch((D===7||D===8||D===11||D===9)&&(J===CHAR_LF||J===CHAR_SP)&&f(CompileErrorCodes.INVALID_LINKED_FORMAT,o(),0),J){case"@":return w.next(),j=m($,7,"@"),$.inLinked=!0,j;case".":return b(w),w.next(),m($,8,".");case":":return b(w),w.next(),m($,9,":");default:return ee(w)?(j=m($,1,E(w)),$.braceNest=0,$.inLinked=!1,j):B(w,$)||F(w,$)?(b(w),U(w,$)):L(w,$)?(b(w),m($,11,he(w))):z(w,$)?(b(w),J==="{"?I(w,$)||j:m($,10,T(w))):(D===7&&f(CompileErrorCodes.INVALID_LINKED_FORMAT,o(),0),$.braceNest=0,$.inLinked=!1,K(w,$))}}function K(w,$){let D={type:13};if($.braceNest>0)return I(w,$)||_($);if($.inLinked)return U(w,$)||_($);switch(w.currentChar()){case"{":return I(w,$)||_($);case"}":return f(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,o(),0),w.next(),m($,3,"}");case"@":return U(w,$)||_($);default:{if(ee(w))return D=m($,1,E(w)),$.braceNest=0,$.inLinked=!1,D;if(W(w))return m($,0,H(w));break}}return D}function Z(){const{currentType:w,offset:$,startLoc:D,endLoc:j}=c;return c.lastType=w,c.lastOffset=$,c.lastStartLoc=D,c.lastEndLoc=j,c.offset=a(),c.startLoc=o(),r.currentChar()===EOF?m(c,13):K(r,c)}return{nextToken:Z,currentOffset:a,currentPosition:o,context:u}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function createParser(e={}){const t=e.location!==!1,{onError:n}=e;function r(y,S,N,x,...C){const B=y.currentPosition();if(B.offset+=x,B.column+=x,n){const L=t?createLocation(N,B):null,F=createCompileError(S,L,{domain:ERROR_DOMAIN$2,args:C});n(F)}}function a(y,S,N){const x={type:y};return t&&(x.start=S,x.end=S,x.loc={start:N,end:N}),x}function o(y,S,N,x){t&&(y.end=S,y.loc&&(y.loc.end=N))}function s(y,S){const N=y.context(),x=a(3,N.offset,N.startLoc);return x.value=S,o(x,y.currentOffset(),y.currentPosition()),x}function l(y,S){const N=y.context(),{lastOffset:x,lastStartLoc:C}=N,B=a(5,x,C);return B.index=parseInt(S,10),y.nextToken(),o(B,y.currentOffset(),y.currentPosition()),B}function c(y,S){const N=y.context(),{lastOffset:x,lastStartLoc:C}=N,B=a(4,x,C);return B.key=S,y.nextToken(),o(B,y.currentOffset(),y.currentPosition()),B}function u(y,S){const N=y.context(),{lastOffset:x,lastStartLoc:C}=N,B=a(9,x,C);return B.value=S.replace(KNOWN_ESCAPES,fromEscapeSequence),y.nextToken(),o(B,y.currentOffset(),y.currentPosition()),B}function d(y){const S=y.nextToken(),N=y.context(),{lastOffset:x,lastStartLoc:C}=N,B=a(8,x,C);return S.type!==11?(r(y,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,N.lastStartLoc,0),B.value="",o(B,x,C),{nextConsumeToken:S,node:B}):(S.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(S)),B.value=S.value||"",o(B,y.currentOffset(),y.currentPosition()),{node:B})}function f(y,S){const N=y.context(),x=a(7,N.offset,N.startLoc);return x.value=S,o(x,y.currentOffset(),y.currentPosition()),x}function m(y){const S=y.context(),N=a(6,S.offset,S.startLoc);let x=y.nextToken();if(x.type===8){const C=d(y);N.modifier=C.node,x=C.nextConsumeToken||y.nextToken()}switch(x.type!==9&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(x)),x=y.nextToken(),x.type===2&&(x=y.nextToken()),x.type){case 10:x.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(x)),N.key=f(y,x.value||"");break;case 4:x.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(x)),N.key=c(y,x.value||"");break;case 5:x.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(x)),N.key=l(y,x.value||"");break;case 6:x.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(x)),N.key=u(y,x.value||"");break;default:{r(y,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,S.lastStartLoc,0);const C=y.context(),B=a(7,C.offset,C.startLoc);return B.value="",o(B,C.offset,C.startLoc),N.key=B,o(N,C.offset,C.startLoc),{nextConsumeToken:x,node:N}}}return o(N,y.currentOffset(),y.currentPosition()),{node:N}}function _(y){const S=y.context(),N=S.currentType===1?y.currentOffset():S.offset,x=S.currentType===1?S.endLoc:S.startLoc,C=a(2,N,x);C.items=[];let B=null;do{const z=B||y.nextToken();switch(B=null,z.type){case 0:z.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(z)),C.items.push(s(y,z.value||""));break;case 5:z.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(z)),C.items.push(l(y,z.value||""));break;case 4:z.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(z)),C.items.push(c(y,z.value||""));break;case 6:z.value==null&&r(y,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,getTokenCaption(z)),C.items.push(u(y,z.value||""));break;case 7:{const ee=m(y);C.items.push(ee.node),B=ee.nextConsumeToken||null;break}}}while(S.currentType!==13&&S.currentType!==1);const L=S.currentType===1?S.lastOffset:y.currentOffset(),F=S.currentType===1?S.lastEndLoc:y.currentPosition();return o(C,L,F),C}function g(y,S,N,x){const C=y.context();let B=x.items.length===0;const L=a(1,S,N);L.cases=[],L.cases.push(x);do{const F=_(y);B||(B=F.items.length===0),L.cases.push(F)}while(C.currentType!==13);return B&&r(y,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,N,0),o(L,y.currentOffset(),y.currentPosition()),L}function v(y){const S=y.context(),{offset:N,startLoc:x}=S,C=_(y);return S.currentType===13?C:g(y,N,x,C)}function b(y){const S=createTokenizer(y,assign$1({},e)),N=S.context(),x=a(0,N.offset,N.startLoc);return t&&x.loc&&(x.loc.source=y),x.body=v(S),e.onCacheKey&&(x.cacheKey=e.onCacheKey(y)),N.currentType!==13&&r(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,y[N.offset]||""),o(x,S.currentOffset(),S.currentPosition()),x}return{parse:b}}function getTokenCaption(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function createTransformer(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:o=>(n.helpers.add(o),o)}}function traverseNodes(e,t){for(let n=0;n<e.length;n++)traverseNode(e[n],t)}function traverseNode(e,t){switch(e.type){case 1:traverseNodes(e.cases,t),t.helper("plural");break;case 2:traverseNodes(e.items,t);break;case 6:{traverseNode(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function transform(e,t={}){const n=createTransformer(e);n.helper("normalize"),e.body&&traverseNode(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function optimize(e){const t=e.body;return t.type===2?optimizeMessageNode(t):t.cases.forEach(n=>optimizeMessageNode(n)),e}function optimizeMessageNode(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=join(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function minify(e){switch(e.t=e.type,e.type){case 0:{const t=e;minify(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)minify(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)minify(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;minify(t.key),t.k=t.key,delete t.key,t.modifier&&(minify(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function createCodeGenerator(e,t){const{filename:n,breakLineCode:r,needIndent:a}=t,o=t.location!==!1,s={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:a,indentLevel:0};o&&e.loc&&(s.source=e.loc.source);const l=()=>s;function c(v,b){s.code+=v}function u(v,b=!0){const y=b?r:"";c(a?y+"  ".repeat(v):y)}function d(v=!0){const b=++s.indentLevel;v&&u(b)}function f(v=!0){const b=--s.indentLevel;v&&u(b)}function m(){u(s.indentLevel)}return{context:l,push:c,indent:d,deindent:f,newline:m,helper:v=>`_${v}`,needIndent:()=>s.needIndent}}function generateLinkedNode(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),generateNode(e,t.key),t.modifier?(e.push(", "),generateNode(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function generateMessageNode(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let o=0;o<a&&(generateNode(e,t.items[o]),o!==a-1);o++)e.push(", ");e.deindent(r()),e.push("])")}function generatePluralNode(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let o=0;o<a&&(generateNode(e,t.cases[o]),o!==a-1);o++)e.push(", ");e.deindent(r()),e.push("])")}}function generateResource(e,t){t.body?generateNode(e,t.body):e.push("null")}function generateNode(e,t){const{helper:n}=e;switch(t.type){case 0:generateResource(e,t);break;case 1:generatePluralNode(e,t);break;case 2:generateMessageNode(e,t);break;case 6:generateLinkedNode(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const generate=(e,t={})=>{const n=isString$1(t.mode)?t.mode:"normal",r=isString$1(t.filename)?t.filename:"message.intl";t.sourceMap;const a=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,o=t.needIndent?t.needIndent:n!=="arrow",s=e.helpers||[],l=createCodeGenerator(e,{filename:r,breakLineCode:a,needIndent:o});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),s.length>0&&(l.push(`const { ${join(s.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),generateNode(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:u}=l.context();return{ast:e,code:c,map:u?u.toJSON():void 0}};function baseCompile$1(e,t={}){const n=assign$1({},t),r=!!n.jit,a=!!n.minify,o=n.optimize==null?!0:n.optimize,l=createParser(n).parse(e);return r?(o&&optimize(l),a&&minify(l),{ast:l,code:""}):(transform(l,n),generate(l,n))}/*!
  * core-base v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function format(e){return n=>formatParts(n,e)}function formatParts(e,t){const n=resolveBody(t);if(n==null)throw createUnhandleNodeError(0);if(resolveType(n)===1){const o=resolveCases(n);return e.plural(o.reduce((s,l)=>[...s,formatMessageParts(e,l)],[]))}else return formatMessageParts(e,n)}const PROPS_BODY=["b","body"];function resolveBody(e){return resolveProps(e,PROPS_BODY)}const PROPS_CASES=["c","cases"];function resolveCases(e){return resolveProps(e,PROPS_CASES,[])}function formatMessageParts(e,t){const n=resolveStatic(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=resolveItems(t).reduce((a,o)=>[...a,formatMessagePart(e,o)],[]);return e.normalize(r)}}const PROPS_STATIC=["s","static"];function resolveStatic(e){return resolveProps(e,PROPS_STATIC)}const PROPS_ITEMS=["i","items"];function resolveItems(e){return resolveProps(e,PROPS_ITEMS,[])}function formatMessagePart(e,t){const n=resolveType(t);switch(n){case 3:return resolveValue$1(t,n);case 9:return resolveValue$1(t,n);case 4:{const r=t;if(hasOwn(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(hasOwn(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw createUnhandleNodeError(n)}case 5:{const r=t;if(hasOwn(r,"i")&&isNumber$1(r.i))return e.interpolate(e.list(r.i));if(hasOwn(r,"index")&&isNumber$1(r.index))return e.interpolate(e.list(r.index));throw createUnhandleNodeError(n)}case 6:{const r=t,a=resolveLinkedModifier(r),o=resolveLinkedKey(r);return e.linked(formatMessagePart(e,o),a?formatMessagePart(e,a):void 0,e.type)}case 7:return resolveValue$1(t,n);case 8:return resolveValue$1(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const PROPS_TYPE=["t","type"];function resolveType(e){return resolveProps(e,PROPS_TYPE)}const PROPS_VALUE=["v","value"];function resolveValue$1(e,t){const n=resolveProps(e,PROPS_VALUE);if(n)return n;throw createUnhandleNodeError(t)}const PROPS_MODIFIER=["m","modifier"];function resolveLinkedModifier(e){return resolveProps(e,PROPS_MODIFIER)}const PROPS_KEY=["k","key"];function resolveLinkedKey(e){const t=resolveProps(e,PROPS_KEY);if(t)return t;throw createUnhandleNodeError(6)}function resolveProps(e,t,n){for(let r=0;r<t.length;r++){const a=t[r];if(hasOwn(e,a)&&e[a]!=null)return e[a]}return n}function createUnhandleNodeError(e){return new Error(`unhandled node type: ${e}`)}const defaultOnCacheKey=e=>e;let compileCache=create();function isMessageAST(e){return isObject$2(e)&&resolveType(e)===0&&(hasOwn(e,"b")||hasOwn(e,"body"))}function baseCompile(e,t={}){let n=!1;const r=t.onError||defaultOnError;return t.onError=a=>{n=!0,r(a)},{...baseCompile$1(e,t),detectError:n}}function compile(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$1(e)){isBoolean$2(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||defaultOnCacheKey)(e),a=compileCache[r];if(a)return a;const{ast:o,detectError:s}=baseCompile(e,{...t,location:!1,jit:!0}),l=format(o);return s?l:compileCache[r]=l}else{const n=e.cacheKey;if(n){const r=compileCache[n];return r||(compileCache[n]=format(e))}else return format(e)}}let devtools=null;function setDevToolsHook(e){devtools=e}function initI18nDevTools(e,t,n){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(e){return t=>devtools&&devtools.emit(e,t)}const CoreErrorCodes={INVALID_ARGUMENT:COMPILE_ERROR_CODES_EXTEND_POINT,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},CORE_ERROR_CODES_EXTEND_POINT=24;function createCoreError(e){return createCompileError(e,null,void 0)}function getLocale(e,t){return t.locale!=null?resolveLocale(t.locale):resolveLocale(e.locale)}let _resolveLocale;function resolveLocale(e){if(isString$1(e))return e;if(isFunction$1(e)){if(e.resolvedOnce&&_resolveLocale!=null)return _resolveLocale;if(e.constructor.name==="Function"){const t=e();if(isPromise(t))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return _resolveLocale=t}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE)}function fallbackWithSimple(e,t,n){return[...new Set([n,...isArray$1(t)?t:isObject$2(t)?Object.keys(t):isString$1(t)?[t]:[n]])]}function fallbackWithLocaleChain(e,t,n){const r=isString$1(n)?n:DEFAULT_LOCALE,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let o=a.__localeChainCache.get(r);if(!o){o=[];let s=[n];for(;isArray$1(s);)s=appendBlockToChain(o,s,t);const l=isArray$1(t)||!isPlainObject$2(t)?t:t.default?t.default:null;s=isString$1(l)?[l]:l,isArray$1(s)&&appendBlockToChain(o,s,!1),a.__localeChainCache.set(r,o)}return o}function appendBlockToChain(e,t,n){let r=!0;for(let a=0;a<t.length&&isBoolean$2(r);a++){const o=t[a];isString$1(o)&&(r=appendLocaleToChain(e,t[a],n))}return r}function appendLocaleToChain(e,t,n){let r;const a=t.split("-");do{const o=a.join("-");r=appendItemToChain(e,o,n),a.splice(-1,1)}while(a.length&&r===!0);return r}function appendItemToChain(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const a=t.replace(/!/g,"");e.push(a),(isArray$1(n)||isPlainObject$2(n))&&n[a]&&(r=n[a])}return r}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]},pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]},pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]},pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]},pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(e){return literalValueRE.test(e)}function stripQuotes(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function getPathCharType(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:isLiteral(t)?stripQuotes(t):"*"+t}function parse(e){const t=[];let n=-1,r=0,a=0,o,s,l,c,u,d,f;const m=[];m[0]=()=>{s===void 0?s=l:s+=l},m[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},m[2]=()=>{m[0](),a++},m[3]=()=>{if(a>0)a--,r=4,m[0]();else{if(a=0,s===void 0||(s=formatSubPath(s),s===!1))return!1;m[1]()}};function _(){const g=e[n+1];if(r===5&&g==="'"||r===6&&g==='"')return n++,l="\\"+g,m[0](),!0}for(;r!==null;)if(n++,o=e[n],!(o==="\\"&&_())){if(c=getPathCharType(o),f=pathStateMachine[r],u=f[c]||f.l||8,u===8||(r=u[0],u[1]!==void 0&&(d=m[u[1]],d&&(l=o,d()===!1))))return;if(r===7)return t}}const cache=new Map;function resolveWithKeyValue(e,t){return isObject$2(e)?e[t]:null}function resolveValue(e,t){if(!isObject$2(e))return null;let n=cache.get(t);if(n||(n=parse(t),n&&cache.set(t,n)),!n)return null;const r=n.length;let a=e,o=0;for(;o<r;){const s=a[n[o]];if(s===void 0||isFunction$1(a))return null;a=s,o++}return a}const VERSION$3="11.1.2",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(e,t)=>t==="text"&&isString$1(e)?e.toUpperCase():t==="vnode"&&isObject$2(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&isString$1(e)?e.toLowerCase():t==="vnode"&&isObject$2(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&isString$1(e)?capitalize(e):t==="vnode"&&isObject$2(e)&&"__v_isVNode"in e?capitalize(e.children):e}}let _compiler;function registerMessageCompiler(e){_compiler=e}let _resolver;function registerMessageResolver(e){_resolver=e}let _fallbacker;function registerLocaleFallbacker(e){_fallbacker=e}let _additionalMeta=null;const setAdditionalMeta=e=>{_additionalMeta=e},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=e=>{_fallbackContext=e},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(e={}){const t=isFunction$1(e.onWarn)?e.onWarn:warn,n=isString$1(e.version)?e.version:VERSION$3,r=isString$1(e.locale)||isFunction$1(e.locale)?e.locale:DEFAULT_LOCALE,a=isFunction$1(r)?DEFAULT_LOCALE:r,o=isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||isString$1(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,s=isPlainObject$2(e.messages)?e.messages:createResources(a),l=isPlainObject$2(e.datetimeFormats)?e.datetimeFormats:createResources(a),c=isPlainObject$2(e.numberFormats)?e.numberFormats:createResources(a),u=assign$1(create(),e.modifiers,getDefaultLinkedModifiers()),d=e.pluralRules||create(),f=isFunction$1(e.missing)?e.missing:null,m=isBoolean$2(e.missingWarn)||isRegExp$1(e.missingWarn)?e.missingWarn:!0,_=isBoolean$2(e.fallbackWarn)||isRegExp$1(e.fallbackWarn)?e.fallbackWarn:!0,g=!!e.fallbackFormat,v=!!e.unresolving,b=isFunction$1(e.postTranslation)?e.postTranslation:null,y=isPlainObject$2(e.processor)?e.processor:null,S=isBoolean$2(e.warnHtmlMessage)?e.warnHtmlMessage:!0,N=!!e.escapeParameter,x=isFunction$1(e.messageCompiler)?e.messageCompiler:_compiler,C=isFunction$1(e.messageResolver)?e.messageResolver:_resolver||resolveWithKeyValue,B=isFunction$1(e.localeFallbacker)?e.localeFallbacker:_fallbacker||fallbackWithSimple,L=isObject$2(e.fallbackContext)?e.fallbackContext:void 0,F=e,z=isObject$2(F.__datetimeFormatters)?F.__datetimeFormatters:new Map,ee=isObject$2(F.__numberFormatters)?F.__numberFormatters:new Map,W=isObject$2(F.__meta)?F.__meta:{};_cid++;const O={version:n,cid:_cid,locale:r,fallbackLocale:o,messages:s,modifiers:u,pluralRules:d,missing:f,missingWarn:m,fallbackWarn:_,fallbackFormat:g,unresolving:v,postTranslation:b,processor:y,warnHtmlMessage:S,escapeParameter:N,messageCompiler:x,messageResolver:C,localeFallbacker:B,fallbackContext:L,onWarn:t,__meta:W};return O.datetimeFormats=l,O.numberFormats=c,O.__datetimeFormatters=z,O.__numberFormatters=ee,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(O,n,W),O}const createResources=e=>({[e]:create()});function handleMissing(e,t,n,r,a){const{missing:o,onWarn:s}=e;if(o!==null){const l=o(e,n,t,a);return isString$1(l)?l:t}else return t}function updateFallbackLocale(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function isAlmostSameLocale(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function isImplicitFallback(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(isAlmostSameLocale(e,t[r]))return!0;return!1}function datetime(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:l}=e,[c,u,d,f]=parseDateTimeArgs(...t),m=isBoolean$2(d.missingWarn)?d.missingWarn:e.missingWarn;isBoolean$2(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const _=!!d.part,g=getLocale(e,d),v=s(e,a,g);if(!isString$1(c)||c==="")return new Intl.DateTimeFormat(g,f).format(u);let b={},y,S=null;const N="datetime format";for(let B=0;B<v.length&&(y=v[B],b=n[y]||{},S=b[c],!isPlainObject$2(S));B++)handleMissing(e,c,y,m,N);if(!isPlainObject$2(S)||!isString$1(y))return r?NOT_REOSLVED:c;let x=`${y}__${c}`;isEmptyObject(f)||(x=`${x}__${JSON.stringify(f)}`);let C=l.get(x);return C||(C=new Intl.DateTimeFormat(y,assign$1({},S,f)),l.set(x,C)),_?C.formatToParts(u):C.format(u)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...e){const[t,n,r,a]=e,o=create();let s=create(),l;if(isString$1(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const u=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();l=new Date(u);try{l.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate$1(t)){if(isNaN(t.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);l=t}else if(isNumber$1(t))l=t;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(n)?o.key=n:isPlainObject$2(n)&&Object.keys(n).forEach(c=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(c)?s[c]=n[c]:o[c]=n[c]}),isString$1(r)?o.locale=r:isPlainObject$2(r)&&(s=r),isPlainObject$2(a)&&(s=a),[o.key||"",l,o,s]}function clearDateTimeFormat(e,t,n){const r=e;for(const a in n){const o=`${t}__${a}`;r.__datetimeFormatters.has(o)&&r.__datetimeFormatters.delete(o)}}function number(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:l}=e,[c,u,d,f]=parseNumberArgs(...t),m=isBoolean$2(d.missingWarn)?d.missingWarn:e.missingWarn;isBoolean$2(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const _=!!d.part,g=getLocale(e,d),v=s(e,a,g);if(!isString$1(c)||c==="")return new Intl.NumberFormat(g,f).format(u);let b={},y,S=null;const N="number format";for(let B=0;B<v.length&&(y=v[B],b=n[y]||{},S=b[c],!isPlainObject$2(S));B++)handleMissing(e,c,y,m,N);if(!isPlainObject$2(S)||!isString$1(y))return r?NOT_REOSLVED:c;let x=`${y}__${c}`;isEmptyObject(f)||(x=`${x}__${JSON.stringify(f)}`);let C=l.get(x);return C||(C=new Intl.NumberFormat(y,assign$1({},S,f)),l.set(x,C)),_?C.formatToParts(u):C.format(u)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...e){const[t,n,r,a]=e,o=create();let s=create();if(!isNumber$1(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const l=t;return isString$1(n)?o.key=n:isPlainObject$2(n)&&Object.keys(n).forEach(c=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(c)?s[c]=n[c]:o[c]=n[c]}),isString$1(r)?o.locale=r:isPlainObject$2(r)&&(s=r),isPlainObject$2(a)&&(s=a),[o.key||"",l,o,s]}function clearNumberFormat(e,t,n){const r=e;for(const a in n){const o=`${t}__${a}`;r.__numberFormatters.has(o)&&r.__numberFormatters.delete(o)}}const DEFAULT_MODIFIER=e=>e,DEFAULT_MESSAGE=e=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=e=>e.length===0?"":join(e),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function getPluralIndex(e){const t=isNumber$1(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(isNumber$1(e.named.count)||isNumber$1(e.named.n))?isNumber$1(e.named.count)?e.named.count:isNumber$1(e.named.n)?e.named.n:t:t}function normalizeNamed(e,t){t.count||(t.count=e),t.n||(t.n=e)}function createMessageContext(e={}){const t=e.locale,n=getPluralIndex(e),r=isObject$2(e.pluralRules)&&isString$1(t)&&isFunction$1(e.pluralRules[t])?e.pluralRules[t]:pluralDefault,a=isObject$2(e.pluralRules)&&isString$1(t)&&isFunction$1(e.pluralRules[t])?pluralDefault:void 0,o=y=>y[r(n,y.length,a)],s=e.list||[],l=y=>s[y],c=e.named||create();isNumber$1(e.pluralIndex)&&normalizeNamed(n,c);const u=y=>c[y];function d(y,S){const N=isFunction$1(e.messages)?e.messages(y,!!S):isObject$2(e.messages)?e.messages[y]:!1;return N||(e.parent?e.parent.message(y):DEFAULT_MESSAGE)}const f=y=>e.modifiers?e.modifiers[y]:DEFAULT_MODIFIER,m=isPlainObject$2(e.processor)&&isFunction$1(e.processor.normalize)?e.processor.normalize:DEFAULT_NORMALIZE,_=isPlainObject$2(e.processor)&&isFunction$1(e.processor.interpolate)?e.processor.interpolate:DEFAULT_INTERPOLATE,g=isPlainObject$2(e.processor)&&isString$1(e.processor.type)?e.processor.type:DEFAULT_MESSAGE_DATA_TYPE,b={list:l,named:u,plural:o,linked:(y,...S)=>{const[N,x]=S;let C="text",B="";S.length===1?isObject$2(N)?(B=N.modifier||B,C=N.type||C):isString$1(N)&&(B=N||B):S.length===2&&(isString$1(N)&&(B=N||B),isString$1(x)&&(C=x||C));const L=d(y,!0)(b),F=C==="vnode"&&isArray$1(L)&&B?L[0]:L;return B?f(B)(F,C):F},message:d,type:g,interpolate:_,normalize:m,values:assign$1(create(),s,c)};return b}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=e=>isFunction$1(e);function translate$1(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:o,fallbackLocale:s,messages:l}=e,[c,u]=parseTranslateArgs(...t),d=isBoolean$2(u.missingWarn)?u.missingWarn:e.missingWarn,f=isBoolean$2(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,m=isBoolean$2(u.escapeParameter)?u.escapeParameter:e.escapeParameter,_=!!u.resolvedMessage,g=isString$1(u.default)||isBoolean$2(u.default)?isBoolean$2(u.default)?o?c:()=>c:u.default:n?o?c:()=>c:null,v=n||g!=null&&(isString$1(g)||isFunction$1(g)),b=getLocale(e,u);m&&escapeParams(u);let[y,S,N]=_?[c,b,l[b]||create()]:resolveMessageFormat(e,c,b,s,f,d),x=y,C=c;if(!_&&!(isString$1(x)||isMessageAST(x)||isMessageFunction(x))&&v&&(x=g,C=x),!_&&(!(isString$1(x)||isMessageAST(x)||isMessageFunction(x))||!isString$1(S)))return a?NOT_REOSLVED:c;let B=!1;const L=()=>{B=!0},F=isMessageFunction(x)?x:compileMessageFormat(e,c,S,x,C,L);if(B)return x;const z=getMessageContextOptions(e,S,N,u),ee=createMessageContext(z),W=evaluateMessage(e,F,ee),O=r?r(W,c):W;if(__INTLIFY_PROD_DEVTOOLS__){const ne={timestamp:Date.now(),key:isString$1(c)?c:isMessageFunction(x)?x.key:"",locale:S||(isMessageFunction(x)?x.locale:""),format:isString$1(x)?x:isMessageFunction(x)?x.source:"",message:O};ne.meta=assign$1({},e.__meta,getAdditionalMeta()||{}),translateDevTools(ne)}return O}function escapeParams(e){isArray$1(e.list)?e.list=e.list.map(t=>isString$1(t)?escapeHtml(t):t):isObject$2(e.named)&&Object.keys(e.named).forEach(t=>{isString$1(e.named[t])&&(e.named[t]=escapeHtml(e.named[t]))})}function resolveMessageFormat(e,t,n,r,a,o){const{messages:s,onWarn:l,messageResolver:c,localeFallbacker:u}=e,d=u(e,r,n);let f=create(),m,_=null;const g="translate";for(let v=0;v<d.length&&(m=d[v],f=s[m]||create(),(_=c(f,t))===null&&(_=f[t]),!(isString$1(_)||isMessageAST(_)||isMessageFunction(_)));v++)if(!isImplicitFallback(m,d)){const b=handleMissing(e,t,m,o,g);b!==t&&(_=b)}return[_,m,f]}function compileMessageFormat(e,t,n,r,a,o){const{messageCompiler:s,warnHtmlMessage:l}=e;if(isMessageFunction(r)){const u=r;return u.locale=u.locale||n,u.key=u.key||t,u}if(s==null){const u=()=>r;return u.locale=n,u.key=t,u}const c=s(r,getCompileContext(e,n,a,r,l,o));return c.locale=n,c.key=t,c.source=r,c}function evaluateMessage(e,t,n){return t(n)}function parseTranslateArgs(...e){const[t,n,r]=e,a=create();if(!isString$1(t)&&!isNumber$1(t)&&!isMessageFunction(t)&&!isMessageAST(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const o=isNumber$1(t)?String(t):(isMessageFunction(t),t);return isNumber$1(n)?a.plural=n:isString$1(n)?a.default=n:isPlainObject$2(n)&&!isEmptyObject(n)?a.named=n:isArray$1(n)&&(a.list=n),isNumber$1(r)?a.plural=r:isString$1(r)?a.default=r:isPlainObject$2(r)&&assign$1(a,r),[o,a]}function getCompileContext(e,t,n,r,a,o){return{locale:t,key:n,warnHtmlMessage:a,onError:s=>{throw o&&o(s),s},onCacheKey:s=>generateFormatCacheKey(t,n,s)}}function getMessageContextOptions(e,t,n,r){const{modifiers:a,pluralRules:o,messageResolver:s,fallbackLocale:l,fallbackWarn:c,missingWarn:u,fallbackContext:d}=e,m={locale:t,modifiers:a,pluralRules:o,messages:(_,g)=>{let v=s(n,_);if(v==null&&(d||g)){const[,,b]=resolveMessageFormat(d||e,_,t,l,c,u);v=s(b,_)}if(isString$1(v)||isMessageAST(v)){let b=!1;const S=compileMessageFormat(e,_,t,v,_,()=>{b=!0});return b?NOOP_MESSAGE_FUNCTION:S}else return isMessageFunction(v)?v:NOOP_MESSAGE_FUNCTION}};return e.processor&&(m.processor=e.processor),r.list&&(m.list=r.list),r.named&&(m.named=r.named),isNumber$1(r.plural)&&(m.pluralIndex=r.plural),m}initFeatureFlags$1();/*!
  * vue-i18n v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION$2="11.1.2";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}const I18nErrorCodes={UNEXPECTED_RETURN_TYPE:CORE_ERROR_CODES_EXTEND_POINT,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function createI18nError(e,...t){return createCompileError(e,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(e){if(!isObject$2(e))return e;for(const t in e)if(hasOwn(e,t))if(!t.includes("."))isObject$2(e[t])&&handleFlatJson(e[t]);else{const n=t.split("."),r=n.length-1;let a=e,o=!1;for(let s=0;s<r;s++){if(n[s]==="__proto__")throw new Error(`unsafe key: ${n[s]}`);if(n[s]in a||(a[n[s]]=create()),!isObject$2(a[n[s]])){o=!0;break}a=a[n[s]]}o||(a[n[r]]=e[t],delete e[t]),isObject$2(a[n[r]])&&handleFlatJson(a[n[r]])}return e}function getLocaleMessages(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:o}=t,s=isPlainObject$2(n)?n:isArray$1(r)?create():{[e]:create()};if(isArray$1(r)&&r.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:c,resource:u}=l;c?(s[c]=s[c]||create(),deepCopy(u,s[c])):deepCopy(u,s)}else isString$1(l)&&deepCopy(JSON.parse(l),s)}),a==null&&o)for(const l in s)hasOwn(s,l)&&handleFlatJson(s[l]);return s}function getComponentOptions(e){return e.type}function adjustI18nResources(e,t,n){let r=isObject$2(t.messages)?t.messages:create();"__i18nGlobal"in n&&(r=getLocaleMessages(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);a.length&&a.forEach(o=>{e.mergeLocaleMessage(o,r[o])});{if(isObject$2(t.datetimeFormats)){const o=Object.keys(t.datetimeFormats);o.length&&o.forEach(s=>{e.mergeDateTimeFormat(s,t.datetimeFormats[s])})}if(isObject$2(t.numberFormats)){const o=Object.keys(t.numberFormats);o.length&&o.forEach(s=>{e.mergeNumberFormat(s,t.numberFormats[s])})}}}function createTextNode(e){return createVNode(Text,null,e,0)}const DEVTOOLS_META="__INTLIFY_META__",NOOP_RETURN_ARRAY=()=>[],NOOP_RETURN_FALSE=()=>!1;let composerID=0;function defineCoreMissingHandler(e){return(t,n,r,a)=>e(n,r,getCurrentInstance()||void 0,a)}const getMetaInfo=()=>{const e=getCurrentInstance();let t=null;return e&&(t=getComponentOptions(e)[DEVTOOLS_META])?{[DEVTOOLS_META]:t}:null};function createComposer(e={}){const{__root:t,__injectWithOption:n}=e,r=t===void 0,a=e.flatJson,o=inBrowser?ref:shallowRef;let s=isBoolean$2(e.inheritLocale)?e.inheritLocale:!0;const l=o(t&&s?t.locale.value:isString$1(e.locale)?e.locale:DEFAULT_LOCALE),c=o(t&&s?t.fallbackLocale.value:isString$1(e.fallbackLocale)||isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:l.value),u=o(getLocaleMessages(l.value,e)),d=o(isPlainObject$2(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),f=o(isPlainObject$2(e.numberFormats)?e.numberFormats:{[l.value]:{}});let m=t?t.missingWarn:isBoolean$2(e.missingWarn)||isRegExp$1(e.missingWarn)?e.missingWarn:!0,_=t?t.fallbackWarn:isBoolean$2(e.fallbackWarn)||isRegExp$1(e.fallbackWarn)?e.fallbackWarn:!0,g=t?t.fallbackRoot:isBoolean$2(e.fallbackRoot)?e.fallbackRoot:!0,v=!!e.fallbackFormat,b=isFunction$1(e.missing)?e.missing:null,y=isFunction$1(e.missing)?defineCoreMissingHandler(e.missing):null,S=isFunction$1(e.postTranslation)?e.postTranslation:null,N=t?t.warnHtmlMessage:isBoolean$2(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter;const C=t?t.modifiers:isPlainObject$2(e.modifiers)?e.modifiers:{};let B=e.pluralRules||t&&t.pluralRules,L;L=(()=>{r&&setFallbackContext(null);const k={version:VERSION$2,locale:l.value,fallbackLocale:c.value,messages:u.value,modifiers:C,pluralRules:B,missing:y===null?void 0:y,missingWarn:m,fallbackWarn:_,fallbackFormat:v,unresolving:!0,postTranslation:S===null?void 0:S,warnHtmlMessage:N,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};k.datetimeFormats=d.value,k.numberFormats=f.value,k.__datetimeFormatters=isPlainObject$2(L)?L.__datetimeFormatters:void 0,k.__numberFormatters=isPlainObject$2(L)?L.__numberFormatters:void 0;const Y=createCoreContext(k);return r&&setFallbackContext(Y),Y})(),updateFallbackLocale(L,l.value,c.value);function z(){return[l.value,c.value,u.value,d.value,f.value]}const ee=computed({get:()=>l.value,set:k=>{L.locale=k,l.value=k}}),W=computed({get:()=>c.value,set:k=>{L.fallbackLocale=k,c.value=k,updateFallbackLocale(L,l.value,k)}}),O=computed(()=>u.value),ne=computed(()=>d.value),le=computed(()=>f.value);function Se(){return isFunction$1(S)?S:null}function _e(k){S=k,L.postTranslation=k}function ue(){return b}function ce(k){k!==null&&(y=defineCoreMissingHandler(k)),b=k,L.missing=y}const ye=(k,Y,de,me,$e,Ve)=>{z();let Re;try{__INTLIFY_PROD_DEVTOOLS__,r||(L.fallbackContext=t?getFallbackContext():void 0),Re=k(L)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(L.fallbackContext=void 0)}if(de!=="translate exists"&&isNumber$1(Re)&&Re===NOT_REOSLVED||de==="translate exists"&&!Re){const[ze,De]=Y();return t&&g?me(t):$e(ze)}else{if(Ve(Re))return Re;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function be(...k){return ye(Y=>Reflect.apply(translate$1,null,[Y,...k]),()=>parseTranslateArgs(...k),"translate",Y=>Reflect.apply(Y.t,Y,[...k]),Y=>Y,Y=>isString$1(Y))}function Ee(...k){const[Y,de,me]=k;if(me&&!isObject$2(me))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return be(Y,de,assign$1({resolvedMessage:!0},me||{}))}function H(...k){return ye(Y=>Reflect.apply(datetime,null,[Y,...k]),()=>parseDateTimeArgs(...k),"datetime format",Y=>Reflect.apply(Y.d,Y,[...k]),()=>MISSING_RESOLVE_VALUE,Y=>isString$1(Y))}function R(...k){return ye(Y=>Reflect.apply(number,null,[Y,...k]),()=>parseNumberArgs(...k),"number format",Y=>Reflect.apply(Y.n,Y,[...k]),()=>MISSING_RESOLVE_VALUE,Y=>isString$1(Y))}function A(k){return k.map(Y=>isString$1(Y)||isNumber$1(Y)||isBoolean$2(Y)?createTextNode(String(Y)):Y)}const G={normalize:A,interpolate:k=>k,type:"vnode"};function te(...k){return ye(Y=>{let de;const me=Y;try{me.processor=G,de=Reflect.apply(translate$1,null,[me,...k])}finally{me.processor=null}return de},()=>parseTranslateArgs(...k),"translate",Y=>Y[TranslateVNodeSymbol](...k),Y=>[createTextNode(Y)],Y=>isArray$1(Y))}function ge(...k){return ye(Y=>Reflect.apply(number,null,[Y,...k]),()=>parseNumberArgs(...k),"number format",Y=>Y[NumberPartsSymbol](...k),NOOP_RETURN_ARRAY,Y=>isString$1(Y)||isArray$1(Y))}function ae(...k){return ye(Y=>Reflect.apply(datetime,null,[Y,...k]),()=>parseDateTimeArgs(...k),"datetime format",Y=>Y[DatetimePartsSymbol](...k),NOOP_RETURN_ARRAY,Y=>isString$1(Y)||isArray$1(Y))}function ie(k){B=k,L.pluralRules=B}function he(k,Y){return ye(()=>{if(!k)return!1;const de=isString$1(Y)?Y:l.value,me=I(de),$e=L.messageResolver(me,k);return isMessageAST($e)||isMessageFunction($e)||isString$1($e)},()=>[k],"translate exists",de=>Reflect.apply(de.te,de,[k,Y]),NOOP_RETURN_FALSE,de=>isBoolean$2(de))}function T(k){let Y=null;const de=fallbackWithLocaleChain(L,c.value,l.value);for(let me=0;me<de.length;me++){const $e=u.value[de[me]]||{},Ve=L.messageResolver($e,k);if(Ve!=null){Y=Ve;break}}return Y}function E(k){const Y=T(k);return Y??(t?t.tm(k)||{}:{})}function I(k){return u.value[k]||{}}function U(k,Y){if(a){const de={[k]:Y};for(const me in de)hasOwn(de,me)&&handleFlatJson(de[me]);Y=de[k]}u.value[k]=Y,L.messages=u.value}function K(k,Y){u.value[k]=u.value[k]||{};const de={[k]:Y};if(a)for(const me in de)hasOwn(de,me)&&handleFlatJson(de[me]);Y=de[k],deepCopy(Y,u.value[k]),L.messages=u.value}function Z(k){return d.value[k]||{}}function w(k,Y){d.value[k]=Y,L.datetimeFormats=d.value,clearDateTimeFormat(L,k,Y)}function $(k,Y){d.value[k]=assign$1(d.value[k]||{},Y),L.datetimeFormats=d.value,clearDateTimeFormat(L,k,Y)}function D(k){return f.value[k]||{}}function j(k,Y){f.value[k]=Y,L.numberFormats=f.value,clearNumberFormat(L,k,Y)}function J(k,Y){f.value[k]=assign$1(f.value[k]||{},Y),L.numberFormats=f.value,clearNumberFormat(L,k,Y)}composerID++,t&&inBrowser&&(watch(t.locale,k=>{s&&(l.value=k,L.locale=k,updateFallbackLocale(L,l.value,c.value))}),watch(t.fallbackLocale,k=>{s&&(c.value=k,L.fallbackLocale=k,updateFallbackLocale(L,l.value,c.value))}));const P={id:composerID,locale:ee,fallbackLocale:W,get inheritLocale(){return s},set inheritLocale(k){s=k,k&&t&&(l.value=t.locale.value,c.value=t.fallbackLocale.value,updateFallbackLocale(L,l.value,c.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:O,get modifiers(){return C},get pluralRules(){return B||{}},get isGlobal(){return r},get missingWarn(){return m},set missingWarn(k){m=k,L.missingWarn=m},get fallbackWarn(){return _},set fallbackWarn(k){_=k,L.fallbackWarn=_},get fallbackRoot(){return g},set fallbackRoot(k){g=k},get fallbackFormat(){return v},set fallbackFormat(k){v=k,L.fallbackFormat=v},get warnHtmlMessage(){return N},set warnHtmlMessage(k){N=k,L.warnHtmlMessage=k},get escapeParameter(){return x},set escapeParameter(k){x=k,L.escapeParameter=k},t:be,getLocaleMessage:I,setLocaleMessage:U,mergeLocaleMessage:K,getPostTranslationHandler:Se,setPostTranslationHandler:_e,getMissingHandler:ue,setMissingHandler:ce,[SetPluralRulesSymbol]:ie};return P.datetimeFormats=ne,P.numberFormats=le,P.rt=Ee,P.te=he,P.tm=E,P.d=H,P.n=R,P.getDateTimeFormat=Z,P.setDateTimeFormat=w,P.mergeDateTimeFormat=$,P.getNumberFormat=D,P.setNumberFormat=j,P.mergeNumberFormat=J,P[InejctWithOptionSymbol]=n,P[TranslateVNodeSymbol]=te,P[DatetimePartsSymbol]=ae,P[NumberPartsSymbol]=ge,P}function convertComposerOptions(e){const t=isString$1(e.locale)?e.locale:DEFAULT_LOCALE,n=isString$1(e.fallbackLocale)||isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=isFunction$1(e.missing)?e.missing:void 0,a=isBoolean$2(e.silentTranslationWarn)||isRegExp$1(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,o=isBoolean$2(e.silentFallbackWarn)||isRegExp$1(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,s=isBoolean$2(e.fallbackRoot)?e.fallbackRoot:!0,l=!!e.formatFallbackMessages,c=isPlainObject$2(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,d=isFunction$1(e.postTranslation)?e.postTranslation:void 0,f=isString$1(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,m=!!e.escapeParameterHtml,_=isBoolean$2(e.sync)?e.sync:!0;let g=e.messages;if(isPlainObject$2(e.sharedMessages)){const C=e.sharedMessages;g=Object.keys(C).reduce((L,F)=>{const z=L[F]||(L[F]={});return assign$1(z,C[F]),L},g||{})}const{__i18n:v,__root:b,__injectWithOption:y}=e,S=e.datetimeFormats,N=e.numberFormats,x=e.flatJson;return{locale:t,fallbackLocale:n,messages:g,flatJson:x,datetimeFormats:S,numberFormats:N,missing:r,missingWarn:a,fallbackWarn:o,fallbackRoot:s,fallbackFormat:l,modifiers:c,pluralRules:u,postTranslation:d,warnHtmlMessage:f,escapeParameter:m,messageResolver:e.messageResolver,inheritLocale:_,__i18n:v,__root:b,__injectWithOption:y}}function createVueI18n(e={}){const t=createComposer(convertComposerOptions(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(a){t.locale.value=a},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(a){t.fallbackLocale.value=a},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(a){t.setMissingHandler(a)},get silentTranslationWarn(){return isBoolean$2(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(a){t.missingWarn=isBoolean$2(a)?!a:a},get silentFallbackWarn(){return isBoolean$2(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(a){t.fallbackWarn=isBoolean$2(a)?!a:a},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(a){t.fallbackFormat=a},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(a){t.setPostTranslationHandler(a)},get sync(){return t.inheritLocale},set sync(a){t.inheritLocale=a},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){t.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(a){t.escapeParameter=a},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...a){return Reflect.apply(t.t,t,[...a])},rt(...a){return Reflect.apply(t.rt,t,[...a])},te(a,o){return t.te(a,o)},tm(a){return t.tm(a)},getLocaleMessage(a){return t.getLocaleMessage(a)},setLocaleMessage(a,o){t.setLocaleMessage(a,o)},mergeLocaleMessage(a,o){t.mergeLocaleMessage(a,o)},d(...a){return Reflect.apply(t.d,t,[...a])},getDateTimeFormat(a){return t.getDateTimeFormat(a)},setDateTimeFormat(a,o){t.setDateTimeFormat(a,o)},mergeDateTimeFormat(a,o){t.mergeDateTimeFormat(a,o)},n(...a){return Reflect.apply(t.n,t,[...a])},getNumberFormat(a){return t.getNumberFormat(a)},setNumberFormat(a,o){t.setNumberFormat(a,o)},mergeNumberFormat(a,o){t.mergeNumberFormat(a,o)}};return r.__extender=n,r}function defineMixin(e,t,n){return{beforeCreate(){const r=getCurrentInstance();if(!r)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const o=a.i18n;if(a.__i18n&&(o.__i18n=a.__i18n),o.__root=t,this===this.$root)this.$i18n=mergeToGlobal(e,o);else{o.__injectWithOption=!0,o.__extender=n.__vueI18nExtend,this.$i18n=createVueI18n(o);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(a.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(e,a);else{this.$i18n=createVueI18n({__i18n:a.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=e;a.__i18nGlobal&&adjustI18nResources(t,a,a),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$te=(o,s)=>this.$i18n.te(o,s),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=getCurrentInstance();if(!r)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const a=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,a.__disposer&&(a.__disposer(),delete a.__disposer,delete a.__extender),n.__deleteInstance(r),delete this.$i18n}}}function mergeToGlobal(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[SetPluralRulesSymbol](t.pluralizationRules||e.pluralizationRules);const n=getLocaleMessages(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,a)=>[...r,...a.type===Fragment?a.children:[a]],[]):t.reduce((n,r)=>{const a=e[r];return a&&(n[r]=a()),n},create())}function getFragmentableTag(){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign$1({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>isNumber$1(e)||!isNaN(e)}},baseFormatProps),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(f=>f!=="_"),s=create();e.locale&&(s.locale=e.locale),e.plural!==void 0&&(s.plural=isString$1(e.plural)?+e.plural:e.plural);const l=getInterpolateArg(t,o),c=a[TranslateVNodeSymbol](e.keypath,l,s),u=assign$1(create(),r),d=isString$1(e.tag)||isObject$2(e.tag)?e.tag:getFragmentableTag();return h(d,u,c)}}}),Translation=TranslationImpl;function isVNode(e){return isArray$1(e)&&!isString$1(e[0])}function renderFormatter(e,t,n,r){const{slots:a,attrs:o}=t;return()=>{const s={part:!0};let l=create();e.locale&&(s.locale=e.locale),isString$1(e.format)?s.key=e.format:isObject$2(e.format)&&(isString$1(e.format.key)&&(s.key=e.format.key),l=Object.keys(e.format).reduce((m,_)=>n.includes(_)?assign$1(create(),m,{[_]:e.format[_]}):m,create()));const c=r(e.value,s,l);let u=[s.key];isArray$1(c)?u=c.map((m,_)=>{const g=a[m.type],v=g?g({[m.type]:m.value,index:_,parts:c}):[m.value];return isVNode(v)&&(v[0].key=`${m.type}-${_}`),v}):isString$1(c)&&(u=[c]);const d=assign$1(create(),o),f=isString$1(e.tag)||isObject$2(e.tag)?e.tag:getFragmentableTag();return h(f,d,u)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$1({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return renderFormatter(e,t,NUMBER_FORMAT_OPTIONS_KEYS,(...r)=>n[NumberPartsSymbol](...r))}}),NumberFormat=NumberFormatImpl;function getComposer$1(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function vTDirective(e){const t=s=>{const{instance:l,value:c}=s;if(!l||!l.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const u=getComposer$1(e,l.$),d=parseValue(c);return[Reflect.apply(u.t,u,[...makeParams(d)]),u]};return{created:(s,l)=>{const[c,u]=t(l);inBrowser&&e.global===u&&(s.__i18nWatcher=watch(u.locale,()=>{l.instance&&l.instance.$forceUpdate()})),s.__composer=u,s.textContent=c},unmounted:s=>{inBrowser&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:l})=>{if(s.__composer){const c=s.__composer,u=parseValue(l);s.textContent=Reflect.apply(c.t,c,[...makeParams(u)])}},getSSRProps:s=>{const[l]=t(s);return{textContent:l}}}}function parseValue(e){if(isString$1(e))return{path:e};if(isPlainObject$2(e)){if(!("path"in e))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return e}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(e){const{path:t,locale:n,args:r,choice:a,plural:o}=e,s={},l=r||{};return isString$1(n)&&(s.locale=n),isNumber$1(a)&&(s.plural=a),isNumber$1(o)&&(s.plural=o),[t,l,s]}function apply(e,t,...n){const r=isPlainObject$2(n[0])?n[0]:{};(isBoolean$2(r.globalInstall)?r.globalInstall:!0)&&([Translation.name,"I18nT"].forEach(o=>e.component(o,Translation)),[NumberFormat.name,"I18nN"].forEach(o=>e.component(o,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach(o=>e.component(o,DatetimeFormat))),e.directive("t",vTDirective(t))}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(e={}){const t=__VUE_I18N_LEGACY_API__&&isBoolean$2(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=isBoolean$2(e.globalInjection)?e.globalInjection:!0,r=new Map,[a,o]=createGlobal(e,t),s=makeSymbol("");function l(f){return r.get(f)||null}function c(f,m){r.set(f,m)}function u(f){r.delete(f)}const d={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(f,...m){if(f.__VUE_I18N_SYMBOL__=s,f.provide(f.__VUE_I18N_SYMBOL__,d),isPlainObject$2(m[0])){const v=m[0];d.__composerExtend=v.__composerExtend,d.__vueI18nExtend=v.__vueI18nExtend}let _=null;!t&&n&&(_=injectGlobalFields(f,d.global)),__VUE_I18N_FULL_INSTALL__&&apply(f,d,...m),__VUE_I18N_LEGACY_API__&&t&&f.mixin(defineMixin(o,o.__composer,d));const g=f.unmount;f.unmount=()=>{_&&_(),d.dispose(),g()}},get global(){return o},dispose(){a.stop()},__instances:r,__getInstance:l,__setInstance:c,__deleteInstance:u};return d}function useI18n(e={}){const t=getCurrentInstance();if(t==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const n=getI18nInstance(t),r=getGlobalComposer(n),a=getComponentOptions(t),o=getScope(e,a);if(o==="global")return adjustI18nResources(r,e,a),r;if(o==="parent"){let c=getComposer(n,t,e.__useComponent);return c==null&&(c=r),c}const s=n;let l=s.__getInstance(t);if(l==null){const c=assign$1({},e);"__i18n"in a&&(c.__i18n=a.__i18n),r&&(c.__root=r),l=createComposer(c),s.__composerExtend&&(l[DisposeSymbol]=s.__composerExtend(l)),setupLifeCycle(s,t,l),s.__setInstance(t,l)}return l}function createGlobal(e,t){const n=effectScope(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>createVueI18n(e)):n.run(()=>createComposer(e));if(r==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[n,r]}function getI18nInstance(e){const t=inject(e.isCE?I18nInjectionKey:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw createI18nError(e.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return t}function getScope(e,t){return isEmptyObject(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function getGlobalComposer(e){return e.mode==="composition"?e.global:e.global.__composer}function getComposer(e,t,n=!1){let r=null;const a=t.root;let o=getParentComponentInstance(t,n);for(;o!=null;){const s=e;if(e.mode==="composition")r=s.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const l=s.__getInstance(o);l!=null&&(r=l.__composer,n&&r&&!r[InejctWithOptionSymbol]&&(r=null))}if(r!=null||a===o)break;o=o.parent}return r}function getParentComponentInstance(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function setupLifeCycle(e,t,n){onMounted(()=>{},t),onUnmounted(()=>{const r=n;e.__deleteInstance(t);const a=r[DisposeSymbol];a&&(a(),delete r[DisposeSymbol])},t)}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(e,t){const n=Object.create(null);return globalExportProps.forEach(a=>{const o=Object.getOwnPropertyDescriptor(t,a);if(!o)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const s=isRef(o.value)?{get(){return o.value.value},set(l){o.value.value=l}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,a,s)}),e.config.globalProperties.$i18n=n,globalExportMethods.forEach(a=>{const o=Object.getOwnPropertyDescriptor(t,a);if(!o||!o.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${a}`,o)}),()=>{delete e.config.globalProperties.$i18n,globalExportMethods.forEach(a=>{delete e.config.globalProperties[`$${a}`]})}}const DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$1({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return renderFormatter(e,t,DATETIME_FORMAT_OPTIONS_KEYS,(...r)=>n[DatetimePartsSymbol](...r))}}),DatetimeFormat=DatetimeFormatImpl;if(initFeatureFlags(),registerMessageCompiler(compile),registerMessageResolver(resolveValue),registerLocaleFallbacker(fallbackWithLocaleChain),__INTLIFY_PROD_DEVTOOLS__){const e=getGlobalThis();e.__INTLIFY__=!0,setDevToolsHook(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const _export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},_hoisted_1$k={class:"weilin_prompt_ui_window-title"},_hoisted_2$g=["title"],_sfc_main$l={__name:"DraggableWindow",props:{title:{type:String,required:!0},position:{type:Object,required:!0},size:{type:Object,required:!0},zIndex:{type:Number,default:1},name:{type:String,default:"default_window_name"}},emits:["update:position","update:size","active","close"],setup(e,{emit:t}){const n=e,{t:r}=useI18n(),a=t,o=ref({x:0,y:0}),s=ref({width:600,height:400});watch(()=>n.position,B=>{B&&(o.value={...B},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_position`},"*"))},{immediate:!0,deep:!0}),watch(()=>n.size,B=>{B&&(s.value={...B},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_size`},"*"))},{immediate:!0,deep:!0});const l=()=>{window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_scroll`},"*")};onMounted(()=>{var B,L;if(n.position){const F=window.innerWidth,z=window.innerHeight;let ee=n.position.x,W=n.position.y;ee=Math.max(50,ee),ee=Math.min(ee,F-(((B=n.size)==null?void 0:B.width)||s.value.width)),W=Math.max(50,W),W=Math.min(W,z-(((L=n.size)==null?void 0:L.height)||s.value.height)),o.value={x:ee,y:W}}n.size&&(s.value={...n.size})});const c=ref(!1),u=ref({x:0,y:0}),d=B=>{c.value=!0,u.value={x:B.clientX-o.value.x,y:B.clientY-o.value.y},document.addEventListener("mousemove",f),document.addEventListener("mouseup",m)},f=B=>{if(c.value){const L=window.innerWidth,F=window.innerHeight;let z=B.clientX-u.value.x,ee=B.clientY-u.value.y;z=Math.max(50,z),z=Math.min(z,L-s.value.width),ee=Math.max(50,ee),ee=Math.min(ee,F-s.value.height);const W={x:z,y:ee};o.value=W,a("update:position",W)}},m=()=>{c.value=!1,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)},_=ref(!1),g=ref({x:0,y:0}),v=ref({width:0,height:0}),b=B=>{_.value=!0,g.value={x:B.clientX,y:B.clientY},v.value={...s.value},document.addEventListener("mousemove",y),document.addEventListener("mouseup",S)},y=B=>{if(_.value){const L=B.clientX-g.value.x,F=B.clientY-g.value.y,z={width:Math.max(200,v.value.width+L),height:Math.max(200,v.value.height+F)};s.value=z,a("update:size",z)}},S=()=>{_.value=!1,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",S)},N=()=>{a("active")},x=()=>{a("close")},C=B=>{N(),d(B)};return(B,L)=>(openBlock(),createBlock(Teleport,{to:"#weilin_comfyui_tools_prompt_ui_div"},[createBaseVNode("div",{class:"weilin_prompt_ui_draggable-window",style:normalizeStyle({left:`${o.value.x}px`,top:`${o.value.y}px`,width:`${s.value.width}px`,height:`${s.value.height}px`,zIndex:e.zIndex}),onMousedown:N},[createBaseVNode("div",{class:"weilin_prompt_ui_window-header",onMousedown:withModifiers(C,["stop"])},[createBaseVNode("div",_hoisted_1$k,toDisplayString$1(e.title),1),createBaseVNode("button",{class:"weilin_prompt_ui_close-btn",onClick:x},"×")],32),createBaseVNode("div",{class:"weilin_prompt_ui_window-content",onScroll:l},[renderSlot(B.$slots,"default",{},void 0,!0)],32),createBaseVNode("div",{class:"weilin_prompt_ui_resize-handle",title:unref(r)("common.windowSize"),onMousedown:withModifiers(b,["stop"])},null,40,_hoisted_2$g)],36)]))}},DraggableWindow=_export_sfc(_sfc_main$l,[["__scopeId","data-v-744cae49"]]),version="v0.0.47",zh_CN={promptBox:{placeholder:"请输入文本...",delete:"删除",newline:"换行",tab:"制表符",windowTitle:"WeiLin提示词UI窗口 "+version,windowTitleGlobal:"WeiLin全局提示词UI窗口 "+version,translate:"翻译",translatePlaceholder:"请输入要翻译的文本",weight:"权重",weightPlaceholder:"请输入权重",addBracket:"添加括号",removeLayer:"减去括号",oneClickTranslate:"一键翻译未翻译的词组",hiddenHint:"双击显示提示词",tagTips:"鼠标左键双击屏蔽Tag<br>鼠标左键单击Tag可以编辑<br>鼠标左键拖动可以拖动Tag",settings:{title:"设置",cancel:"取消",save:"保存",translator:"翻译设置",sourceLanguage:"源语言",targetLanguage:"目标语言",chinese_simplified:"简体中文",english:"英语",close:"关闭",auto_detect:"自动检测",setting_floating_ball:"悬浮球设置",setting_prompt_box:"提示词设置",enablePromptCommaShow:"显示提示词逗号",floatingBallCount:"悬浮球数量",floatingBallCountPlaceholder:"请输入悬浮球数量",floatingBallSize:"悬浮球大小",floatingBallSizePlaceholder:"请输入悬浮球大小",enableFloatingBall:"启用悬浮球",enableCommaConversion:"启用逗号转换，全角逗号转为半角逗号",enablePeriodConversion:"启用句号转换，全角句号转为半角句号",enableBracketConversion:"启用括号转换，全角括号转为半角括号",enableAngleBracketConversion:"启用尖括号转换，全角尖括号转为半角尖括号",enableUnderscoreToBracket:"启用下划线转换，下划线转换为空格",setting_openai_box:"OpenAI设置",openai_api_key:"API Key",openai_api_key_placeholder:"请输入API Key",openai_api_key_save:"保存",openaiSettings:"OpenAI设置",openai_base_url:"Base URL",openai_base_url_placeholder:"请输入Base URL",openai_model:"模型",openai_model_placeholder:"请输入模型",not_set:"未设置",edit:"编辑",delete:"删除",selectedOpenaiConfig:"当前选择的OpenAI配置",addNewConfig:"添加OpenAI配置",setting_sponsor_me:"赞助我",sponsorMe:"赞助我",sponsorMeTip:"赞助我，支持我继续开发",sponsorMeLink:"唯一赞助链接 https://afdian.com/a/weilin9999",setting_start_panel:"启动面板",startPanel:"启动面板",startPanelTip:"点击启动面板，启动成功后会自动打开面板页面",selectTranslater:"选择翻译器",selectOptionNetworkTranslater:"三方网络翻译",selectOptionPythonTranslater:"翻译库翻译",apply:"应用",selectOptionNetworkTranslaterTitle:"三方网络翻译设置",selectOptionPythonTranslaterTitle:"翻译库设置",selectOptionNetworkTranslaterInfo:"使用的三方工具是（仅网络翻译）",selectOptionPythonTranslaterInfo:"使用的翻译包为translators",install:"安装",nowTranlaterPackageState:"当前翻译包状态：",tranlaterPackageStateTrue:"已安装",tranlaterPackageStateFlase:"未安装",installed:"正在安装中...",installTranslaterPackageInfo:"当前正在安装翻译库中，请不要关闭窗口！等待安装完成",translaterSetting:"翻译设置",chooseTranslaterSetting:"选择翻译服务：",translaterLangSourceSetting:"翻译语言：",translaterLangTargeSetting:"翻译目标语言：",saveTranslaterSetting:"保存设置",testTranslaterTitle:"测试翻译",inputTestTranslater:"输入翻译内容：",outPutTestTranslater:"翻译结果：",testingTranslater:"测试翻译",inputTestTranslaterPlaceholder:"请输入要翻译的内容",outPutTestTranslaterPlaceholder:"翻译结果将显示在这里",errorPrompt:"读取节点提示词失败！",setting_auto_complete_limit:"补全提示设置",show_auto_limit:"显示补全提示数量",showAutoLimitPlaceholder:"请输入要显示的数量",settingAutoCompleteWidth:"设置补全提示框宽度",settingAutoCompleteWidthPlaceholder:"请输入宽度",settingAutoCompleteHeight:"设置补全提示框最大高度",settingAutoCompleteHeightPlaceholder:"请输入最大高度"}},controls:{language:"语言",settings:"设置",switchTheme:"切换主题",darkMode:"夜间模式",lightMode:"日间模式",tagManager:"标签管理",loraStack:"Lora堆",loraManager:"Lora管理",history:"历史记录",addLora:"添加Lora",removeLora:"移除Lora",lookOnLora:"查看Lora",aiChat:"AI对话",github:"Github主页",shareCloudData:"共享云数据",tutorialVideo:"教程视频"},theme:{toggle:"切换主题"},common:{confirmDelete:"确认删除",delete:"删除",cancel:"取消",confirm:"确定",edit:"编辑",save:"保存",refresh:"刷新",copy:"复制",copySuccess:"复制成功",copyFailed:"复制失败",windowSize:"调节窗口大小",showMore:"显示更多",showLess:"收起"},cloudWindow:{windowTitle:"共享云仓库",back:"返回上一级",currentPath:"当前路径",tagDatabase:"Tag 数据库",danbooruDatabase:"Danbooru 数据库",open:"打开文件夹",installed:"已安装",install:"安装",installing:"正在安装..."},nodeListWindow:{windowTitle:"节点列表",openPromptUI:"打开提示词编辑器"},lora:{title:"Lora 信息",rawTitle:"LoraRaw",file:"文件",hash:"Hash值",civitai:"Civitai",viewOnCivitai:"在 Civitai 上查看",fetchFromCivitai:"从 Civitai 获取信息",modelNotFound:"模型未找到",modelNotFoundTip:"该模型在 Civitai 上未找到，可能是私有模型或已被删除",name:"名称",nameTip:"模型的显示名称",type:"类型",baseModel:"基础模型",trainedWords:"训练词",trainedWordsTip:"模型训练时使用的关键词，点击可选择复制",selectedWords:"已选择 {count} 个词",strengthMin:"最小强度",strengthMinTip:"推荐的最小强度值",strengthMax:"最大强度",strengthMaxTip:"推荐的最大强度值",promptWords:"提示词",promptWordsTip:"使用该模型时的推荐提示词",loraWorks:"Lora提示词",strWeight:"文本强度权重",hideLora:"隐藏Lora",showLora:"显示Lora",baseModel:"基础模型",skipClip:"跳过层",seeLoraRaw:"查看LoraRaw"},tagManager:{deletePrimaryCategoryConfirm:"确定要删除分类 {name} 吗？",deleteGroupConfirm:"确定要删除分组 {name} 吗？",deleteTagConfirm:"确定要删除标签 {name} 吗？",windowTitle:"标签管理器",categories:"分类管理",groups:"分组管理",selectCategory:"请选择分类",selectGroup:"请选择分组",addPrimaryCategory:"添加分类",addGroup:"添加分组",editPrimaryCategory:"编辑分类",editGroup:"编辑分组",editTag:"编辑标签",categoryName:"分类名称",categoryNamePlaceholder:"请输入分类名称",categoryNameRequired:"分类名称不能为空",groupName:"分组名称",groupNamePlaceholder:"请输入分组名称",groupNameRequired:"分组名称不能为空",addTag:"添加Tag",text:"Tag描述",textPlaceholder:"请输入Tag描述",description:"Tag",descriptionPlaceholder:"请输入Tag",textRequired:"Tag和Tag描述不能为空",backgroundColor:"背景颜色",colorPickerTitle:"选择颜色",opacity:"透明度",searchPlaceholder:"搜索Tag...",noResults:"未找到相关结果",searchInCategory:"在分类中",searchInTag:"在Tag中",save:"保存",cancel:"取消",confirm:"确定",delete:"删除",addSubCategory:"添加子分类",editSubCategory:"编辑子分类",subCategoryName:"子分类名称",subCategoryNamePlaceholder:"请输入子分类名称",subCategoryNameRequired:"子分类名称不能为空",deleteConfirmTitle:"确认删除",deleteConfirmMessage:"此操作将永久删除该{type}，是否继续？",deleteSuccess:"删除成功",deleteFailed:"删除失败",saveSuccess:"保存成功",saveFailed:"保存失败",colorPickerAlpha:"透明度",colorPickerHex:"十六进制颜色值",colorPreview:"颜色预览",dragToSort:"拖动排序",searchTags:"搜索标签",noTagsFound:"未找到标签",noGroupsFound:"未找到分组",noCategoriesFound:"未找到分类",refresh:"刷新",refreshing:"刷新中...",refreshSuccess:"刷新成功",refreshFailed:"刷新失败",search:"搜索",searching:"搜索中...",searchResult:"搜索结果",searchInPath:"位于: {path}",category:"分类",group:"分组",tag:"标签",resultType:{category:"分类",group:"分组",tag:"标签"},hasDeleteAction:"批量删除",deleteSelected:"删除选中",confirmDeleteSelected:"确定要删除选中标签吗？",cancelDelete:"取消删除",moveTag:"移动标签",targetTag:"目标标签",movePosition:"移动位置",moveBefore:"移动到目标标签之前",moveAfter:"移动到目标标签之后",editTag:"编辑标签",deleteTag:"删除标签",editGroupMode:"编辑模式",exitEditMode:"退出编辑模式",autoAddSearchTag:"搜索的Tag自动添加到提示词中",importTags:"批量导入Tag",share:"分享",delete:"删除",edit:"编辑",outputSuccess:"分享成功",noTagsSelected:"没有选择要分享的Tag",shareSelected:"分享选择的Tag",batchShare:"批量分享Tag",cancelShare:"取消分享"},loraManager:{windowTitle:"Lora管理",modelWeight:"模型权重",textEncoderWeight:"文本权重",all:"全部",refresh:"刷新",cacheAll:"缓存全部Lora信息",searchPlaceholder:"搜索Lora...",prevPage:"上一页",nextPage:"下一页",noResults:"未找到相关结果",loadingMore:"正在加载更多...",noMoreData:"没有更多结果了"},message:{copySuccess:"复制成功",copyFailed:"复制失败",saveSuccess:"保存成功",saveFailed:"保存失败",deleteSuccess:"删除成功",deleteFailed:"删除失败",operationSuccess:"操作成功",operationFailed:"操作失败",networkError:"网络错误",unknownError:"未知错误",refreshSuccess:"刷新成功",refreshFailed:"刷新失败",loadingData:"加载数据中...",dataLoaded:"数据加载完成",editSuccess:"编辑成功",editFailed:"编辑失败",addSuccess:"添加成功",addFailed:"添加失败",addFavoriteSuccess:"已添加到收藏夹",addFavoriteIsExist:"已添加到收藏夹",error:"错误",editNameExist:"名称已存在",moveSuccess:"移动成功",moveFailed:"移动失败",setLanguageSuccess:"设置语言成功",setLanguageFailed:"设置语言失败",startPanelSuccess:"启动面板成功",startPanelFailed:"启动面板失败",isLoading:"已在执行中请等待",loaddingPrc:"执行进度 {name}%",loaddingSuccess:"已全部加载成功",noFinishKuo:"括号不完整，请检查输入",getTranslaterFail:"获取翻译设置失败",applyTranslaterFail:"应用翻译设置失败",applyToTranslaterFail:"切换翻译库翻译需要安装翻译库，请先安装翻译库再应用设置",applyTranslaterSuccess:"应用翻译设置成功",tranlaterPackageInstallFail:"等待安装超时，请查看后台安装情况，若安装成功再次点击安装即可验证",tranlaterPackageInstallSuccess:"安装翻译包成功",translaterTestFail:"翻译失败，请使用其它的翻译服务进行尝试",installPackageSuccess:"安装共享数据成功！",installPackageFail:"安装共享数据失败，请查看后台错误",loadFailed:"加载失败",jsonErrorMesg:"JSON文件格式错误",pleaseAddSub:"请先添加二级分类",pleaseAddMainCeb:"请先添加一级分类",pleaseSelectGroup:"请选择完整的分组路径"},history:{title:"历史记录",search_placeholder:"搜索历史记录...",search:"搜索",windowTitle:"历史记录",favorites:"收藏夹",history:"历史记录",refresh:"刷新",refresh_history:"刷新历史记录",refresh_favorites:"刷新收藏夹",add_to_favorites:"添加到收藏夹",delete_history:"删除历史记录",use_item:"使用",add_new:"添加收藏",bulk_delete:"批量删除",deleteHistoryConfirm:"确定要删除历史记录 {name} 吗？",deleteFavoriteConfirm:"确定要删除收藏夹 {name} 吗？",confirmDeleteSelected:"确定要删除选中的信息吗？",cancel_delete:"取消删除",sure_delete:"确定删除",deleteSelected:"删除选中",dialog:{add_tag:"添加收藏",edit_tag:"编辑收藏",name:"名称",name_placeholder:"请输入名称",tag:"标签",tag_placeholder:"请输入标签",background_color:"背景颜色",background_color_placeholder:"请选择背景颜色",edit_favorite:"编辑收藏",delete_favorite:"删除收藏"},edit_favorite:"编辑收藏",delete_favorite:"删除收藏",use_favorite:"使用收藏"},floatingBall:{promptBox:"打开全局提示词",tagManager:"打开标签管理",loraManager:"打开Lora管理",aiWindow:"打开AI对话",restoreWindow:"重置所有窗口",openNodeListWindow:"打开节点列表",tranToWeb:"图片转换工具"},aiWindow:{windowTitle:"AI对话窗口",newChat:"新建对话",chatName:"对话",thinking:"思考中...",send:"发送",inputMessage:"输入你的消息..."},translaterService:{niutrans:"小牛翻译",mymemory:"MyMemory",alibaba:"阿里巴巴翻译",baidu:"百度翻译",modernmt:"ModernMT",volcengine:"火山翻译",iciba:"金山词霸",iflytek:"科大讯飞翻译",google:"谷歌翻译",bing:"必应翻译",lingvanex:"Lingvanex",yandex:"Yandex翻译",itranslate:"iTranslate",systran:"SYSTRAN",argos:"Argos翻译",apertium:"Apertium",reverso:"Reverso翻译",deepl:"DeepL翻译",cloudtranslation:"云翻译",qqtransmart:"腾讯翻译君",translatecom:"Translate.com",sogou:"搜狗翻译",tilde:"Tilde翻译",caiyun:"彩云小译",qqfanyi:"腾讯翻译",translateme:"TranslateMe",papago:"Papago翻译",mirai:"未来翻译",youdao:"有道翻译",iflyrec:"讯飞听见翻译",hujiang:"沪江翻译",yeekit:"译库翻译",languagewire:"LanguageWire",elia:"Elia翻译",judic:"Judic翻译",mglip:"蒙古语翻译",utibet:"藏语翻译"},translaterLanguage:{english:"英语",chinese:"中文",arabic:"阿拉伯语",russian:"俄语",french:"法语",german:"德语",spanish:"西班牙语",portuguese:"葡萄牙语",italian:"意大利语",japanese:"日语",korean:"韩语",greek:"希腊语",dutch:"荷兰语",hindi:"印地语",turkish:"土耳其语",malay:"马来语",thai:"泰语",vietnamese:"越南语",indonesian:"印度尼西亚语",hebrew:"希伯来语",polish:"波兰语",mongolian:"蒙古语",czech:"捷克语",hungarian:"匈牙利语",estonian:"爱沙尼亚语",bulgarian:"保加利亚语",danish:"丹麦语",finnish:"芬兰语",romanian:"罗马尼亚语",swedish:"瑞典语",slovenian:"斯洛文尼亚语","persian/farsi":"波斯语/波斯语",bosnian:"波斯尼亚语",serbian:"塞尔维亚语",fijian:"斐济语",filipino:"菲律宾语",haitiancreole:"海地克里奥尔语",catalan:"加泰罗尼亚语",croatian:"克罗地亚语",latvian:"拉脱维亚语",lithuanian:"立陶宛语",urdu:"乌尔都语",ukrainian:"乌克兰语",welsh:"威尔士语",tahiti:"塔希提语",tongan:"汤加语",swahili:"斯瓦希里语",samoan:"萨摩亚语",slovak:"斯洛伐克语",afrikaans:"南非荷兰语",norwegian:"挪威语",bengali:"孟加拉语",malagasy:"马达加斯加语",maltese:"马耳他语","queretaro otomi":"克雷塔罗奥托米语","klingon/tlhingan hol":"克林贡语",gujarati:"古吉拉特语",tamil:"泰米尔语",telugu:"泰卢固语",punjabi:"旁遮普语",amharic:"阿姆哈拉语",azerbaijani:"阿塞拜疆语",bashkir:"巴什基尔语",belarusian:"白俄罗斯语",cebuano:"宿务语",chuvash:"楚瓦什语",esperanto:"世界语",basque:"巴斯克语",irish:"爱尔兰语"},utils:{tranToWeb:"转换图片为HTML",dropOrPasteImage:"拖动图片或粘贴图片到此处",downloadHtml:"下载HTML",copyHtml:"复制HTML",copySuccess:"HTML已复制",copyFailed:"复制HTML失败",clear:"清空内容"},importDialog:{title:"批量导入Tag",sure:"确认并导入",cleanAll:"清空所有",dumpSQL:"导出所有SQL",uploadSQL:"上传原始SQL文件",setMainCeb:"设置一级分类",setSubCeb:"设置二级分类",addTag:"添加Tag",fromJSONImput:"从JSON文件批量导入Tag",fromTxtInput:"从TXT文件批量导入Tag",fromYmalInput:"从YAML文件批量导入Tag",selectMainCeb:"选择一级分类",selectSubCeb:"选择二级分类",selectGroup:"选择已有分类",sureSelect:"确认选择",pleaseAddGroupName:"请填写一级分类名称",pleaseAddSubGroupName:"请填写二级分类名称",pleaseFullRequest:"请填写完整一级分类和二级分类信息",successImport:"导入成功",importFail:"导入失败",dumpOnlySQL:"仅导出Tag的SQL",settingOutputName:"设置导出文件名称",sureYes:"确认",cancel:"取消",edit:"编辑",delete:"删除",add:"添加Tag",pleaseMainCebUuid:"一级分原UUID，增量更新才需要",pleaseSubGroupUuid:"二级分原UUID，增量更新才需要",pleaseSubGroup:"二级分类名称",pleaseMainCeb:"一级分类名称",translater:"描述",tips1:"使用教程：",tips1text:"B站视频教程",tips2:"Tag云仓库：",tips2text:"GitHub仓库",tips3:"在线批量编辑：",tips3text:"在线编辑器"}},en_US={promptBox:{placeholder:"Please enter text...",delete:"Delete",newline:"New Line",tab:"Tab",windowTitle:"WeiLin Prompt UI Window "+version,windowTitleGlobal:"WeiLin Global Prompt UI Window "+version,translate:"Translate",translatePlaceholder:"Please enter the text to be translated",weight:"Weight",weightPlaceholder:"Please enter the weight",addBracket:"Add Bracket",removeLayer:"Remove Bracket",oneClickTranslate:"One Click Translate Untranslated Phrases",hiddenHint:"Double-click to show",tagTips:"Double-click the left mouse button to mask the Tag<br>click the Tag to edit<br>and drag the Tag to drag",settings:{title:"Settings",cancel:"Cancel",save:"Save",translator:"Translator",sourceLanguage:"Source Language",targetLanguage:"Target Language",chinese_simplified:"Chinese Simplified",english:"English",close:"Close",auto_detect:"Auto Detect",setting_floating_ball:"Setting Floating Ball",setting_prompt_box:"Setting Prompt Box",enablePromptCommaShow:"Show Prompt Comma",floatingBallCount:"Floating Ball Count",floatingBallCountPlaceholder:"Please enter the number of floating balls",floatingBallSize:"Floating Ball Size",floatingBallSizePlaceholder:"Please enter the size of the floating ball",enableFloatingBall:"Enable Floating Ball",enableCommaConversion:"Enable Comma Conversion",enablePeriodConversion:"Enable Period Conversion",enableBracketConversion:"Enable Bracket Conversion",enableAngleBracketConversion:"Enable Angle Bracket Conversion",enableUnderscoreToBracket:"Enable Underscore to Bracket",setting_openai_box:"OpenAI Settings",openai_api_key:"API Key",openai_api_key_placeholder:"Please enter API Key",openai_api_key_save:"Save",openaiSettings:"OpenAI Settings",openaiSettings_api_key:"API Key",openaiSettings_api_key_placeholder:"Please enter API Key",openaiSettings_api_key_save:"Save",openai_base_url:"Base URL",openai_base_url_placeholder:"Please enter Base URL",openai_model:"Model",openai_model_placeholder:"Please enter Model",not_set:"Not Set",edit:"Edit",delete:"Delete",selectedOpenaiConfig:"Selected OpenAI Config",addNewConfig:"Add New Config",setting_sponsor_me:"Sponsor Me",sponsorMe:"Sponsor Me",sponsorMeTip:"Sponsor Me, Support Me to Continue Development",sponsorMeLink:"Unique Sponsor Link https://afdian.com/a/weilin9999",setting_start_panel:"Start Panel",startPanel:"Start Panel",startPanelTip:"Click Start Panel, after successful startup, the panel page will be automatically opened",selectTranslater:"select translater",selectOptionNetworkTranslater:"Three party online translation",selectOptionPythonTranslater:"Translation Library Translation",apply:"Apply",selectOptionNetworkTranslaterTitle:"Three party network translation settings",selectOptionPythonTranslaterTitle:"Translation library settings",selectOptionNetworkTranslaterInfo:"The third-party tool used is (only for online translation)",selectOptionPythonTranslaterInfo:"The translation package used is translators",install:"Install",nowTranlaterPackageState:"now transtler package state:",tranlaterPackageStateTrue:"installed",tranlaterPackageStateFlase:"not installed",installed:"is installed ....",installTranslaterPackageInfo:"Currently installing translation library, please do not close the window! Wait for installation to complete",translaterSetting:"Translation Settings",chooseTranslaterSetting:"Choose a translation service:",translaterLangSourceSetting:"Translation language:",translaterLangTargeSetting:"Translation target language:",saveTranslaterSetting:"Save Settings",testTranslaterTitle:"Test translation",inputTestTranslater:"Enter translation content:",outPutTestTranslater:"Translation result:",testingTranslater:"Test translation",inputTestTranslaterPlaceholder:"Please enter the content to be translated",outPutTestTranslaterPlaceholder:"The translation result will be displayed here",errorPrompt:"Read the prompt node failed"}},controls:{language:"Language",settings:"Settings",switchTheme:"Switch Theme",darkMode:"Dark Mode",lightMode:"Light Mode",tagManager:"Tag Manager",loraStack:"Lora Stack",loraManager:"Lora Manager",history:"History",addLora:"Add Lora",removeLora:"Remove Lora",lookOnLora:"Look On Lora",aiChat:"AI Chat",github:"Github Home",shareCloudData:"Share Cloud Data",tutorialVideo:"Tutorial Video"},theme:{toggle:"Switch Theme"},lora:{title:"Lora Information",rawTitle:"LoraRaw",file:"File",hash:"Hash",civitai:"Civitai",viewOnCivitai:"View on Civitai",fetchFromCivitai:"Fetch from Civitai",modelNotFound:"Model not found",modelNotFoundTip:"The model was not found on Civitai. It might be private or deleted",name:"Name",nameTip:"Display name of the model",type:"Type",baseModel:"Base Model",trainedWords:"Trained Words",trainedWordsTip:"Keywords used in model training, click to select for copying",selectedWords:"{count} words selected",strengthMin:"Min Strength",strengthMinTip:"Recommended minimum strength value",strengthMax:"Max Strength",strengthMaxTip:"Recommended maximum strength value",promptWords:"Prompt Words",promptWordsTip:"Recommended prompt words when using this model",loraWorks:"Lora Prompt Words",strWeight:"Text Strength Weight",hideLora:"Hidden Lora",showLora:"Show Lora",baseModel:"Base Model",skipClip:"Clip Skip",seeLoraRaw:"LoraRaw"},common:{confirmDelete:"Confirm Delete",delete:"Delete",cancel:"Cancel",confirm:"Confirm",edit:"Edit",save:"Save",refresh:"Refresh",copy:"Copy",copySuccess:"Copied successfully",copyFailed:"Copy failed",windowSize:"Adjust window size",showMore:"show more",showLess:"show less"},nodeListWindow:{windowTitle:"Node List",openPromptUI:"Open Prompt UI"},tagManager:{deletePrimaryCategoryConfirm:"Are you sure you want to delete category {name}?",deleteGroupConfirm:"Are you sure you want to delete group {name}?",deleteTagConfirm:"Are you sure you want to delete tag {name}?",windowTitle:"Tag Manager",categories:"Categories",groups:"Groups",selectCategory:"Please select a category",selectGroup:"Please select a group",addPrimaryCategory:"Add Category",addGroup:"Add Group",editPrimaryCategory:"Edit Category",editGroup:"Edit Group",editTag:"Edit Tag",categoryName:"Category Name",categoryNamePlaceholder:"Enter category name",categoryNameRequired:"Category name is required",groupName:"Group Name",groupNamePlaceholder:"Enter group name",groupNameRequired:"Group name is required",addTag:"Add Tag",text:"Tag Description",textPlaceholder:"Enter tag Description",description:"Tag",descriptionPlaceholder:"Enter tag",textRequired:"Tag and Tag description cannot be empty",backgroundColor:"Background Color",colorPickerTitle:"Select Color",opacity:"Opacity",searchPlaceholder:"Search tags...",noResults:"No results found",searchInCategory:"in category",searchInTag:"in tag",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",addSubCategory:"Add Sub-category",editSubCategory:"Edit Sub-category",subCategoryName:"Sub-category Name",subCategoryNamePlaceholder:"Enter sub-category name",subCategoryNameRequired:"Sub-category name is required",deleteConfirmTitle:"Confirm Delete",deleteConfirmMessage:"This action will permanently delete this {type}. Continue?",deleteSuccess:"Deleted successfully",deleteFailed:"Delete failed",saveSuccess:"Saved successfully",saveFailed:"Save failed",colorPickerAlpha:"Opacity",colorPickerHex:"Hex Color Value",colorPreview:"Color Preview",dragToSort:"Drag to Sort",searchTags:"Search Tags",noTagsFound:"No tags found",noGroupsFound:"No groups found",noCategoriesFound:"No categories found",refresh:"Refresh",refreshing:"Refreshing...",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",search:"Search",searching:"Searching...",searchResult:"Search Result",searchInPath:"Located in: {path}",category:"Category",group:"Group",tag:"Tag",resultType:{category:"Category",group:"Group",tag:"Tag"},hasDeleteAction:"Batch Delete",deleteSelected:"Delete Selected",confirmDeleteSelected:"Are you sure you want to delete the selected tags?",cancelDelete:"Cancel Delete",moveTag:"Move Tag",targetTag:"Target Tag",movePosition:"Move Position",moveBefore:"Move Before",moveAfter:"Move After",editTag:"Edit Tag",deleteTag:"Delete Tag",editGroupMode:"Edit Group Mode",exitEditMode:"Exit Edit Mode",autoAddSearchTag:"Auto Add Search Tag With Prompt",importTags:"Import Tags",share:"Share",delete:"Delete",edit:"Edit",outputSuccess:"Share successfully",noTagsSelected:"No share tags selected",shareSelected:"Share selected Tag",batchShare:"Batch Share Tag",cancelShare:"Cancel Share"},loraManager:{windowTitle:"Lora Manager",modelWeight:"Model Weight",textEncoderWeight:"Text Encoder Weight",all:"All",refresh:"Refresh",cacheAll:"Cache all Lora information",searchPlaceholder:"Search Lora...",noResults:"No results found",prevPage:"prev page",nextPage:"next page",loadingMore:"Loadding more ...",noMoreData:"No more data"},message:{copySuccess:"Copy successful",copyFailed:"Copy failed",saveSuccess:"Save successful",saveFailed:"Save failed",deleteSuccess:"Delete successful",deleteFailed:"Delete failed",operationSuccess:"Operation successful",operationFailed:"Operation failed",networkError:"Network error",unknownError:"Unknown error",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",loadingData:"Loading data...",dataLoaded:"Data loaded",editSuccess:"Edit successful",editFailed:"Edit failed",addSuccess:"Add successful",addFailed:"Add failed",addFavoriteSuccess:"Added to favorites",addFavoriteIsExist:"Added to favorites",error:"Error",moveSuccess:"Move successful",moveFailed:"Move failed",setLanguageSuccess:"Set language successful",setLanguageFailed:"Set language failed",startPanelSuccess:"Start panel successful",startPanelFailed:"Start panel failed",isLoading:"Loading...",loaddingPrc:"Execution progress {name}%",loaddingSuccess:"All loaded successfully",noFinishKuo:"The parentheses are incomplete. Please check the input",getTranslaterFail:"Get translator failed",applyTranslaterFail:"Apply translator failed",applyToTranslaterFail:"Switching to a translation library requires installing a translation library. Please install the translation library first and then apply the settings",applyTranslaterSuccess:"Apply translator successful",tranlaterPackageInstallFail:"Waiting for installation timeout, please check the background installation status. If the installation is successful, click install again to verify",tranlaterPackageInstallSuccess:"Successfully installed translation package",translaterTestFail:"Translation failed, please try using another translation service",installPackageSuccess:"Successfully installed translation package",installPackageFail:"Failed to install translation package, please check the background installation status",loadFailed:"load failed",jsonErrorMesg:"The format of the JSON file is incorrect",pleaseAddSub:"Please add the secondary classification first",pleaseAddMainCeb:"Please add the first-level category first",pleaseSelectGroup:"Please select the complete grouping path"},cloudWindow:{windowTitle:"Share Cloud Window",back:"Back",currentPath:"Current Path",tagDatabase:"Tag Database",danbooruDatabase:"Danbooru Database",open:"Open Folder",installed:"Installed",install:"Install",installing:"Installing..."},history:{title:"History",search_placeholder:"Search history...",windowTitle:"History",search:"Search",favorites:"Favorites",history:"History",refresh:"Refresh",refresh_history:"Refresh history",refresh_favorites:"Refresh favorites",add_to_favorites:"Add to favorites",delete_history:"Delete history",use_item:"Use",add_new:"Add new",bulk_delete:"Bulk delete",deleteHistoryConfirm:"Are you sure you want to delete history {name}?",deleteFavoriteConfirm:"Are you sure you want to delete favorite {name}?",confirmDeleteSelected:"Are you sure you want to delete selected information?",cancel_delete:"Cancel delete",sure_delete:"Sure delete",deleteSelected:"Delete selected",dialog:{add_tag:"Add favorite",edit_tag:"Edit favorite",name:"Name",name_placeholder:"Please enter name",tag:"Tag",tag_placeholder:"Please enter tag",background_color:"Background color",background_color_placeholder:"Please select background color",edit_favorite:"Edit favorite",delete_favorite:"Delete favorite"},edit_favorite:"Edit favorite",delete_favorite:"Delete favorite",use_favorite:"Use favorite"},floatingBall:{promptBox:"open Global Prompt Box",tagManager:"open Tag Manager",loraManager:"open Lora Manager",aiWindow:"open AI Chat",restoreWindow:"reset all windows",openNodeListWindow:"open Node List",tranToWeb:"Image to Web Utils"},aiWindow:{windowTitle:"AI Chat Window",newChat:"New Chat",chatName:"Chat",thinking:"Thinking...",send:"Send",inputMessage:"Enter your message..."},translaterService:{niutrans:"niutrans",mymemory:"mymemory",alibaba:"alibaba",baidu:"baidu",modernmt:"modernmt",volcengine:"volcengine",iciba:"iciba",iflytek:"iflytek",google:"google",bing:"bing",lingvanex:"lingvanex",yandex:"yandex",itranslate:"itranslate",systran:"systran",argos:"argos",apertium:"apertium",reverso:"reverso",deepl:"deepl",cloudtranslation:"cloudtranslation",qqtransmart:"qqtransmart",translatecom:"translatecom",sogou:"sogou",tilde:"tilde",caiyun:"caiyun",qqfanyi:"qqfanyi",translateme:"translateme",papago:"papago",mirai:"mirai",youdao:"youdao",iflyrec:"iflyrec",hujiang:"hujiang",yeekit:"yeekit",languagewire:"languagewire",elia:"elia",judic:"judic",mglip:"mglip",utibet:"utibet"},translaterLanguage:{english:"english",chinese:"chinese",arabic:"arabic",russian:"russian",french:"french",german:"german",spanish:"spanish",portuguese:"portuguese",italian:"italian",japanese:"japanese",korean:"korean",greek:"greek",dutch:"dutch",hindi:"hindi",turkish:"turkish",malay:"malay",thai:"thai",vietnamese:"vietnamese",indonesian:"indonesian",hebrew:"hebrew",polish:"polish",mongolian:"mongolian",czech:"czech",hungarian:"hungarian",estonian:"estonian",bulgarian:"bulgarian",danish:"danish",finnish:"finnish",romanian:"romanian",swedish:"swedish",slovenian:"slovenian","persian/farsi":"persian/farsi",bosnian:"bosnian",serbian:"serbian",fijian:"fijian",filipino:"filipino",haitiancreole:"haitiancreole",catalan:"catalan",croatian:"croatian",latvian:"latvian",lithuanian:"lithuanian",urdu:"urdu",ukrainian:"ukrainian",welsh:"welsh",tahiti:"tahiti",tongan:"tongan",swahili:"swahili",samoan:"samoan",slovak:"slovak",afrikaans:"afrikaans",norwegian:"norwegian",bengali:"bengali",malagasy:"malagasy",maltese:"maltese","queretaro otomi":"queretaro otomi","klingon/tlhingan hol":"klingon/tlhingan hol",gujarati:"gujarati",tamil:"tamil",telugu:"telugu",punjabi:"punjabi",amharic:"amharic",azerbaijani:"azerbaijani",bashkir:"bashkir",belarusian:"belarusian",cebuano:"cebuano",chuvash:"chuvash",esperanto:"esperanto",basque:"basque",irish:"irish"},utils:{tranToWeb:"Image to HTML",dropOrPasteImage:"Drop or paste image here",downloadHtml:"Download HTML",copyHtml:"Copy HTML",copySuccess:"HTML copied to clipboard",copyFailed:"Failed to copy HTML",clear:"Clear"},importDialog:{title:"Batch import of Tags",sure:"Confirm and import",cleanAll:"Empty all",dumpSQL:"Export All SQL",uploadSQL:"Upload the original SQL file",setMainCeb:"Set up a first-level classification",setSubCeb:"Set up secondary classification",addTag:"Add Tag",fromJSONImput:"Import tags from the JSON file",fromTxtInput:"Batch import tags from TXT files",fromYmalInput:"Batch import tags from YMAL files",selectMainCeb:"Select the first-level classification",selectSubCeb:"Select the secondary classification",selectGroup:"Select the existing classification",sureSelect:"Confirm the selection",pleaseAddGroupName:"Please fill in the name of the first-level classification",pleaseAddSubGroupName:"Please fill in the name of the secondary classification",pleaseFullRequest:"Please fill in the information of the first-level and second-level classifications completely",successImport:"Import successful",importFail:"Import failed",dumpOnlySQL:"Only export the SQL of the Tag",settingOutputName:"Set the name of the export file",sureYes:"Sure",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add Tag",pleaseMainCebUuid:"The original UUID of the first-level division is only required for incremental updates and cannot be modified",pleaseSubGroupUuid:"The secondary division of the original UUID is only required for incremental updates and cannot be modified",pleaseSubGroup:"Secondary classification name",pleaseMainCeb:"First-level classification name",translater:"Description",tips1:"Usage Tutorial:",tips1text:"Bilibili video tutorial",tips2:"Tag Cloud Warehouse:",tips2text:"GitHub repository",tips3:"Online batch editing:",tips3text:"Online editor"}};/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let n=[],r=[];const a=markRaw({install(o){setActivePinia(a),a._a=o,o.provide(piniaSymbol,a),o.config.globalProperties.$pinia=a,r.forEach(s=>n.push(s)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const noop$1=()=>{};function addSubscription(e,t,n,r=noop$1){e.push(t);const a=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&getCurrentScope()&&onScopeDispose(a),a}function triggerSubscriptions(e,...t){e.slice().forEach(n=>{n(...t)})}const fallbackRunWithContext=e=>e(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];isPlainObject$1(a)&&isPlainObject$1(r)&&e.hasOwnProperty(n)&&!isRef(r)&&!isReactive(r)?e[n]=mergeReactiveObjects(a,r):e[n]=r}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject$1(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,n,r){const{state:a,actions:o,getters:s}=t,l=n.state.value[e];let c;function u(){l||(n.state.value[e]=a?a():{});const d=toRefs(n.state.value[e]);return assign(d,o,Object.keys(s||{}).reduce((f,m)=>(f[m]=markRaw(computed(()=>{setActivePinia(n);const _=n._s.get(e);return s[m].call(_,_)})),f),{}))}return c=createSetupStore(e,u,t,n,r,!0),c}function createSetupStore(e,t,n={},r,a,o){let s;const l=assign({actions:{}},n),c={deep:!0};let u,d,f=[],m=[],_;const g=r.state.value[e];!o&&!g&&(r.state.value[e]={}),ref({});let v;function b(F){let z;u=d=!1,typeof F=="function"?(F(r.state.value[e]),z={type:MutationType.patchFunction,storeId:e,events:_}):(mergeReactiveObjects(r.state.value[e],F),z={type:MutationType.patchObject,payload:F,storeId:e,events:_});const ee=v=Symbol();nextTick().then(()=>{v===ee&&(u=!0)}),d=!0,triggerSubscriptions(f,z,r.state.value[e])}const y=o?function(){const{state:z}=n,ee=z?z():{};this.$patch(W=>{assign(W,ee)})}:noop$1;function S(){s.stop(),f=[],m=[],r._s.delete(e)}const N=(F,z="")=>{if(ACTION_MARKER in F)return F[ACTION_NAME]=z,F;const ee=function(){setActivePinia(r);const W=Array.from(arguments),O=[],ne=[];function le(ue){O.push(ue)}function Se(ue){ne.push(ue)}triggerSubscriptions(m,{args:W,name:ee[ACTION_NAME],store:C,after:le,onError:Se});let _e;try{_e=F.apply(this&&this.$id===e?this:C,W)}catch(ue){throw triggerSubscriptions(ne,ue),ue}return _e instanceof Promise?_e.then(ue=>(triggerSubscriptions(O,ue),ue)).catch(ue=>(triggerSubscriptions(ne,ue),Promise.reject(ue))):(triggerSubscriptions(O,_e),_e)};return ee[ACTION_MARKER]=!0,ee[ACTION_NAME]=z,ee},x={_p:r,$id:e,$onAction:addSubscription.bind(null,m),$patch:b,$reset:y,$subscribe(F,z={}){const ee=addSubscription(f,F,z.detached,()=>W()),W=s.run(()=>watch(()=>r.state.value[e],O=>{(z.flush==="sync"?d:u)&&F({storeId:e,type:MutationType.direct,events:_},O)},assign({},c,z)));return ee},$dispose:S},C=reactive(x);r._s.set(e,C);const L=(r._a&&r._a.runWithContext||fallbackRunWithContext)(()=>r._e.run(()=>(s=effectScope()).run(()=>t({action:N}))));for(const F in L){const z=L[F];if(isRef(z)&&!isComputed(z)||isReactive(z))o||(g&&shouldHydrate(z)&&(isRef(z)?z.value=g[F]:mergeReactiveObjects(z,g[F])),r.state.value[e][F]=z);else if(typeof z=="function"){const ee=N(z,F);L[F]=ee,l.actions[F]=z}}return assign(C,L),assign(toRaw(C),L),Object.defineProperty(C,"$state",{get:()=>r.state.value[e],set:F=>{b(z=>{assign(z,F)})}}),r._p.forEach(F=>{assign(C,s.run(()=>F({store:C,app:r._a,pinia:r,options:l})))}),g&&o&&n.hydrate&&n.hydrate(C.$state,g),u=!0,d=!0,C}/*! #__NO_SIDE_EFFECTS__ */function defineStore(e,t,n){let r;const a=typeof t=="function";r=a?n:t;function o(s,l){const c=hasInjectionContext();return s=s||(c?inject(piniaSymbol,null):null),s&&setActivePinia(s),s=activePinia,s._s.has(e)||(a?createSetupStore(e,t,r,s):createOptionsStore(e,r,s)),s._s.get(e)}return o.$id=e,o}const useTagStore=defineStore("tag",()=>{const e=ref([]),t=ref({user_lang:"zh_CN"}),n=ref(0);return{categories:e,setCategories:s=>{e.value=s},userSetting:t,setUserSetting:s=>{t.value=s},isFirstLoading:n,setisFirstLoading:s=>{n.value=s}}});function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const n=toString.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$1=e=>e!==null&&typeof e=="object",isBoolean$1=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$1(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),isArray(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let l;for(r=0;r<s;r++)l=o[r],t.call(null,e[l],l,e)}}function findKey(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge$1(){const{caseless:e}=isContextDefined(this)&&this||{},t={},n=(r,a)=>{const o=e&&findKey(t,a)||a;isPlainObject(t[o])&&isPlainObject(r)?t[o]=merge$1(t[o],r):isPlainObject(r)?t[o]=merge$1({},r):isArray(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&forEach(arguments[r],n);return t}const extend$1=(e,t,n,{allOwnKeys:r}={})=>(forEach(t,(a,o)=>{n&&isFunction(a)?e[o]=bind(a,n):e[o]=a},{allOwnKeys:r}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject=(e,t,n,r)=>{let a,o,s;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)s=a[o],(!r||r(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},toArray$1=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},matchAll=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};forEach(n,(a,o)=>{let s;(s=t(a,o,e))!==!1&&(r[o]=s||a)}),Object.defineProperties(e,r)},freezeMethods=e=>{reduceDescriptors(e,(t,n)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(isFunction(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(e,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return isArray(e)?r(e):r(String(e).split(t)),n},noop=()=>{},toFiniteNumber=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),n=(r,a)=>{if(isObject$1(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const o=isArray(r)?[]:{};return forEach(r,(s,l)=>{const c=n(s,a+1);!isUndefined(c)&&(o[l]=c)}),t[a]=void 0,o}}return r};return n(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject$1(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),_setImmediate=((e,t)=>e?setImmediate:t?((n,r)=>(_global.addEventListener("message",({source:a,data:o})=>{a===_global&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}}),Object.defineProperties(AxiosError$1,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError$1.from=(e,t,n,r,a,o)=>{const s=Object.create(prototype$1);return utils$1.toFlatObject(e,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),AxiosError$1.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map(function(a,o){return a=removeBrackets(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData$1(e,t,n){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!utils$1.isUndefined(b[v])});const r=n.metaTokens,a=n.visitor||d,o=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(utils$1.isDate(g))return g.toISOString();if(!c&&utils$1.isBlob(g))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(g)||utils$1.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,b){let y=g;if(g&&!b&&typeof g=="object"){if(utils$1.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(utils$1.isArray(g)&&isFlatArray(g)||(utils$1.isFileList(g)||utils$1.endsWith(v,"[]"))&&(y=utils$1.toArray(g)))return v=removeBrackets(v),y.forEach(function(N,x){!(utils$1.isUndefined(N)||N===null)&&t.append(s===!0?renderKey([v],x,o):s===null?v:v+"[]",u(N))}),!1}return isVisitable(g)?!0:(t.append(renderKey(b,v,o),u(g)),!1)}const f=[],m=Object.assign(predicates,{defaultVisitor:d,convertValue:u,isVisitable});function _(g,v){if(!utils$1.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),utils$1.forEach(g,function(y,S){(!(utils$1.isUndefined(y)||y===null)&&a.call(t,y,utils$1.isString(S)?S.trim():S,v,m))===!0&&_(y,v?v.concat(S):[S])}),f.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return _(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData$1(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,n){this._pairs.push([t,n])},prototype.toString=function(t){const n=t?function(r){return t.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,n){if(!t)return e;const r=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(t,n):o=utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$1.forEach(this.handlers,function(r){r!==null&&t(r)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,t){return toFormData$1(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return platform.isNode&&utils$1.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}function formDataToJSON(e){function t(n,r,a,o){let s=n[o++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=o>=n.length;return s=!s&&utils$1.isArray(a)?a.length:s,c?(utils$1.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!l):((!a[s]||!utils$1.isObject(a[s]))&&(a[s]=[]),t(n,r,a[s],o)&&utils$1.isArray(a[s])&&(a[s]=arrayToObject(a[s])),!l)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const n={};return utils$1.forEachEntry(e,(r,a)=>{t(parsePropPath(r),a,n,0)}),n}return null}function stringifySafely(e,t,n){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=utils$1.isObject(t);if(o&&utils$1.isHTMLForm(t)&&(t=new FormData(t)),utils$1.isFormData(t))return a?JSON.stringify(formDataToJSON(t)):t;if(utils$1.isArrayBuffer(t)||utils$1.isBuffer(t)||utils$1.isStream(t)||utils$1.isFile(t)||utils$1.isBlob(t)||utils$1.isReadableStream(t))return t;if(utils$1.isArrayBufferView(t))return t.buffer;if(utils$1.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((l=utils$1.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return toFormData$1(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const n=this.transitional||defaults.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(utils$1.isResponse(t)||utils$1.isReadableStream(t))return t;if(t&&utils$1.isString(t)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?AxiosError$1.from(l,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||t[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,n,r,a){if(utils$1.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!utils$1.isString(t)){if(utils$1.isString(r))return t.indexOf(r)!==-1;if(utils$1.isRegExp(r))return r.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function buildAccessors(e,t){const n=utils$1.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,o,s){return this[r].call(this,t,a,o,s)},configurable:!0})})}let AxiosHeaders$1=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(l,c,u){const d=normalizeHeader(c);if(!d)throw new Error("header name must be a non-empty string");const f=utils$1.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=normalizeValue(l))}const s=(l,c)=>utils$1.forEach(l,(u,d)=>o(u,d,c));if(utils$1.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(utils$1.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))s(parseHeaders(t),n);else if(utils$1.isHeaders(t))for(const[l,c]of t.entries())o(c,l,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=normalizeHeader(t),t){const r=utils$1.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return parseTokens(a);if(utils$1.isFunction(n))return n.call(this,a,r);if(utils$1.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=normalizeHeader(t),t){const r=utils$1.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||matchHeaderValue(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(s){if(s=normalizeHeader(s),s){const l=utils$1.findKey(r,s);l&&(!n||matchHeaderValue(r,r[l],l,n))&&(delete r[l],a=!0)}}return utils$1.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||matchHeaderValue(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return utils$1.forEach(this,(a,o)=>{const s=utils$1.findKey(r,o);if(s){n[s]=normalizeValue(a),delete n[o];return}const l=t?formatHeader(o):String(o).trim();l!==o&&delete n[o],n[l]=normalizeValue(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return utils$1.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&utils$1.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function o(s){const l=normalizeHeader(s);r[l]||(buildAccessors(a,s),r[l]=!0)}return utils$1.isArray(t)?t.forEach(o):o(t),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}}),utils$1.freezeMethods(AxiosHeaders$1);function transformData(e,t){const n=this||defaults,r=t||n,a=AxiosHeaders$1.from(r.headers);let o=r.data;return utils$1.forEach(e,function(l){o=l.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function isCancel$1(e){return!!(e&&e.__CANCEL__)}function CanceledError$1(e,t,n){AxiosError$1.call(this,e??"canceled",AxiosError$1.ERR_CANCELED,t,n),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new AxiosError$1("Request failed with status code "+n.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,o=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];s||(s=u),n[a]=c,r[a]=u;let f=o,m=0;for(;f!==a;)m+=n[f++],f=f%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-s<t)return;const _=d&&u-d;return _?Math.round(m*1e3/_):void 0}}function throttle(e,t){let n=0,r=1e3/t,a,o;const s=(u,d=Date.now())=>{n=d,a=null,o&&(clearTimeout(o),o=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?s(u,d):(a=u,o||(o=setTimeout(()=>{o=null,s(a)},r-f)))},()=>a&&s(a)]}const progressEventReducer=(e,t,n=3)=>{let r=0;const a=speedometer(50,250);return throttle(o=>{const s=o.loaded,l=o.lengthComputable?o.total:void 0,c=s-r,u=a(c),d=s<=l;r=s;const f={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-s)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},progressEventDecorator=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},asyncDecorator=e=>(...t)=>utils$1.asap(()=>e(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,platform.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const s=[e+"="+encodeURIComponent(t)];utils$1.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),utils$1.isString(r)&&s.push("path="+r),utils$1.isString(a)&&s.push("domain="+a),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t,n){let r=!isAbsoluteURL(t);return e&&r||n==!1?combineURLs(e,t):t}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig$1(e,t){t=t||{};const n={};function r(u,d,f,m){return utils$1.isPlainObject(u)&&utils$1.isPlainObject(d)?utils$1.merge.call({caseless:m},u,d):utils$1.isPlainObject(d)?utils$1.merge({},d):utils$1.isArray(d)?d.slice():d}function a(u,d,f,m){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(u))return r(void 0,u,f,m)}else return r(u,d,f,m)}function o(u,d){if(!utils$1.isUndefined(d))return r(void 0,d)}function s(u,d){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(u,d,f)=>a(headersToObject(u),headersToObject(d),f,!0)};return utils$1.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||a,m=f(e[d],t[d],d);utils$1.isUndefined(m)&&f!==l||(n[d]=m)}),n}const resolveConfig=e=>{const t=mergeConfig$1({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:s,auth:l}=t;t.headers=s=AxiosHeaders$1.from(s),t.url=buildURL(buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...d].join("; "))}}if(platform.hasStandardBrowserEnv&&(r&&utils$1.isFunction(r)&&(r=r(t)),r||r!==!1&&isURLSameOrigin(t.url))){const u=a&&o&&cookies.read(o);u&&s.set(a,u)}return t},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(n,r){const a=resolveConfig(e);let o=a.data;const s=AxiosHeaders$1.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,_,g;function v(){_&&_(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function y(){if(!b)return;const N=AxiosHeaders$1.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:N,config:e,request:b};settle(function(L){n(L),v()},function(L){r(L),v()},C),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let x=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||transitionalDefaults;a.timeoutErrorMessage&&(x=a.timeoutErrorMessage),r(new AxiosError$1(x,C.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,b)),b=null},o===void 0&&s.setContentType(null),"setRequestHeader"in b&&utils$1.forEach(s.toJSON(),function(x,C){b.setRequestHeader(C,x)}),utils$1.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([m,g]=progressEventReducer(u,!0),b.addEventListener("progress",m)),c&&b.upload&&([f,_]=progressEventReducer(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(d=N=>{b&&(r(!N||N.type?new CanceledError$1(null,e,b):N),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const S=parseProtocol(a.url);if(S&&platform.protocols.indexOf(S)===-1){r(new AxiosError$1("Unsupported protocol "+S+":",AxiosError$1.ERR_BAD_REQUEST,e));return}b.send(o||null)})},composeSignals=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof AxiosError$1?d:new CanceledError$1(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,o(new AxiosError$1(`timeout ${t} of ms exceeded`,AxiosError$1.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>utils$1.asap(l),c}},streamChunk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},readBytes=async function*(e,t){for await(const n of readStream(e))yield*streamChunk(n,t)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},trackStream=(e,t,n,r)=>{const a=readBytes(e,t);let o=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let m=o+=f;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...t)=>{try{return!!e(...t)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const t=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!resolvers[t]&&(resolvers[t]=utils$1.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new AxiosError$1(`Response type '${t}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,t)=>{const n=utils$1.toFiniteNumber(e.getContentLength());return n??getBodyLength(t)},fetchAdapter=isFetchSupported&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=resolveConfig(e);u=u?(u+"").toLowerCase():"text";let _=composeSignals([a,o&&o.toAbortSignal()],s),g;const v=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let b;try{if(c&&supportsRequestStream&&n!=="get"&&n!=="head"&&(b=await resolveBodyLength(d,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),B;if(utils$1.isFormData(r)&&(B=C.headers.get("content-type"))&&d.setContentType(B),C.body){const[L,F]=progressEventDecorator(b,progressEventReducer(asyncDecorator(c)));r=trackStream(C.body,DEFAULT_CHUNK_SIZE,L,F)}}utils$1.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...m,signal:_,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let S=await fetch(g);const N=supportsResponseStream&&(u==="stream"||u==="response");if(supportsResponseStream&&(l||N&&v)){const C={};["status","statusText","headers"].forEach(z=>{C[z]=S[z]});const B=utils$1.toFiniteNumber(S.headers.get("content-length")),[L,F]=l&&progressEventDecorator(B,progressEventReducer(asyncDecorator(l),!0))||[];S=new Response(trackStream(S.body,DEFAULT_CHUNK_SIZE,L,()=>{F&&F(),v&&v()}),C)}u=u||"text";let x=await resolvers[utils$1.findKey(resolvers,u)||"text"](S,e);return!N&&v&&v(),await new Promise((C,B)=>{settle(C,B,{data:x,headers:AxiosHeaders$1.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:g})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,g),{cause:y.cause||y}):AxiosError$1.from(y,y&&y.code,e,g)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!isResolvedHandle(n)&&(r=knownAdapters[(s=String(n)).toLowerCase()],r===void 0))throw new AxiosError$1(`Unknown adapter '${s}'`);if(r)break;a[s||"#"+o]=r}if(!r){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(renderReason).join(`
`):" "+renderReason(o[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults.adapter)(e).then(function(r){return throwIfCancellationRequested(e),r.data=transformData.call(e,e.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel$1(r)||(throwIfCancellationRequested(e),r&&r.response&&(r.response.data=transformData.call(e,e.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const VERSION$1="1.8.3",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,n,r){function a(o,s){return"[Axios v"+VERSION$1+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(t===!1)throw new AxiosError$1(a(s," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings[s]&&(deprecatedWarnings[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,l):!0}},validators$1.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function assertOptions(e,t,n){if(typeof e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],s=t[o];if(s){const l=e[o],c=l===void 0||s(l,o,e);if(c!==!0)throw new AxiosError$1("option "+o+" must be "+c,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError$1("Unknown option "+o,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mergeConfig$1(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),a!=null&&(utils$1.isFunction(a)?n.paramsSerializer={serialize:a}:validator.assertOptions(a,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&utils$1.merge(o.common,o[n.method]);o&&utils$1.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=AxiosHeaders$1.concat(s,o);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,m;if(!c){const g=[dispatchRequest.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),m=g.length,d=Promise.resolve(n);f<m;)d=d.then(g[f++],g[f++]);return d}m=l.length;let _=n;for(f=0;f<m;){const g=l[f++],v=l[f++];try{_=g(_)}catch(b){v.call(this,b);break}}try{d=dispatchRequest.call(this,_)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=mergeConfig$1(this.defaults,t);const n=buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls);return buildURL(n,t.params,t.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(n,r){return this.request(mergeConfig$1(r||{},{method:t,url:n,data:(r||{}).data}))}}),utils$1.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,l){return this.request(mergeConfig$1(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Axios$1.prototype[t]=n(),Axios$1.prototype[t+"Form"]=n(!0)});let CancelToken$1=class mt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(a);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,l){r.reason||(r.reason=new CanceledError$1(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new mt(function(a){t=a}),cancel:t}}};function spread$1(e){return function(n){return e.apply(null,n)}}function isAxiosError$1(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([e,t])=>{HttpStatusCode$1[t]=e});function createInstance(e){const t=new Axios$1(e),n=bind(Axios$1.prototype.request,t);return utils$1.extend(n,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return createInstance(mergeConfig$1(e,a))},n}const axios=createInstance(defaults);axios.Axios=Axios$1,axios.CanceledError=CanceledError$1,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel$1,axios.VERSION=VERSION$1,axios.toFormData=toFormData$1,axios.AxiosError=AxiosError$1,axios.Cancel=axios.CanceledError,axios.all=function(t){return Promise.all(t)},axios.spread=spread$1,axios.isAxiosError=isAxiosError$1,axios.mergeConfig=mergeConfig$1,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,baseUrl="/weilin/prompt_ui/api",request=axios.create({baseURL:baseUrl,timeout:3e4,headers:{"Content-Type":"application/json"}});request.interceptors.request.use(e=>e,e=>Promise.reject(e)),request.interceptors.response.use(e=>e.data,e=>Promise.reject(e));const languageApi={getUserSetting:async()=>await request({url:"/user_init/get_settings",method:"get"}),setUserLanguage:async e=>await request({url:"/user_init/set_user_lang",method:"post",data:{user_lang:e}}),startPanel:async()=>await request({url:"/panel/start",method:"post"})},getTagStore=()=>useTagStore(),i18n=createI18n({legacy:!1,locale:"zh_CN",fallbackLocale:"zh_CN",messages:{zh_CN,en_US}}),initLocale=()=>{const e=getTagStore();languageApi.getUserSetting().then(t=>{var r;e.setUserSetting(t.data);const n=((r=e.userSetting)==null?void 0:r.user_lang)||"zh_CN";i18n.global.locale.value=n})},setLocale=e=>{i18n.global.locale.value=e,getTagStore().setUserSetting({user_lang:e})},initI18n=()=>{initLocale()},_sfc_main$k={name:"popmessage",props:{type:{type:String,default:"success"},str:{type:String,default:"登陆成功"}},setup(){const e={warn:{color:"#E6A23C",backgroundColor:"rgb(253, 246, 236)",borderColor:"rgb(250, 236, 216)"},error:{color:"#F56C6C",backgroundColor:"rgb(254, 240, 240)",borderColor:"rgb(253, 226, 226)"},success:{color:"#67C23A",backgroundColor:"rgb(240, 249, 235)",borderColor:"rgb(225, 243, 216)"}},t=ref(!1);return onMounted(()=>{t.value=!0}),{style:e,visible:t}}},_hoisted_1$j={class:"text"};function _sfc_render(e,t,n,r,a,o){return withDirectives((openBlock(),createElementBlock("div",{class:"pop-message",style:normalizeStyle(r.style[n.type])},[createBaseVNode("i",{class:normalizeClass(["icon",[r.style[n.type].icon]])},null,2),createBaseVNode("span",_hoisted_1$j,toDisplayString$1(n.str),1)],4)),[[vShow,r.visible]])}const tip=_export_sfc(_sfc_main$k,[["render",_sfc_render],["__scopeId","data-v-7ee59bf2"]]),div$1=document.createElement("div");document.body.appendChild(div$1);let timer=null;const message$1=({str:e,type:t,name:n=""})=>{let r=i18n.global.t(e);n.length>0&&(r=i18n.global.t(e,{name:n}));const a=createVNode(tip,{str:r,type:t});render$1(a,div$1),timer&&clearTimeout(timer),timer=setTimeout(()=>{render$1(null,div$1)},2e3)},_hoisted_1$i={class:"language-selector-content"},_hoisted_2$f=["onClick"],_hoisted_3$f={class:"lang-name"},_sfc_main$j={__name:"LanguageSwitcher",emits:["close"],setup(e,{expose:t,emit:n}){const{t:r}=useI18n(),a=ref(null),o=useTagStore(),s=computed(()=>o.userSetting.user_lang),l=[{code:"zh_CN",name:"简体中文"},{code:"en_US",name:"English"}],c=n,u=m=>{d(m),c("close",{})},d=m=>{languageApi.setUserLanguage(m).then(_=>{setLocale(m),window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*"),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.setLanguageSuccess"})}).catch(_=>{message$1({type:"warn",str:"message.setLanguageFailed"})})};return t({setPosition:m=>{if(!a.value)return;const _=a.value;_.style.position="fixed",_.style.top=`${m.bottom}px`}}),(m,_)=>(openBlock(),createElementBlock("div",{class:"language-selector",ref_key:"selectorRef",ref:a},[createBaseVNode("div",_hoisted_1$i,[(openBlock(),createElementBlock(Fragment,null,renderList(l,(g,v)=>createBaseVNode("div",{style:normalizeStyle({"margin-top":v===0?"0":"2px"}),key:g.code,class:normalizeClass(["language-option",{active:s.value===g.code}]),onClick:b=>u(g.code)},[createBaseVNode("span",_hoisted_3$f,toDisplayString$1(g.name),1)],14,_hoisted_2$f)),64))])],512))}},LanguageSwitcher=_export_sfc(_sfc_main$j,[["__scopeId","data-v-b77d604b"]]),prefix$5="weilin_prompt_ui_",_sfc_main$i={__name:"Dialog",props:{modelValue:Boolean,title:{type:String,default:"标题"},closeOnClickOverlay:{type:Boolean,default:!1},width:{type:String,default:"60%"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,a=()=>{r("update:modelValue",!1)},o=()=>{n.closeOnClickOverlay&&a()};return(s,l)=>(openBlock(),createBlock(Teleport,{to:"#weilin_comfyui_tools_prompt_ui_div"},[createVNode(Transition,{name:`${prefix$5}dialog-fade`},{default:withCtx(()=>[e.modelValue?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$5}dialog-overlay`),onClick:o},[createVNode(Transition,{name:`${prefix$5}dialog-slide`},{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle({width:e.width}),class:normalizeClass(`${prefix$5}dialog`),onClick:l[0]||(l[0]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:normalizeClass(`${prefix$5}dialog-header`)},[createBaseVNode("h3",{class:normalizeClass(`${prefix$5}dialog-title`)},toDisplayString$1(e.title),3),createBaseVNode("button",{class:normalizeClass(`${prefix$5}dialog-close`),onClick:a},l[1]||(l[1]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),2)],2),createBaseVNode("div",{class:normalizeClass(`${prefix$5}dialog-content`)},[renderSlot(s.$slots,"default")],2),s.$slots.footer?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$5}dialog-footer`)},[renderSlot(s.$slots,"footer")],2)):createCommentVNode("",!0)],6)]),_:3},8,["name"])],2)):createCommentVNode("",!0)]),_:3},8,["name"])]))}},Dialog=_export_sfc(_sfc_main$i,[["__scopeId","data-v-702107e1"]]),translatorApi={getTranslateLocal:async e=>await request({url:"/prompt/local/translate",method:"post",data:{phrase:e}}),getTranslatePackagesState:async()=>await request({url:"/translate/get/packages/state",method:"post",data:{}}),getTranslateSetting:async()=>await request({url:"/translate/get/setting",method:"post",data:{}}),applyTranslateSetting:async e=>await request({url:"/translate/apply_setting",method:"post",data:{setting:e}}),installTranslatePackage:async()=>await request({url:"/translate/install/translaterpackage",method:"post",timeout:0,data:{}}),getTranslateBuktSetting:async()=>await request({url:"/translate/get/tran_setting",method:"post",data:{}}),saveTranslateSetting:async(e,t,n)=>await request({url:"/translate/save_tran/setting",method:"post",data:{service:e,source_lang:t,target_lang:n}}),translaterText:async e=>await request({url:"/translate/tran/text",method:"post",timeout:0,data:{text:e}}),translaterInputText:async e=>await request({url:"/translate/tran/input",method:"post",timeout:0,data:{text:e}})},autocompleteApi={getAutocomplete:async e=>await request({url:"/prompt/fast/autocomplete",method:"post",data:{query:e}}),getAutocompleteLimit:async()=>await request({url:"/get/setting/get_auto_limit_setting",method:"post"}),updateAutocompleteLimit:async e=>await request({url:"/update/setting/update_auto_limit_setting",method:"post",data:{limit:e}})},openaiApi={updateOpenAiSetting:async e=>await request({url:"/prompt/openai/update_settings",method:"post",data:e}),addOpenAiSetting:async e=>await request({url:"/prompt/openai/add_setting",method:"post",data:e}),deleteOpenAiSetting:async e=>await request({url:"/prompt/openai/delete_setting",method:"post",data:e}),setOpenAiSelect:async e=>await request({url:"/prompt/openai/set_select",method:"post",data:e}),getOpenAiSetting:async()=>await request({url:"/prompt/openai/get_settings",method:"get"})},translaterSerives=["alibaba","baidu","bing","deepl","youdao","qqtransmart","sogou","niutrans","mymemory","modernmt","volcengine","iciba","iflytek","google","lingvanex","yandex","itranslate","systran","argos","apertium","reverso","cloudtranslation","translatecom","tilde","caiyun","qqfanyi","translateme","papago","mirai","iflyrec","hujiang","yeekit","languagewire","elia","judic","mglip","utibet"],language=[{language:"chinese",translator:"zh"},{language:"english",translator:"en"},{language:"arabic",translator:"ar"},{language:"russian",translator:"ru"},{language:"french",translator:"fr"},{language:"german",translator:"de"},{language:"spanish",translator:"es"},{language:"portuguese",translator:"pt"},{language:"italian",translator:"it"},{language:"japanese",translator:"ja"},{language:"korean",translator:"ko"},{language:"greek",translator:"el"},{language:"dutch",translator:"nl"},{language:"hindi",translator:"hi"},{language:"turkish",translator:"tr"},{language:"malay",translator:"ms"},{language:"thai",translator:"th"},{language:"vietnamese",translator:"vi"},{language:"indonesian",translator:"id"},{language:"hebrew",translator:"he"},{language:"polish",translator:"pl"},{language:"mongolian",translator:"mn"},{language:"czech",translator:"cs"},{language:"hungarian",translator:"hu"},{language:"estonian",translator:"et"},{language:"bulgarian",translator:"bg"},{language:"danish",translator:"da"},{language:"finnish",translator:"fi"},{language:"romanian",translator:"ro"},{language:"swedish",translator:"sv"},{language:"slovenian",translator:"sl"},{language:"persian/farsi",translator:"fa"},{language:"bosnian",translator:"bs"},{language:"serbian",translator:"sr"},{language:"fijian",translator:"fj"},{language:"filipino",translator:"tl"},{language:"haitiancreole",translator:"ht"},{language:"catalan",translator:"ca"},{language:"croatian",translator:"hr"},{language:"latvian",translator:"lv"},{language:"lithuanian",translator:"lt"},{language:"urdu",translator:"ur"},{language:"ukrainian",translator:"uk"},{language:"welsh",translator:"cy"},{language:"tahiti",translator:"ty"},{language:"tongan",translator:"to"},{language:"swahili",translator:"sw"},{language:"samoan",translator:"sm"},{language:"slovak",translator:"sk"},{language:"afrikaans",translator:"af"},{language:"norwegian",translator:"no"},{language:"bengali",translator:"bn"},{language:"malagasy",translator:"mg"},{language:"maltese",translator:"mt"},{language:"queretaro otomi",translator:"otq"},{language:"klingon/tlhingan hol",translator:"tlh"},{language:"gujarati",translator:"gu"},{language:"tamil",translator:"ta"},{language:"telugu",translator:"te"},{language:"punjabi",translator:"pa"},{language:"amharic",translator:"am"},{language:"azerbaijani",translator:"az"},{language:"bashkir",translator:"ba"},{language:"belarusian",translator:"be"},{language:"cebuano",translator:"ceb"},{language:"chuvash",translator:"cv"},{language:"esperanto",translator:"eo"},{language:"basque",translator:"eu"},{language:"irish",translator:"ga"}],_hoisted_1$h={class:"settings-content"},_hoisted_2$e={class:"settings-sidebar"},_hoisted_3$e={class:"settings-main"},_hoisted_4$e={key:0},_hoisted_5$c={class:"setting-select"},_hoisted_6$c={value:"network"},_hoisted_7$c={value:"translater"},_hoisted_8$c={class:"translator-settings"},_hoisted_9$c={key:0,class:"group-box"},_hoisted_10$b={class:"group-title"},_hoisted_11$a={class:"note-top"},_hoisted_12$a={class:"setting-item"},_hoisted_13$8={value:"auto"},_hoisted_14$8={value:"chinese_simplified"},_hoisted_15$8={value:"english"},_hoisted_16$8={class:"setting-item"},_hoisted_17$8={value:"chinese_simplified"},_hoisted_18$7={value:"english"},_hoisted_19$5={key:1,class:"group-box"},_hoisted_20$5={class:"group-title"},_hoisted_21$5={class:"note-top"},_hoisted_22$5={class:"translater-innstall-status"},_hoisted_23$5={class:"translater-install-label"},_hoisted_24$5={key:0,class:"translater-install-label"},_hoisted_25$5={key:1,class:"translater-install-control"},_hoisted_26$5=["disabled"],_hoisted_27$5={key:0,class:"translater-setting-box"},_hoisted_28$5={class:"setting-small-titile"},_hoisted_29$5={class:"setting-item"},_hoisted_30$5=["index","value"],_hoisted_31$5={class:"language-selectors"},_hoisted_32$5={class:"setting-item"},_hoisted_33$4=["index","value"],_hoisted_34$4={class:"setting-item"},_hoisted_35$4=["index","value"],_hoisted_36$4={key:1,class:"tranlater-text-box"},_hoisted_37$4={class:"setting-small-titile"},_hoisted_38$4={class:"setting-item"},_hoisted_39$4=["placeholder"],_hoisted_40$4={class:"setting-item"},_hoisted_41$4=["placeholder"],_hoisted_42$4={key:1},_hoisted_43$4={class:"floating-ball-settings"},_hoisted_44$4={class:"setting-item"},_hoisted_45$4=["placeholder"],_hoisted_46$4={class:"setting-item"},_hoisted_47$3=["placeholder"],_hoisted_48$3={class:"setting-item"},_hoisted_49$3=["placeholder"],_hoisted_50$3={key:2},_hoisted_51$3={class:"floating-ball-settings"},_hoisted_52$3={class:"setting-item"},_hoisted_53$3={class:"setting-item"},_hoisted_54$3=["placeholder"],_hoisted_55$3={class:"setting-item"},_hoisted_56$3=["placeholder"],_hoisted_57$3={key:3},_hoisted_58$3={class:"floating-ball-settings"},_hoisted_59$3={class:"setting-item"},_hoisted_60$3={class:"setting-item"},_hoisted_61$2={class:"setting-item"},_hoisted_62$2={class:"setting-item"},_hoisted_63$2={class:"setting-item"},_hoisted_64$2={key:4},_hoisted_65$2={class:"openai-settings"},_hoisted_66$2={class:"setting-item"},_hoisted_67$2=["value"],_hoisted_68$2={class:"config-list"},_hoisted_69$2={class:"config-header"},_hoisted_70$2={class:"config-actions"},_hoisted_71$2=["onClick"],_hoisted_72$2=["onClick"],_hoisted_73$2={key:0,class:"config-form"},_hoisted_74$2={class:"form-group"},_hoisted_75$2=["placeholder"],_hoisted_76$2={class:"form-group"},_hoisted_77$2=["placeholder"],_hoisted_78$2={class:"form-group"},_hoisted_79$2=["placeholder"],_hoisted_80$2={class:"form-actions"},_hoisted_81$2=["onClick"],_hoisted_82$2={key:1,class:"config-details"},_hoisted_83$2={key:0,class:"config-form"},_hoisted_84$2={class:"form-group"},_hoisted_85$1=["placeholder"],_hoisted_86$1={class:"form-group"},_hoisted_87=["placeholder"],_hoisted_88={class:"form-group"},_hoisted_89=["placeholder"],_hoisted_90={class:"form-actions"},_hoisted_91={key:5},_hoisted_92={class:"sponsor-me-settings"},_hoisted_93={key:6},_hoisted_94={class:"start-panel-settings"},_sfc_main$h={__name:"setting_dialog",setup(e,{expose:t}){const{t:n}=useI18n(),r=ref(!1),a=ref("translator"),o=ref("baidu"),s=ref(""),l=ref(localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english"),c=ref(localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified"),u=ref(localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1),d=ref(localStorage.getItem("weilin_prompt_ui_floatingBallSize")||5),f=ref(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true"),m=ref(localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true"),_=ref(localStorage.getItem("weilin_prompt_ui_period_conversion")==="true"),g=ref(localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true"),v=ref(localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true"),b=ref(localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true"),y=ref(""),S=ref(""),N=ref(""),x=ref(0),C=ref([]),B=ref(!1),L=ref({api_key:"",base_url:"https://api.openai.com/v1",model:""}),F=ref(!1),z=ref(-1),ee=ref(""),W=ref(!1),O=ref(!1),ne=ref(""),le=ref(""),Se=ref(25),_e=ref(localStorage.getItem("weilin_prompt_ui_auto_box_width")||450),ue=ref(localStorage.getItem("weilin_prompt_ui_auto_box_height")||350),ce=J=>{a.value=J,J=="setting_auto_complete_limit"&&D()},ye=()=>{localStorage.setItem("weilin_prompt_ui_sourceLanguage",l.value),localStorage.setItem("weilin_prompt_ui_targetLanguage",c.value),window.parent.postMessage({type:"weilin_prompt_ui_translate_setting"},"*"),message$1({type:"success",str:"message.saveSuccess"})},be=()=>{if(u.value<1||d.value<5){message$1({type:"warn",str:"message.error"});return}localStorage.setItem("weilin_prompt_ui_floatingBallEnabled",f.value),localStorage.setItem("weilin_prompt_ui_floatingBallCount",u.value),localStorage.setItem("weilin_prompt_ui_floatingBallSize",d.value),window.parent.postMessage({type:"weilin_prompt_ui_floating_ball_setting"},"*"),message$1({type:"success",str:"message.saveSuccess"})},Ee=()=>{localStorage.setItem("weilin_prompt_ui_comma_conversion",m.value),localStorage.setItem("weilin_prompt_ui_period_conversion",_.value),localStorage.setItem("weilin_prompt_ui_bracket_conversion",g.value),localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion",v.value),localStorage.setItem("weilin_prompt_ui_underscore_to_bracket",b.value),message$1({type:"success",str:"message.saveSuccess"})},H=()=>{languageApi.getUserSetting().then(J=>{C.value=J.data.openai_settings,x.value=J.data.select_openai})},R=()=>{L.value={api_key:"",base_url:"https://api.openai.com/v1",model:""},F.value=!1,B.value=!0},A=J=>{openaiApi.deleteOpenAiSetting({index:J}).then(P=>{H(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(P=>{message$1({type:"warn",str:"message.networkError"})})},M=J=>{z.value===J?z.value=-1:(L.value={...C.value[J]},z.value=J)},G=J=>{openaiApi.updateOpenAiSetting({index:J,...L.value}).then(P=>{H(),z.value=-1,message$1({type:"success",str:"message.saveSuccess"})}).catch(P=>{message$1({type:"warn",str:"message.networkError"})})},te=()=>{openaiApi.addOpenAiSetting({...L.value}).then(J=>{H(),B.value=!1,z.value=-1,message$1({type:"success",str:"message.saveSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})})},ge=()=>{B.value=!1,z.value=-1},ae=()=>{openaiApi.setOpenAiSelect({index:x.value}).then(J=>{message$1({type:"success",str:"message.saveSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})})},ie=()=>{window.open("https://afdian.com/a/weilin9999","_blank")},he=()=>{languageApi.startPanel().then(J=>{message$1({type:"success",str:"message.startPanelSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.startPanelFailed"})})},T=()=>{translatorApi.getTranslatePackagesState().then(J=>{J.info=="ok"?O.value=!0:O.value=!1}).catch(J=>{message$1({type:"warn",str:"message.getTranslaterFail"})})},E=()=>{translatorApi.getTranslateSetting().then(J=>{localStorage.setItem("weilin_prompt_ui_translater_setting",J.data),ee.value=J.data}).catch(J=>{message$1({type:"warn",str:"message.getTranslaterFail"})})},I=()=>{translatorApi.applyTranslateSetting(ee.value).then(J=>{J.info=="ok"?(localStorage.setItem("weilin_prompt_ui_translater_setting",ee.value),message$1({type:"success",str:"message.applyTranslaterSuccess"})):message$1({type:"warn",str:"message.applyToTranslaterFail"})}).catch(J=>{message$1({type:"warn",str:"message.applyTranslaterFail"})})},U=()=>{translatorApi.getTranslateBuktSetting().then(J=>{y.value=J.data.translate_service,S.value=J.data.translate_source_lang,N.value=J.data.translate_target_lang}).catch(J=>{message$1({type:"warn",str:"message.getTranslaterFail"})})},K=()=>{translatorApi.saveTranslateSetting(y.value,S.value,N.value).then(J=>{J.info=="ok"?message$1({type:"success",str:"message.saveSuccess"}):message$1({type:"warn",str:"message.saveFailed"})}).catch(J=>{message$1({type:"warn",str:"message.saveFailed"})})},Z=()=>{translatorApi.translaterInputText(ne.value).then(J=>{le.value=J.text}).catch(J=>{message$1({type:"warn",str:"message.translaterTestFail"})})},w=ref(null),$=()=>{W.value=!0,translatorApi.installTranslatePackage().then(J=>{W.value=!1,O.value=!0,message$1({type:"success",str:"message.tranlaterPackageInstallSuccess"})}).catch(J=>{W.value=!1,message$1({type:"warn",str:"message.tranlaterPackageInstallFail"})})},D=async()=>{await autocompleteApi.getAutocompleteLimit().then(J=>{Se.value=J.data}).catch(J=>{console.error(J),message$1({type:"warn",str:"message.networkError"})})},j=async()=>{await autocompleteApi.updateAutocompleteLimit(Se.value).then(J=>{message$1({type:"success",str:"message.saveSuccess"}),localStorage.setItem("weilin_prompt_ui_auto_box_width",_e.value),localStorage.setItem("weilin_prompt_ui_auto_box_height",ue.value)}).catch(J=>{console.error(J),message$1({type:"warn",str:"message.networkError"})})};return onMounted(()=>{U(),T(),E(),H()}),onUnmounted(()=>{w.value&&clearInterval(w.value)}),t({open:()=>{a.value="translator",o.value="baidu",s.value="",l.value=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",c.value=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified",u.value=localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1,d.value=localStorage.getItem("weilin_prompt_ui_floatingBallSize")||5,f.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true",m.value=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",_.value=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",g.value=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",v.value=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",b.value=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true",r.value=!0}}),(J,P)=>(openBlock(),createBlock(Dialog,{modelValue:r.value,"onUpdate:modelValue":P[33]||(P[33]=k=>r.value=k),title:unref(n)("promptBox.settings.title")},{footer:withCtx(()=>[createBaseVNode("button",{onClick:P[32]||(P[32]=k=>r.value=!1)},toDisplayString$1(unref(n)("promptBox.settings.close")),1)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("ul",null,[createBaseVNode("li",{class:normalizeClass({active:a.value==="translator"}),onClick:P[0]||(P[0]=k=>ce("translator"))},toDisplayString$1(unref(n)("promptBox.settings.translator")),3),createBaseVNode("li",{class:normalizeClass({active:a.value==="setting_auto_complete_limit"}),onClick:P[1]||(P[1]=k=>ce("setting_auto_complete_limit"))},toDisplayString$1(unref(n)("promptBox.settings.setting_auto_complete_limit")),3),createBaseVNode("li",{class:normalizeClass({active:a.value==="setting_floating_ball"}),onClick:P[2]||(P[2]=k=>ce("setting_floating_ball"))},toDisplayString$1(unref(n)("promptBox.settings.setting_floating_ball")),3),createBaseVNode("li",{class:normalizeClass({active:a.value==="setting_prompt_box"}),onClick:P[3]||(P[3]=k=>ce("setting_prompt_box"))},toDisplayString$1(unref(n)("promptBox.settings.setting_prompt_box")),3),createBaseVNode("li",{class:normalizeClass({active:a.value==="setting_openai_box"}),onClick:P[4]||(P[4]=k=>ce("setting_openai_box"))},toDisplayString$1(unref(n)("promptBox.settings.setting_openai_box")),3),createBaseVNode("li",{class:normalizeClass({active:a.value==="setting_sponsor_me"}),onClick:P[5]||(P[5]=k=>ce("setting_sponsor_me"))},toDisplayString$1(unref(n)("promptBox.settings.setting_sponsor_me")),3)])]),createBaseVNode("div",_hoisted_3$e,[a.value==="translator"?(openBlock(),createElementBlock("div",_hoisted_4$e,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.translator")),1),createBaseVNode("div",_hoisted_5$c,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.selectTranslater")),1),withDirectives(createBaseVNode("select",{style:{"margin-left":"10px"},"onUpdate:modelValue":P[6]||(P[6]=k=>ee.value=k)},[createBaseVNode("option",_hoisted_6$c,toDisplayString$1(unref(n)("promptBox.settings.selectOptionNetworkTranslater")),1),createBaseVNode("option",_hoisted_7$c,toDisplayString$1(unref(n)("promptBox.settings.selectOptionPythonTranslater")),1)],512),[[vModelSelect,ee.value]]),createBaseVNode("button",{class:"install-button",onClick:I},toDisplayString$1(unref(n)("promptBox.settings.apply")),1)]),createBaseVNode("div",_hoisted_8$c,[ee.value=="network"?(openBlock(),createElementBlock("div",_hoisted_9$c,[createBaseVNode("div",_hoisted_10$b,toDisplayString$1(unref(n)("promptBox.settings.selectOptionNetworkTranslaterTitle")),1),createBaseVNode("div",_hoisted_11$a,toDisplayString$1(unref(n)("promptBox.settings.selectOptionNetworkTranslaterInfo"))+"：https://github.com/xnx3/translate",1),createBaseVNode("div",_hoisted_12$a,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.sourceLanguage")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":P[7]||(P[7]=k=>l.value=k)},[createBaseVNode("option",_hoisted_13$8,toDisplayString$1(unref(n)("promptBox.settings.auto_detect")),1),createBaseVNode("option",_hoisted_14$8,toDisplayString$1(unref(n)("promptBox.settings.chinese_simplified")),1),createBaseVNode("option",_hoisted_15$8,toDisplayString$1(unref(n)("promptBox.settings.english")),1)],512),[[vModelSelect,l.value]])]),createBaseVNode("div",_hoisted_16$8,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.targetLanguage")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":P[8]||(P[8]=k=>c.value=k),class:"common-select"},[createBaseVNode("option",_hoisted_17$8,toDisplayString$1(unref(n)("promptBox.settings.chinese_simplified")),1),createBaseVNode("option",_hoisted_18$7,toDisplayString$1(unref(n)("promptBox.settings.english")),1)],512),[[vModelSelect,c.value]])]),createBaseVNode("button",{class:"save-button",onClick:ye},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])):createCommentVNode("",!0),ee.value=="translater"?(openBlock(),createElementBlock("div",_hoisted_19$5,[createBaseVNode("div",_hoisted_20$5,toDisplayString$1(unref(n)("promptBox.settings.selectOptionPythonTranslaterTitle")),1),createBaseVNode("div",_hoisted_21$5,toDisplayString$1(unref(n)("promptBox.settings.selectOptionPythonTranslaterInfo"))+"：https://github.com/UlionTse/translators",1),createBaseVNode("div",_hoisted_22$5,[createBaseVNode("div",_hoisted_23$5,toDisplayString$1(unref(n)("promptBox.settings.nowTranlaterPackageState"))+" "+toDisplayString$1(O.value?unref(n)("promptBox.settings.tranlaterPackageStateTrue"):unref(n)("promptBox.settings.tranlaterPackageStateFlase")),1),W.value?(openBlock(),createElementBlock("div",_hoisted_24$5,toDisplayString$1(unref(n)("promptBox.settings.installTranslaterPackageInfo")),1)):createCommentVNode("",!0),O.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$5,[createBaseVNode("button",{disabled:W.value,class:"install-button",onClick:$},toDisplayString$1(W.value?unref(n)("promptBox.settings.installed"):unref(n)("promptBox.settings.install")),9,_hoisted_26$5)]))]),O.value?(openBlock(),createElementBlock("div",_hoisted_27$5,[createBaseVNode("div",_hoisted_28$5,toDisplayString$1(unref(n)("promptBox.settings.translaterSetting")),1),createBaseVNode("div",_hoisted_29$5,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.chooseTranslaterSetting")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":P[9]||(P[9]=k=>y.value=k)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(translaterSerives),(k,Y)=>(openBlock(),createElementBlock("option",{index:Y,key:"tran-item_"+Y,value:k},toDisplayString$1(unref(n)("translaterService."+k)),9,_hoisted_30$5))),128))],512),[[vModelSelect,y.value]])]),createBaseVNode("div",_hoisted_31$5,[createBaseVNode("div",_hoisted_32$5,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.translaterLangSourceSetting")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":P[10]||(P[10]=k=>S.value=k)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(language),(k,Y)=>(openBlock(),createElementBlock("option",{index:Y,key:"lan-item_"+Y,value:k.translator},toDisplayString$1(unref(n)("translaterLanguage."+k.language)),9,_hoisted_33$4))),128))],512),[[vModelSelect,S.value]])]),createBaseVNode("div",_hoisted_34$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.translaterLangTargeSetting")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":P[11]||(P[11]=k=>N.value=k)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(language),(k,Y)=>(openBlock(),createElementBlock("option",{index:Y,key:"lan-mu-item_"+Y,value:k.translator},toDisplayString$1(unref(n)("translaterLanguage."+k.language)),9,_hoisted_35$4))),128))],512),[[vModelSelect,N.value]])])]),createBaseVNode("button",{class:"install-button",onClick:K},toDisplayString$1(unref(n)("promptBox.settings.saveTranslaterSetting")),1)])):createCommentVNode("",!0),O.value?(openBlock(),createElementBlock("div",_hoisted_36$4,[createBaseVNode("div",_hoisted_37$4,toDisplayString$1(unref(n)("promptBox.settings.testTranslaterTitle")),1),createBaseVNode("div",_hoisted_38$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.inputTestTranslater")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[12]||(P[12]=k=>ne.value=k),placeholder:unref(n)("promptBox.settings.inputTestTranslaterPlaceholder")},null,8,_hoisted_39$4),[[vModelText,ne.value]])]),createBaseVNode("div",_hoisted_40$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.outPutTestTranslater")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[13]||(P[13]=k=>le.value=k),readonly:"",placeholder:unref(n)("promptBox.settings.outPutTestTranslaterPlaceholder")},null,8,_hoisted_41$4),[[vModelText,le.value]])]),createBaseVNode("button",{class:"install-button",onClick:Z},toDisplayString$1(unref(n)("promptBox.settings.testingTranslater")),1)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])):createCommentVNode("",!0),a.value==="setting_auto_complete_limit"?(openBlock(),createElementBlock("div",_hoisted_42$4,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_auto_complete_limit")),1),createBaseVNode("div",_hoisted_43$4,[createBaseVNode("div",_hoisted_44$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.show_auto_limit")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":P[14]||(P[14]=k=>Se.value=k),min:"1",max:"99999999",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.showAutoLimitPlaceholder")},null,8,_hoisted_45$4),[[vModelText,Se.value,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_46$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.settingAutoCompleteWidth")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":P[15]||(P[15]=k=>_e.value=k),min:"5",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.settingAutoCompleteWidthPlaceholder")},null,8,_hoisted_47$3),[[vModelText,_e.value,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_48$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.settingAutoCompleteHeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":P[16]||(P[16]=k=>ue.value=k),min:"5",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.settingAutoCompleteHeightPlaceholder")},null,8,_hoisted_49$3),[[vModelText,ue.value,void 0,{number:!0}]])]),createBaseVNode("button",{class:"save-button",onClick:j},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),a.value==="setting_floating_ball"?(openBlock(),createElementBlock("div",_hoisted_50$3,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_floating_ball")),1),createBaseVNode("div",_hoisted_51$3,[createBaseVNode("div",_hoisted_52$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":P[17]||(P[17]=k=>f.value=k)},null,512),[[vModelCheckbox,f.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableFloatingBall")),1)])]),createBaseVNode("div",_hoisted_53$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.floatingBallCount")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":P[18]||(P[18]=k=>u.value=k),min:"1",max:"100",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.floatingBallCountPlaceholder")},null,8,_hoisted_54$3),[[vModelText,u.value,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_55$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.floatingBallSize")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":P[19]||(P[19]=k=>d.value=k),min:"5",max:"999999",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.floatingBallSizePlaceholder")},null,8,_hoisted_56$3),[[vModelText,d.value,void 0,{number:!0}]])]),createBaseVNode("button",{class:"save-button",onClick:be},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),a.value==="setting_prompt_box"?(openBlock(),createElementBlock("div",_hoisted_57$3,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_prompt_box")),1),createBaseVNode("div",_hoisted_58$3,[createBaseVNode("div",_hoisted_59$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":P[20]||(P[20]=k=>m.value=k)},null,512),[[vModelCheckbox,m.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableCommaConversion")),1)])]),createBaseVNode("div",_hoisted_60$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":P[21]||(P[21]=k=>_.value=k)},null,512),[[vModelCheckbox,_.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enablePeriodConversion")),1)])]),createBaseVNode("div",_hoisted_61$2,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":P[22]||(P[22]=k=>g.value=k)},null,512),[[vModelCheckbox,g.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableBracketConversion")),1)])]),createBaseVNode("div",_hoisted_62$2,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":P[23]||(P[23]=k=>v.value=k)},null,512),[[vModelCheckbox,v.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableAngleBracketConversion")),1)])]),createBaseVNode("div",_hoisted_63$2,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":P[24]||(P[24]=k=>b.value=k)},null,512),[[vModelCheckbox,b.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableUnderscoreToBracket")),1)])]),createBaseVNode("button",{class:"save-button",onClick:Ee},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),a.value==="setting_openai_box"?(openBlock(),createElementBlock("div",_hoisted_64$2,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.openaiSettings")),1),createBaseVNode("div",_hoisted_65$2,[createBaseVNode("div",_hoisted_66$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.selectedOpenaiConfig")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":P[25]||(P[25]=k=>x.value=k),onChange:ae},[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.value,(k,Y)=>(openBlock(),createElementBlock("option",{key:Y,value:Y},toDisplayString$1(k.model)+" ("+toDisplayString$1(k.base_url)+") ",9,_hoisted_67$2))),128))],544),[[vModelSelect,x.value]])]),createBaseVNode("div",_hoisted_68$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.value,(k,Y)=>(openBlock(),createElementBlock("div",{key:Y,class:"config-item"},[createBaseVNode("div",_hoisted_69$2,[createBaseVNode("span",null,toDisplayString$1(k.model),1),createBaseVNode("div",_hoisted_70$2,[createBaseVNode("button",{onClick:de=>M(Y)},toDisplayString$1(z.value===Y?unref(n)("promptBox.settings.cancel"):unref(n)("promptBox.settings.edit")),9,_hoisted_71$2),createBaseVNode("button",{onClick:de=>A(Y)},toDisplayString$1(unref(n)("promptBox.settings.delete")),9,_hoisted_72$2)])]),z.value===Y?(openBlock(),createElementBlock("div",_hoisted_73$2,[createBaseVNode("div",_hoisted_74$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[26]||(P[26]=de=>L.value.api_key=de),placeholder:unref(n)("promptBox.settings.openai_api_key_placeholder")},null,8,_hoisted_75$2),[[vModelText,L.value.api_key]])]),createBaseVNode("div",_hoisted_76$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[27]||(P[27]=de=>L.value.base_url=de),placeholder:unref(n)("promptBox.settings.openai_base_url_placeholder")},null,8,_hoisted_77$2),[[vModelText,L.value.base_url]])]),createBaseVNode("div",_hoisted_78$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_model"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[28]||(P[28]=de=>L.value.model=de),placeholder:unref(n)("promptBox.settings.openai_model_placeholder")},null,8,_hoisted_79$2),[[vModelText,L.value.model]])]),createBaseVNode("div",_hoisted_80$2,[createBaseVNode("button",{onClick:de=>G(Y)},toDisplayString$1(unref(n)("promptBox.settings.save")),9,_hoisted_81$2)])])):(openBlock(),createElementBlock("div",_hoisted_82$2,[createBaseVNode("div",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+": "+toDisplayString$1(k.api_key?"******":unref(n)("promptBox.settings.not_set")),1),createBaseVNode("div",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+": "+toDisplayString$1(k.base_url),1)]))]))),128))]),B.value?(openBlock(),createElementBlock("div",_hoisted_83$2,[createBaseVNode("div",_hoisted_84$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[29]||(P[29]=k=>L.value.api_key=k),placeholder:unref(n)("promptBox.settings.openai_api_key_placeholder")},null,8,_hoisted_85$1),[[vModelText,L.value.api_key]])]),createBaseVNode("div",_hoisted_86$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[30]||(P[30]=k=>L.value.base_url=k),placeholder:unref(n)("promptBox.settings.openai_base_url_placeholder")},null,8,_hoisted_87),[[vModelText,L.value.base_url]])]),createBaseVNode("div",_hoisted_88,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_model"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":P[31]||(P[31]=k=>L.value.model=k),placeholder:unref(n)("promptBox.settings.openai_model_placeholder")},null,8,_hoisted_89),[[vModelText,L.value.model]])]),createBaseVNode("div",_hoisted_90,[createBaseVNode("button",{onClick:ge},toDisplayString$1(unref(n)("promptBox.settings.cancel")),1),createBaseVNode("button",{onClick:te},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),B.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"add-button",onClick:R},toDisplayString$1(unref(n)("promptBox.settings.addNewConfig")),1))])])):createCommentVNode("",!0),a.value==="setting_sponsor_me"?(openBlock(),createElementBlock("div",_hoisted_91,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_sponsor_me")),1),createBaseVNode("div",_hoisted_92,[createBaseVNode("h1",null,toDisplayString$1(unref(n)("promptBox.settings.sponsorMeTip")),1),createBaseVNode("h2",null,toDisplayString$1(unref(n)("promptBox.settings.sponsorMeLink")),1),createBaseVNode("button",{class:"sponsor-me-button",onClick:ie},toDisplayString$1(unref(n)("promptBox.settings.sponsorMe")),1)])])):createCommentVNode("",!0),a.value==="setting_start_panel"?(openBlock(),createElementBlock("div",_hoisted_93,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_start_panel")),1),createBaseVNode("div",_hoisted_94,[createBaseVNode("h4",null,toDisplayString$1(unref(n)("promptBox.settings.startPanelTip")),1),createBaseVNode("button",{class:"start-panel-button",onClick:he},toDisplayString$1(unref(n)("promptBox.settings.startPanel")),1)])])):createCommentVNode("",!0)])])]),_:1},8,["modelValue","title"]))}},SettingDialog=_export_sfc(_sfc_main$h,[["__scopeId","data-v-b13cec0b"]]),_hoisted_1$g=["title"],_hoisted_2$d={class:"switch-icon"},_hoisted_3$d={key:0,class:"moon",viewBox:"0 0 24 24"},_hoisted_4$d={key:1,class:"sun",viewBox:"0 0 24 24"},STORAGE_PREFIX$5="weilin_tools_",_sfc_main$g={__name:"ThemeSwitch",setup(e){const{t}=useI18n(),n=`${STORAGE_PREFIX$5}theme`,r=ref(localStorage.getItem(n)==="dark"),a=()=>{r.value=!r.value;const o=document.getElementById("weilin_comfyui_tools_prompt_ui_div");o&&o.setAttribute("data-theme",r.value?"dark":"light"),localStorage.setItem(n,r.value?"dark":"light")};return(o,s)=>(openBlock(),createElementBlock("button",{class:"theme-switch",onClick:a,title:unref(t)("theme.toggle")},[createBaseVNode("div",_hoisted_2$d,[r.value?(openBlock(),createElementBlock("svg",_hoisted_3$d,s[0]||(s[0]=[createBaseVNode("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_4$d,s[1]||(s[1]=[createBaseVNode("circle",{cx:"12",cy:"12",r:"5"},null,-1),createBaseVNode("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"},null,-1)])))]),renderSlot(o.$slots,"default",{isDark:r.value},void 0,!0)],8,_hoisted_1$g))}},ThemeSwitch=_export_sfc(_sfc_main$g,[["__scopeId","data-v-e8b2125f"]]),STORAGE_PREFIX$4="weilin_tools_",tagsApi={getTagsList:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/get_group_tags",method:"get",params:{...e,lang:t}})},addPrimaryCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/add_new_f_group",method:"post",data:{...e,lang:t}})},editPrimaryCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/edit_f_group",method:"post",data:{...e,lang:t}})},deletePrimaryCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/delete_f_group",method:"post",data:{...e,lang:t}})},addSubCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/add_new_s_group",method:"post",data:{...e,lang:t}})},editSubCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/edit_s_group",method:"post",data:{...e,lang:t}})},deleteSubCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/delete_s_group",method:"post",data:{...e,lang:t}})},addNewTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/new_tags",method:"post",data:{...e,lang:t}})},editTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/edit_tags",method:"post",data:{...e,lang:t}})},deleteTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/delete_tags",method:"post",data:{...e,lang:t}})},batchDeleteTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/batch_delete_tags",method:"post",data:{...e,lang:t}})},moveTag:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/move_tag",method:"post",data:{...e,lang:t}})},getTagsGroupList:async()=>await request({url:"/prompt/get_groups_list",method:"post"}),runSQLToServer:async e=>await request({url:"/prompt/run_sql_text",method:"post",timeout:0,data:{sql:e}})};/**
 * uuidv7: A JavaScript implementation of UUID version 7
 *
 * Copyright 2021-2024 LiosK
 *
 * @license Apache-2.0
 * @packageDocumentation
 */const DIGITS="0123456789abcdef";class UUID{constructor(t){this.bytes=t}static ofInner(t){if(t.length!==16)throw new TypeError("not 128-bit length");return new UUID(t)}static fromFieldsV7(t,n,r,a){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(a)||t<0||n<0||r<0||a<0||t>0xffffffffffff||n>4095||r>1073741823||a>4294967295)throw new RangeError("invalid field value");const o=new Uint8Array(16);return o[0]=t/2**40,o[1]=t/2**32,o[2]=t/2**24,o[3]=t/2**16,o[4]=t/2**8,o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=a>>>24,o[13]=a>>>16,o[14]=a>>>8,o[15]=a,new UUID(o)}static parse(t){var n,r,a,o;let s;switch(t.length){case 32:s=(n=/^[0-9a-f]{32}$/i.exec(t))===null||n===void 0?void 0:n[0];break;case 36:s=(r=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(t))===null||r===void 0?void 0:r.slice(1,6).join("");break;case 38:s=(a=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(t))===null||a===void 0?void 0:a.slice(1,6).join("");break;case 45:s=(o=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(t))===null||o===void 0?void 0:o.slice(1,6).join("");break}if(s){const l=new Uint8Array(16);for(let c=0;c<16;c+=4){const u=parseInt(s.substring(2*c,2*c+8),16);l[c+0]=u>>>24,l[c+1]=u>>>16,l[c+2]=u>>>8,l[c+3]=u}return new UUID(l)}else throw new SyntaxError("could not parse UUID string")}toString(){let t="";for(let n=0;n<this.bytes.length;n++)t+=DIGITS.charAt(this.bytes[n]>>>4),t+=DIGITS.charAt(this.bytes[n]&15),(n===3||n===5||n===7||n===9)&&(t+="-");return t}toHex(){let t="";for(let n=0;n<this.bytes.length;n++)t+=DIGITS.charAt(this.bytes[n]>>>4),t+=DIGITS.charAt(this.bytes[n]&15);return t}toJSON(){return this.toString()}getVariant(){const t=this.bytes[8]>>>4;if(t<0)throw new Error("unreachable");if(t<=7)return this.bytes.every(n=>n===0)?"NIL":"VAR_0";if(t<=11)return"VAR_10";if(t<=13)return"VAR_110";if(t<=15)return this.bytes.every(n=>n===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new UUID(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(let n=0;n<16;n++){const r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class V7Generator{constructor(t){this.timestamp=0,this.counter=0,this.random=t??getDefaultRandom()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(t,n){let r=this.generateOrAbortCore(t,n);return r===void 0&&(this.timestamp=0,r=this.generateOrAbortCore(t,n)),r}generateOrAbortCore(t,n){if(!Number.isInteger(t)||t<1||t>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(n<0||n>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(t>this.timestamp)this.timestamp=t,this.resetCounter();else if(t+n>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return UUID.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){const t=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return t[6]=64|t[6]>>>4,t[8]=128|t[8]>>>2,UUID.ofInner(t)}}const getDefaultRandom=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new BufferedCryptoRandom;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}};class BufferedCryptoRandom{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}let defaultGenerator;const uuidv7=()=>uuidv7obj().toString(),uuidv7obj=()=>(defaultGenerator||(defaultGenerator=new V7Generator)).generate(),_hoisted_1$f={class:"tag-manager"},_hoisted_2$c={class:"category-tabs"},_hoisted_3$c={class:"tabs-wrapper primary-tabs"},_hoisted_4$c={class:"tabs-scroll"},_hoisted_5$b=["onClick"],_hoisted_6$b={class:"tab-text"},_hoisted_7$b={key:0,class:"tabs-wrapper group-tabs"},_hoisted_8$b={class:"tabs-scroll"},_hoisted_9$b=["onClick"],_hoisted_10$a={class:"tab-text"},_sfc_main$f={__name:"tag_group_select",emits:["sureSelect"],setup(e,{expose:t,emit:n}){const{t:r}=useI18n(),a=n,o=ref([]),s=ref(null),l=ref(null),c=ref([]),u=ref(!1),d=ref(!1),f=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh_select"},"*")},m=async()=>{try{const S=await tagsApi.getTagsGroupList();if(o.value=S.info,l.value){const N=o.value.flatMap(x=>x.groups).find(x=>x.p_uuid===l.value.p_uuid);N?l.value=N:l.value=null}if(s.value){const N=o.value.find(x=>x.p_uuid===s.value.p_uuid);N?s.value=N:s.value=null}}catch(S){console.error("获取标签列表失败:",S)}},_=S=>{if(!S||S==="transparent")return"var(--primary-text)";let N,x,C,B=1;if(S.startsWith("rgba")){const F=S.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);F&&([,N,x,C,B]=F.map(Number))}else if(S.startsWith("rgb")){const F=S.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);F&&([,N,x,C]=F.map(Number))}return B<.5?"var(--primary-text)":(N*299+x*587+C*114)/1e3>128?"#000000":"#ffffff"};onMounted(()=>{window.addEventListener("message",b)}),onBeforeUnmount(()=>{window.removeEventListener("message",b)});const g=S=>{s.value=S,l.value=null,u.value=!1,c.value=[]},v=S=>{l.value=S,u.value=!1,c.value=[]},b=S=>{S.data.type==="weilin_prompt_ui_tag_manager_refresh_select"&&m()},y=()=>{if(l.value==null||s.value==null){message$1({type:"warn",str:"message.pleaseSelectGroup"});return}a("sureSelect",{group:s.value,sub:l.value}),d.value=!1};return t({open:()=>{f(),d.value=!0}}),(S,N)=>(openBlock(),createBlock(Dialog,{modelValue:d.value,"onUpdate:modelValue":N[1]||(N[1]=x=>d.value=x),title:unref(r)("importDialog.selectTitle")},{footer:withCtx(()=>[createBaseVNode("button",{onClick:N[0]||(N[0]=x=>d.value=!1)},toDisplayString$1(unref(r)("promptBox.settings.close")),1),createBaseVNode("button",{onClick:y},toDisplayString$1(unref(r)("importDialog.sureSelect")),1)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,(x,C)=>{var B,L,F;return openBlock(),createElementBlock("div",{key:"Tabss-"+C,class:normalizeClass(["tab-item",{active:((B=s.value)==null?void 0:B.name)===x.name}]),style:normalizeStyle({backgroundColor:((L=s.value)==null?void 0:L.name)===x.name?"var(--primary-color)":x.color,color:((F=s.value)==null?void 0:F.name)===x.name?"#ffffff":_(x.color)}),onClick:z=>g(x)},[createBaseVNode("span",_hoisted_6$b,toDisplayString$1(x.name),1)],14,_hoisted_5$b)}),128))])]),s.value?(openBlock(),createElementBlock("div",_hoisted_7$b,[createBaseVNode("div",_hoisted_8$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value.groups,(x,C)=>{var B,L,F;return openBlock(),createElementBlock("div",{key:"TabsSw-"+C,class:normalizeClass(["tab-item",{active:((B=l.value)==null?void 0:B.name)===x.name}]),style:normalizeStyle({backgroundColor:((L=l.value)==null?void 0:L.name)===x.name?"var(--primary-color)":x.color,color:((F=l.value)==null?void 0:F.name)===x.name?"#ffffff":_(x.color)}),onClick:z=>v(x)},[createBaseVNode("span",_hoisted_10$a,toDisplayString$1(x.name),1)],14,_hoisted_9$b)}),128))])])):createCommentVNode("",!0)])])]),_:1},8,["modelValue","title"]))}},TagGroupSelectDialog=_export_sfc(_sfc_main$f,[["__scopeId","data-v-807bbcde"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(e){return typeof e>"u"||e===null}function isObject(e){return typeof e=="object"&&e!==null}function toArray(e){return Array.isArray(e)?e:isNothing(e)?[]:[e]}function extend(e,t){var n,r,a,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)a=o[n],e[a]=t[a];return e}function repeat(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function isNegativeZero(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function YAMLException$1(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype),YAMLException$1.prototype.constructor=YAMLException$1,YAMLException$1.prototype.toString=function(t){return this.name+": "+formatError(this,t)};var exception=YAMLException$1;function getLine(e,t,n,r,a){var o="",s="",l=Math.floor(a/2)-1;return r-t>l&&(o=" ... ",t=r-l+o.length),n-r>l&&(s=" ...",n=r+l-s.length),{str:o+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+o.length}}function padStart(e,t){return common.repeat(" ",t-e.length)+e}function makeSnippet(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],a=[],o,s=-1;o=n.exec(e.buffer);)a.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var l="",c,u,d=Math.min(e.line+t.linesAfter,a.length).toString().length,f=t.maxLength-(t.indent+d+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)u=getLine(e.buffer,r[s-c],a[s-c],e.position-(r[s]-r[s-c]),f),l=common.repeat(" ",t.indent)+padStart((e.line-c+1).toString(),d)+" | "+u.str+`
`+l;for(u=getLine(e.buffer,r[s],a[s],e.position,f),l+=common.repeat(" ",t.indent)+padStart((e.line+1).toString(),d)+" | "+u.str+`
`,l+=common.repeat("-",t.indent+d+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=a.length);c++)u=getLine(e.buffer,r[s+c],a[s+c],e.position-(r[s]-r[s+c]),f),l+=common.repeat(" ",t.indent)+padStart((e.line+c+1).toString(),d)+" | "+u.str+`
`;return l.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function Type$1(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(n)===-1)throw new exception('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=compileStyleAliases(t.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var type=Type$1;function compileList(e,t){var n=[];return e[t].forEach(function(r){var a=n.length;n.forEach(function(o,s){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(a=s)}),n[a]=r}),n}function compileMap(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function Schema$1(e){return this.extend(e)}Schema$1.prototype.extend=function(t){var n=[],r=[];if(t instanceof type)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Schema$1.prototype);return a.implicit=(this.implicit||[]).concat(n),a.explicit=(this.explicit||[]).concat(r),a.compiledImplicit=compileList(a,"implicit"),a.compiledExplicit=compileList(a,"explicit"),a.compiledTypeMap=compileMap(a.compiledImplicit,a.compiledExplicit),a};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function constructYamlNull(){return null}function isNull(e){return e===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function constructYamlBoolean(e){return e==="true"||e==="True"||e==="TRUE"}function isBoolean(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(e===null)return!1;var t=e.length,n=0,r=!1,a;if(!t)return!1;if(a=e[n],(a==="-"||a==="+")&&(a=e[++n]),a==="0"){if(n+1===t)return!0;if(a=e[++n],a==="b"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(a!=="0"&&a!=="1")return!1;r=!0}return r&&a!=="_"}if(a==="x"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!isHexCode(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}if(a==="o"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!isOctCode(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}}if(a==="_")return!1;for(;n<t;n++)if(a=e[n],a!=="_"){if(!isDecCode(e.charCodeAt(n)))return!1;r=!0}return!(!r||a==="_")}function constructYamlInteger(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function isInteger(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!common.isNegativeZero(e)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){return!(e===null||!YAML_FLOAT_PATTERN.test(e)||e[e.length-1]==="_")}function constructYamlFloat(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(e))return"-0.0";return n=e.toString(10),SCIENTIFIC_WITHOUT_DOT.test(n)?n.replace("e",".e"):n}function isFloat(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||common.isNegativeZero(e))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){return e===null?!1:YAML_DATE_REGEXP.exec(e)!==null||YAML_TIMESTAMP_REGEXP.exec(e)!==null}function constructYamlTimestamp(e){var t,n,r,a,o,s,l,c=0,u=null,d,f,m;if(t=YAML_DATE_REGEXP.exec(e),t===null&&(t=YAML_TIMESTAMP_REGEXP.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(o=+t[4],s=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(d=+t[10],f=+(t[11]||0),u=(d*60+f)*6e4,t[9]==="-"&&(u=-u)),m=new Date(Date.UTC(n,r,a,o,s,l,c)),u&&m.setTime(m.getTime()-u),m}function representYamlTimestamp(e){return e.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(e){return e==="<<"||e===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(e){if(e===null)return!1;var t,n,r=0,a=e.length,o=BASE64_MAP;for(n=0;n<a;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function constructYamlBinary(e){var t,n,r=e.replace(/[\r\n=]/g,""),a=r.length,o=BASE64_MAP,s=0,l=[];for(t=0;t<a;t++)t%4===0&&t&&(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)),s=s<<6|o.indexOf(r.charAt(t));return n=a%4*6,n===0?(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)):n===18?(l.push(s>>10&255),l.push(s>>2&255)):n===12&&l.push(s>>4&255),new Uint8Array(l)}function representYamlBinary(e){var t="",n=0,r,a,o=e.length,s=BASE64_MAP;for(r=0;r<o;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return a=o%3,a===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):a===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):a===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function isBinary(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(e){if(e===null)return!0;var t=[],n,r,a,o,s,l=e;for(n=0,r=l.length;n<r;n+=1){if(a=l[n],s=!1,_toString$2.call(a)!=="[object Object]")return!1;for(o in a)if(_hasOwnProperty$3.call(a,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function constructYamlOmap(e){return e!==null?e:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(e){if(e===null)return!0;var t,n,r,a,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],_toString$1.call(r)!=="[object Object]"||(a=Object.keys(r),a.length!==1))return!1;o[t]=[a[0],r[a[0]]]}return!0}function constructYamlPairs(e){if(e===null)return[];var t,n,r,a,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],a=Object.keys(r),o[t]=[a[0],r[a[0]]];return o}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(e===null)return!0;var t,n=e;for(t in n)if(_hasOwnProperty$2.call(n,t)&&n[t]!==null)return!1;return!0}function constructYamlSet(e){return e!==null?e:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return e===10||e===13}function is_WHITE_SPACE(e){return e===9||e===32}function is_WS_OR_EOL(e){return e===9||e===32||e===10||e===13}function is_FLOW_INDICATOR(e){return e===44||e===91||e===93||e===123||e===125}function fromHexCode(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function escapedHexLen(e){return e===120?2:e===117?4:e===85?8:0}function fromDecimalCode(e){return 48<=e&&e<=57?e-48:-1}function simpleEscapeSequence(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function charFromCodepoint(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}for(var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256),i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||_default,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=snippet(n),new exception(t,n)}function throwError(e,t){throw generateError(e,t)}function throwWarning(e,t){e.onWarning&&e.onWarning.call(null,generateError(e,t))}var directiveHandlers={YAML:function(t,n,r){var a,o,s;t.version!==null&&throwError(t,"duplication of %YAML directive"),r.length!==1&&throwError(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),a===null&&throwError(t,"ill-formed argument of the YAML directive"),o=parseInt(a[1],10),s=parseInt(a[2],10),o!==1&&throwError(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&throwWarning(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var a,o;r.length!==2&&throwError(t,"TAG directive accepts exactly two arguments"),a=r[0],o=r[1],PATTERN_TAG_HANDLE.test(a)||throwError(t,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(t.tagMap,a)&&throwError(t,'there is a previously declared suffix for "'+a+'" tag handle'),PATTERN_TAG_URI.test(o)||throwError(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{throwError(t,"tag prefix is malformed: "+o)}t.tagMap[a]=o}};function captureSegment(e,t,n,r){var a,o,s,l;if(t<n){if(l=e.input.slice(t,n),r)for(a=0,o=l.length;a<o;a+=1)s=l.charCodeAt(a),s===9||32<=s&&s<=1114111||throwError(e,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(l)&&throwError(e,"the stream contains non-printable characters");e.result+=l}}function mergeMappings(e,t,n,r){var a,o,s,l;for(common.isObject(n)||throwError(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n),s=0,l=a.length;s<l;s+=1)o=a[s],_hasOwnProperty$1.call(t,o)||(t[o]=n[o],r[o]=!0)}function storeMappingPair(e,t,n,r,a,o,s,l,c){var u,d;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),u=0,d=a.length;u<d;u+=1)Array.isArray(a[u])&&throwError(e,"nested arrays are not supported inside keys"),typeof a=="object"&&_class(a[u])==="[object Object]"&&(a[u]="[object Object]");if(typeof a=="object"&&_class(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,d=o.length;u<d;u+=1)mergeMappings(e,t,o[u],n);else mergeMappings(e,t,o,n);else!e.json&&!_hasOwnProperty$1.call(n,a)&&_hasOwnProperty$1.call(t,a)&&(e.line=s||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,throwError(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[a]=o,delete n[a];return t}function readLineBreak(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):throwError(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function skipSeparationSpace(e,t,n){for(var r=0,a=e.input.charCodeAt(e.position);a!==0;){for(;is_WHITE_SPACE(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(is_EOL(a))for(readLineBreak(e),a=e.input.charCodeAt(e.position),r++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&throwWarning(e,"deficient indentation"),r}function testDocumentSeparator(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||is_WS_OR_EOL(n)))}function writeFoldedLines(e,t){t===1?e.result+=" ":t>1&&(e.result+=common.repeat(`
`,t-1))}function readPlainScalar(e,t,n){var r,a,o,s,l,c,u,d,f=e.kind,m=e.result,_;if(_=e.input.charCodeAt(e.position),is_WS_OR_EOL(_)||is_FLOW_INDICATOR(_)||_===35||_===38||_===42||_===33||_===124||_===62||_===39||_===34||_===37||_===64||_===96||(_===63||_===45)&&(a=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(a)||n&&is_FLOW_INDICATOR(a)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,l=!1;_!==0;){if(_===58){if(a=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(a)||n&&is_FLOW_INDICATOR(a))break}else if(_===35){if(r=e.input.charCodeAt(e.position-1),is_WS_OR_EOL(r))break}else{if(e.position===e.lineStart&&testDocumentSeparator(e)||n&&is_FLOW_INDICATOR(_))break;if(is_EOL(_))if(c=e.line,u=e.lineStart,d=e.lineIndent,skipSeparationSpace(e,!1,-1),e.lineIndent>=t){l=!0,_=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=u,e.lineIndent=d;break}}l&&(captureSegment(e,o,s,!1),writeFoldedLines(e,e.line-c),o=s=e.position,l=!1),is_WHITE_SPACE(_)||(s=e.position+1),_=e.input.charCodeAt(++e.position)}return captureSegment(e,o,s,!1),e.result?!0:(e.kind=f,e.result=m,!1)}function readSingleQuotedScalar(e,t){var n,r,a;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(captureSegment(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,a=e.position;else return!0;else is_EOL(n)?(captureSegment(e,r,a,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,t)),r=a=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,t){var n,r,a,o,s,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return captureSegment(e,n,e.position,!0),e.position++,!0;if(l===92){if(captureSegment(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),is_EOL(l))skipSeparationSpace(e,!1,t);else if(l<256&&simpleEscapeCheck[l])e.result+=simpleEscapeMap[l],e.position++;else if((s=escapedHexLen(l))>0){for(a=s,o=0;a>0;a--)l=e.input.charCodeAt(++e.position),(s=fromHexCode(l))>=0?o=(o<<4)+s:throwError(e,"expected hexadecimal character");e.result+=charFromCodepoint(o),e.position++}else throwError(e,"unknown escape sequence");n=r=e.position}else is_EOL(l)?(captureSegment(e,n,r,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,t)),n=r=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,t){var n=!0,r,a,o,s=e.tag,l,c=e.anchor,u,d,f,m,_,g=Object.create(null),v,b,y,S;if(S=e.input.charCodeAt(e.position),S===91)d=93,_=!1,l=[];else if(S===123)d=125,_=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),S=e.input.charCodeAt(++e.position);S!==0;){if(skipSeparationSpace(e,!0,t),S=e.input.charCodeAt(e.position),S===d)return e.position++,e.tag=s,e.anchor=c,e.kind=_?"mapping":"sequence",e.result=l,!0;n?S===44&&throwError(e,"expected the node content, but found ','"):throwError(e,"missed comma between flow collection entries"),b=v=y=null,f=m=!1,S===63&&(u=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(u)&&(f=m=!0,e.position++,skipSeparationSpace(e,!0,t))),r=e.line,a=e.lineStart,o=e.position,composeNode(e,t,CONTEXT_FLOW_IN,!1,!0),b=e.tag,v=e.result,skipSeparationSpace(e,!0,t),S=e.input.charCodeAt(e.position),(m||e.line===r)&&S===58&&(f=!0,S=e.input.charCodeAt(++e.position),skipSeparationSpace(e,!0,t),composeNode(e,t,CONTEXT_FLOW_IN,!1,!0),y=e.result),_?storeMappingPair(e,l,g,b,v,y,r,a,o):f?l.push(storeMappingPair(e,null,g,b,v,y,r,a,o)):l.push(v),skipSeparationSpace(e,!0,t),S=e.input.charCodeAt(e.position),S===44?(n=!0,S=e.input.charCodeAt(++e.position)):n=!1}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,t){var n,r,a=CHOMPING_CLIP,o=!1,s=!1,l=t,c=0,u=!1,d,f;if(f=e.input.charCodeAt(e.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)CHOMPING_CLIP===a?a=f===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(e,"repeat of a chomping mode identifier");else if((d=fromDecimalCode(f))>=0)d===0?throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?throwError(e,"repeat of an indentation width identifier"):(l=t+d-1,s=!0);else break;if(is_WHITE_SPACE(f)){do f=e.input.charCodeAt(++e.position);while(is_WHITE_SPACE(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!is_EOL(f)&&f!==0)}for(;f!==0;){for(readLineBreak(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!s||e.lineIndent<l)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>l&&(l=e.lineIndent),is_EOL(f)){c++;continue}if(e.lineIndent<l){a===CHOMPING_KEEP?e.result+=common.repeat(`
`,o?1+c:c):a===CHOMPING_CLIP&&o&&(e.result+=`
`);break}for(r?is_WHITE_SPACE(f)?(u=!0,e.result+=common.repeat(`
`,o?1+c:c)):u?(u=!1,e.result+=common.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=common.repeat(`
`,c):e.result+=common.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,n=e.position;!is_EOL(f)&&f!==0;)f=e.input.charCodeAt(++e.position);captureSegment(e,n,e.position,!1)}return!0}function readBlockSequence(e,t){var n,r=e.tag,a=e.anchor,o=[],s,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!is_WS_OR_EOL(s))));){if(l=!0,e.position++,skipSeparationSpace(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,composeNode(e,t,CONTEXT_BLOCK_IN,!1,!0),o.push(e.result),skipSeparationSpace(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)throwError(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=r,e.anchor=a,e.kind="sequence",e.result=o,!0):!1}function readBlockMapping(e,t,n){var r,a,o,s,l,c,u=e.tag,d=e.anchor,f={},m=Object.create(null),_=null,g=null,v=null,b=!1,y=!1,S;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),S=e.input.charCodeAt(e.position);S!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(S===63||S===58)&&is_WS_OR_EOL(r))S===63?(b&&(storeMappingPair(e,f,m,_,g,null,s,l,c),_=g=v=null),y=!0,b=!0,a=!0):b?(b=!1,a=!0):throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,S=r;else{if(s=e.line,l=e.lineStart,c=e.position,!composeNode(e,n,CONTEXT_FLOW_OUT,!1,!0))break;if(e.line===o){for(S=e.input.charCodeAt(e.position);is_WHITE_SPACE(S);)S=e.input.charCodeAt(++e.position);if(S===58)S=e.input.charCodeAt(++e.position),is_WS_OR_EOL(S)||throwError(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(storeMappingPair(e,f,m,_,g,null,s,l,c),_=g=v=null),y=!0,b=!1,a=!1,_=e.tag,g=e.result;else if(y)throwError(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=d,!0}else if(y)throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=d,!0}if((e.line===o||e.lineIndent>t)&&(b&&(s=e.line,l=e.lineStart,c=e.position),composeNode(e,t,CONTEXT_BLOCK_OUT,!0,a)&&(b?g=e.result:v=e.result),b||(storeMappingPair(e,f,m,_,g,v,s,l,c),_=g=v=null),skipSeparationSpace(e,!0,-1),S=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&S!==0)throwError(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&storeMappingPair(e,f,m,_,g,null,s,l,c),y&&(e.tag=u,e.anchor=d,e.kind="mapping",e.result=f),y}function readTagProperty(e){var t,n=!1,r=!1,a,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&throwError(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,a="!!",s=e.input.charCodeAt(++e.position)):a="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):throwError(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!is_WS_OR_EOL(s);)s===33&&(r?throwError(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),PATTERN_TAG_HANDLE.test(a)||throwError(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),PATTERN_FLOW_INDICATORS.test(o)&&throwError(e,"tag suffix cannot contain flow indicator characters")}o&&!PATTERN_TAG_URI.test(o)&&throwError(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{throwError(e,"tag name is malformed: "+o)}return n?e.tag=o:_hasOwnProperty$1.call(e.tagMap,a)?e.tag=e.tagMap[a]+o:a==="!"?e.tag="!"+o:a==="!!"?e.tag="tag:yaml.org,2002:"+o:throwError(e,'undeclared tag handle "'+a+'"'),!0}function readAnchorProperty(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&throwError(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!is_WS_OR_EOL(n)&&!is_FLOW_INDICATOR(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&throwError(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function readAlias(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!is_WS_OR_EOL(r)&&!is_FLOW_INDICATOR(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&throwError(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),_hasOwnProperty$1.call(e.anchorMap,n)||throwError(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],skipSeparationSpace(e,!0,-1),!0}function composeNode(e,t,n,r,a){var o,s,l,c=1,u=!1,d=!1,f,m,_,g,v,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=l=CONTEXT_BLOCK_OUT===n||CONTEXT_BLOCK_IN===n,r&&skipSeparationSpace(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;readTagProperty(e)||readAnchorProperty(e);)skipSeparationSpace(e,!0,-1)?(u=!0,l=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||a),(c===1||CONTEXT_BLOCK_OUT===n)&&(CONTEXT_FLOW_IN===n||CONTEXT_FLOW_OUT===n?v=t:v=t+1,b=e.position-e.lineStart,c===1?l&&(readBlockSequence(e,b)||readBlockMapping(e,b,v))||readFlowCollection(e,v)?d=!0:(s&&readBlockScalar(e,v)||readSingleQuotedScalar(e,v)||readDoubleQuotedScalar(e,v)?d=!0:readAlias(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&throwError(e,"alias node should not have any properties")):readPlainScalar(e,v,CONTEXT_FLOW_IN===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(d=l&&readBlockSequence(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,m=e.implicitTypes.length;f<m;f+=1)if(g=e.implicitTypes[f],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(_hasOwnProperty$1.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,_=e.typeMap.multi[e.kind||"fallback"],f=0,m=_.length;f<m;f+=1)if(e.tag.slice(0,_[f].tag.length)===_[f].tag){g=_[f];break}g||throwError(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function readDocument(e){var t=e.position,n,r,a,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(skipSeparationSpace(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!is_WS_OR_EOL(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),a=[],r.length<1&&throwError(e,"directive name must not be less than one character in length");s!==0;){for(;is_WHITE_SPACE(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!is_EOL(s));break}if(is_EOL(s))break;for(n=e.position;s!==0&&!is_WS_OR_EOL(s);)s=e.input.charCodeAt(++e.position);a.push(e.input.slice(n,e.position))}s!==0&&readLineBreak(e),_hasOwnProperty$1.call(directiveHandlers,r)?directiveHandlers[r](e,r,a):throwWarning(e,'unknown document directive "'+r+'"')}if(skipSeparationSpace(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,skipSeparationSpace(e,!0,-1)):o&&throwError(e,"directives end mark is expected"),composeNode(e,e.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(e,!0,-1),e.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(e.input.slice(t,e.position))&&throwWarning(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&testDocumentSeparator(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,skipSeparationSpace(e,!0,-1));return}if(e.position<e.length-1)throwError(e,"end of the stream or a document separator is expected");else return}function loadDocuments(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new State$1(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,throwError(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)readDocument(n);return n.documents}function loadAll$1(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=loadDocuments(e,n);if(typeof t!="function")return r;for(var a=0,o=r.length;a<o;a+=1)t(r[a])}function load$1(e,t){var n=loadDocuments(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0",ESCAPE_SEQUENCES[7]="\\a",ESCAPE_SEQUENCES[8]="\\b",ESCAPE_SEQUENCES[9]="\\t",ESCAPE_SEQUENCES[10]="\\n",ESCAPE_SEQUENCES[11]="\\v",ESCAPE_SEQUENCES[12]="\\f",ESCAPE_SEQUENCES[13]="\\r",ESCAPE_SEQUENCES[27]="\\e",ESCAPE_SEQUENCES[34]='\\"',ESCAPE_SEQUENCES[92]="\\\\",ESCAPE_SEQUENCES[133]="\\N",ESCAPE_SEQUENCES[160]="\\_",ESCAPE_SEQUENCES[8232]="\\L",ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(e,t){var n,r,a,o,s,l,c;if(t===null)return{};for(n={},r=Object.keys(t),a=0,o=r.length;a<o;a+=1)s=r[a],l=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&_hasOwnProperty.call(c.styleAliases,l)&&(l=c.styleAliases[l]),n[s]=l;return n}function encodeHex(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+common.repeat("0",r-t.length)+t}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(e){this.schema=e.schema||_default,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=common.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=compileStyleMap(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(e,t){for(var n=common.repeat(" ",t),r=0,a=-1,o="",s,l=e.length;r<l;)a=e.indexOf(`
`,r),a===-1?(s=e.slice(r),r=l):(s=e.slice(r,a+1),r=a+1),s.length&&s!==`
`&&(o+=n),o+=s;return o}function generateNextLine(e,t){return`
`+common.repeat(" ",e.indent*t)}function testImplicitResolving(e,t){var n,r,a;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(a=e.implicitTypes[n],a.resolve(t))return!0;return!1}function isWhitespace(e){return e===CHAR_SPACE||e===CHAR_TAB}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==CHAR_BOM||65536<=e&&e<=1114111}function isNsCharOrWhitespace(e){return isPrintable(e)&&e!==CHAR_BOM&&e!==CHAR_CARRIAGE_RETURN&&e!==CHAR_LINE_FEED}function isPlainSafe(e,t,n){var r=isNsCharOrWhitespace(e),a=r&&!isWhitespace(e);return(n?r:r&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET)&&e!==CHAR_SHARP&&!(t===CHAR_COLON&&!a)||isNsCharOrWhitespace(t)&&!isWhitespace(t)&&e===CHAR_SHARP||t===CHAR_COLON&&a}function isPlainSafeFirst(e){return isPrintable(e)&&e!==CHAR_BOM&&!isWhitespace(e)&&e!==CHAR_MINUS&&e!==CHAR_QUESTION&&e!==CHAR_COLON&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET&&e!==CHAR_SHARP&&e!==CHAR_AMPERSAND&&e!==CHAR_ASTERISK&&e!==CHAR_EXCLAMATION&&e!==CHAR_VERTICAL_LINE&&e!==CHAR_EQUALS&&e!==CHAR_GREATER_THAN&&e!==CHAR_SINGLE_QUOTE&&e!==CHAR_DOUBLE_QUOTE&&e!==CHAR_PERCENT&&e!==CHAR_COMMERCIAL_AT&&e!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(e){return!isWhitespace(e)&&e!==CHAR_COLON}function codePointAt(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function needIndentIndicator(e){var t=/^\n* /;return t.test(e)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(e,t,n,r,a,o,s,l){var c,u=0,d=null,f=!1,m=!1,_=r!==-1,g=-1,v=isPlainSafeFirst(codePointAt(e,0))&&isPlainSafeLast(codePointAt(e,e.length-1));if(t||s)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=codePointAt(e,c),!isPrintable(u))return STYLE_DOUBLE;v=v&&isPlainSafe(u,d,l),d=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=codePointAt(e,c),u===CHAR_LINE_FEED)f=!0,_&&(m=m||c-g-1>r&&e[g+1]!==" ",g=c);else if(!isPrintable(u))return STYLE_DOUBLE;v=v&&isPlainSafe(u,d,l),d=u}m=m||_&&c-g-1>r&&e[g+1]!==" "}return!f&&!m?v&&!s&&!a(e)?STYLE_PLAIN:o===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:n>9&&needIndentIndicator(e)?STYLE_DOUBLE:s?o===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:m?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(e,t,n,r,a){e.dump=function(){if(t.length===0)return e.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!e.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(t)!==-1||DEPRECATED_BASE60_SYNTAX.test(t)))return e.quotingType===QUOTING_TYPE_DOUBLE?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),l=r||e.flowLevel>-1&&n>=e.flowLevel;function c(u){return testImplicitResolving(e,u)}switch(chooseScalarStyle(t,l,e.indent,s,c,e.quotingType,e.forceQuotes&&!r,a)){case STYLE_PLAIN:return t;case STYLE_SINGLE:return"'"+t.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(t,e.indent)+dropEndingNewline(indentString(t,o));case STYLE_FOLDED:return">"+blockHeader(t,e.indent)+dropEndingNewline(indentString(foldString(t,s),o));case STYLE_DOUBLE:return'"'+escapeString(t)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}function blockHeader(e,t){var n=needIndentIndicator(e)?String(t):"",r=e[e.length-1]===`
`,a=r&&(e[e.length-2]===`
`||e===`
`),o=a?"+":r?"":"-";return n+o+`
`}function dropEndingNewline(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function foldString(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,n.lastIndex=u,foldLine(e.slice(0,u),t)}(),a=e[0]===`
`||e[0]===" ",o,s;s=n.exec(e);){var l=s[1],c=s[2];o=c[0]===" ",r+=l+(!a&&!o&&c!==""?`
`:"")+foldLine(c,t),a=o}return r}function foldLine(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,a=0,o,s=0,l=0,c="";r=n.exec(e);)l=r.index,l-a>t&&(o=s>a?s:l,c+=`
`+e.slice(a,o),a=o+1),s=l;return c+=`
`,e.length-a>t&&s>a?c+=e.slice(a,s)+`
`+e.slice(s+1):c+=e.slice(a),c.slice(1)}function escapeString(e){for(var t="",n=0,r,a=0;a<e.length;n>=65536?a+=2:a++)n=codePointAt(e,a),r=ESCAPE_SEQUENCES[n],!r&&isPrintable(n)?(t+=e[a],n>=65536&&(t+=e[a+1])):t+=r||encodeHex(n);return t}function writeFlowSequence(e,t,n){var r="",a=e.tag,o,s,l;for(o=0,s=n.length;o<s;o+=1)l=n[o],e.replacer&&(l=e.replacer.call(n,String(o),l)),(writeNode(e,t,l,!1,!1)||typeof l>"u"&&writeNode(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=a,e.dump="["+r+"]"}function writeBlockSequence(e,t,n,r){var a="",o=e.tag,s,l,c;for(s=0,l=n.length;s<l;s+=1)c=n[s],e.replacer&&(c=e.replacer.call(n,String(s),c)),(writeNode(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&writeNode(e,t+1,null,!0,!0,!1,!0))&&((!r||a!=="")&&(a+=generateNextLine(e,t)),e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=o,e.dump=a||"[]"}function writeFlowMapping(e,t,n){var r="",a=e.tag,o=Object.keys(n),s,l,c,u,d;for(s=0,l=o.length;s<l;s+=1)d="",r!==""&&(d+=", "),e.condenseFlow&&(d+='"'),c=o[s],u=n[c],e.replacer&&(u=e.replacer.call(n,c,u)),writeNode(e,t,c,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),writeNode(e,t,u,!1,!1)&&(d+=e.dump,r+=d));e.tag=a,e.dump="{"+r+"}"}function writeBlockMapping(e,t,n,r){var a="",o=e.tag,s=Object.keys(n),l,c,u,d,f,m;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(l=0,c=s.length;l<c;l+=1)m="",(!r||a!=="")&&(m+=generateNextLine(e,t)),u=s[l],d=n[u],e.replacer&&(d=e.replacer.call(n,u,d)),writeNode(e,t+1,u,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?m+="?":m+="? "),m+=e.dump,f&&(m+=generateNextLine(e,t)),writeNode(e,t+1,d,!0,f)&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?m+=":":m+=": ",m+=e.dump,a+=m));e.tag=o,e.dump=a||"{}"}function detectType(e,t,n){var r,a,o,s,l,c;for(a=n?e.explicitTypes:e.implicitTypes,o=0,s=a.length;o<s;o+=1)if(l=a[o],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(n?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,_toString.call(l.represent)==="[object Function]")r=l.represent(t,c);else if(_hasOwnProperty.call(l.represent,c))r=l.represent[c](t,c);else throw new exception("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=r}return!0}return!1}function writeNode(e,t,n,r,a,o,s){e.tag=null,e.dump=n,detectType(e,n,!1)||detectType(e,n,!0);var l=_toString.call(e.dump),c=r,u;r&&(r=e.flowLevel<0||e.flowLevel>t);var d=l==="[object Object]"||l==="[object Array]",f,m;if(d&&(f=e.duplicates.indexOf(n),m=f!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&t>0)&&(a=!1),m&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(d&&m&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),l==="[object Object]")r&&Object.keys(e.dump).length!==0?(writeBlockMapping(e,t,e.dump,a),m&&(e.dump="&ref_"+f+e.dump)):(writeFlowMapping(e,t,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump));else if(l==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?writeBlockSequence(e,t-1,e.dump,a):writeBlockSequence(e,t,e.dump,a),m&&(e.dump="&ref_"+f+e.dump)):(writeFlowSequence(e,t,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&writeScalar(e,e.dump,t,o,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function getDuplicateReferences(e,t){var n=[],r=[],a,o;for(inspectNode(e,n,r),a=0,o=r.length;a<o;a+=1)t.duplicates.push(n[r[a]]);t.usedDuplicates=new Array(o)}function inspectNode(e,t,n){var r,a,o;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)n.indexOf(a)===-1&&n.push(a);else if(t.push(e),Array.isArray(e))for(a=0,o=e.length;a<o;a+=1)inspectNode(e[a],t,n);else for(r=Object.keys(e),a=0,o=r.length;a<o;a+=1)inspectNode(e[r[a]],t,n)}function dump$1(e,t){t=t||{};var n=new State(t);n.noRefs||getDuplicateReferences(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),writeNode(n,0,r,!0,!0)?n.dump+`
`:""}var dump_1=dump$1,dumper={dump:dump_1};function renamed(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Type=type,Schema=schema,FAILSAFE_SCHEMA=failsafe,JSON_SCHEMA=json,CORE_SCHEMA=core,DEFAULT_SCHEMA=_default,load=loader.load,loadAll=loader.loadAll,dump=dumper.dump,YAMLException=exception,types={binary,float,map,null:_null,pairs,set:set$1,timestamp,bool,int,merge,omap,seq,str},safeLoad=renamed("safeLoad","load"),safeLoadAll=renamed("safeLoadAll","loadAll"),safeDump=renamed("safeDump","dump"),jsYaml={Type,Schema,FAILSAFE_SCHEMA,JSON_SCHEMA,CORE_SCHEMA,DEFAULT_SCHEMA,load,loadAll,dump,YAMLException,types,safeLoad,safeLoadAll,safeDump};const _hoisted_1$e={class:"settings-content"},_hoisted_2$b={key:0,class:"loading-overlay"},_hoisted_3$b={class:"info-links"},_hoisted_4$b={class:"info-link-item"},_hoisted_5$a={class:"info-link-label"},_hoisted_6$a={href:"https://www.bilibili.com/list/288025756/?sid=4690314&spm_id_from=333.1387.0.0&oid=114342431298474&bvid=BV1txdfYxE7X",target:"_blank",class:"info-link"},_hoisted_7$a={class:"info-link-item"},_hoisted_8$a={class:"info-link-label"},_hoisted_9$a={href:"https://github.com/weilin9999/WeiLin-Comfyui-Tools-Prompt",target:"_blank",class:"info-link"},_hoisted_10$9={class:"info-link-item"},_hoisted_11$9={class:"info-link-label"},_hoisted_12$9={href:"https://weilin9999.github.io/WeiLin-Share-Prompt-Web/#/",target:"_blank",class:"info-link"},_hoisted_13$7={style:{"margin-bottom":"16px"}},_hoisted_14$7=["placeholder"],_hoisted_15$7={style:{"margin-bottom":"16px"}},_hoisted_16$7=["placeholder"],_hoisted_17$7=["placeholder"],_hoisted_18$6={style:{"margin-bottom":"16px"}},_hoisted_19$4=["placeholder"],_hoisted_20$4=["placeholder"],_hoisted_21$4={style:{"margin-bottom":"16px"}},_hoisted_22$4=["placeholder"],_hoisted_23$4={class:"data-container"},_hoisted_24$4={key:0},_hoisted_25$4={key:0},_hoisted_26$4={class:"tag-group-container"},_hoisted_27$4={style:{display:"flex","align-items":"center"}},_hoisted_28$4={key:0},_hoisted_29$4=["placeholder"],_hoisted_30$4=["onClick"],_hoisted_31$4=["onClick"],_hoisted_32$4=["onClick"],_sfc_main$e={__name:"import_tag",setup(e,{expose:t}){const{t:n}=useI18n(),r=ref(!1),a=ref(""),o=ref(""),s=ref(""),l=ref(""),c=ref(""),u=ref(""),d=ref(""),f=ref(""),m=ref(""),_=ref([]),g=ref(-1),v=ref(""),b=ref(""),y=ref(null),S=ref(null),N=ref(null),x=ref(!1),C=ref(""),B=ref(null);function L(){if(l.value.length<=0||c.value.length<=0){message$1({type:"warn",str:"importDialog.pleaseFullRequest"});return}B.value.click()}function F(){a.value="",o.value="",s.value="",l.value="",c.value="",u.value="",d.value="",f.value="",m.value="",_.value=[],g.value=-1,v.value="",b.value="",x.value=!1}function z(E){const I=E.target.files[0];if(I){const U=new FileReader;U.onload=K=>{const w=K.target.result.split(`
`).filter(D=>D.trim());let $=0;w.forEach(D=>{const[j,J]=D.split(",");if(j&&J){const P=j.trim().replace(/'/g,"''"),k=J.trim().replace(/'/g,"''"),Y=uuidv7();$=$+1;const de=parseInt(new Date().getTime()/1e3)+$,me=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${P}', '${k}', 'rgba(255, 123, 2, .4)', ${de}, '${m.value}', '${Y}');`;_.value.push(me)}})},U.readAsText(I)}E.target.value=""}function ee(E){const I=E.target.files[0];if(I){const U=new FileReader;U.onload=K=>{try{const Z=JSON.parse(K.target.result);let w=0;Object.entries(Z).forEach(([$,D])=>{const j=$.replace(/'/g,"''"),J=D.replace(/'/g,"''"),P=uuidv7();w=w+1;const k=parseInt(new Date().getTime()/1e3)+w,Y=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${j}', '${J}', 'rgba(255, 123, 2, .4)', ${k}, '${m.value}', '${P}');`;_.value.push(Y)})}catch{message$1({type:"warn",str:"message.jsonErrorMesg"})}},U.readAsText(I)}E.target.value=""}function W(E){const I=E.target.files[0];if(I){const U=new FileReader;U.onload=K=>{try{const Z=jsYaml.load(K.target.result);let w=0;Object.entries(Z).forEach(([$,D])=>{const j=$.replace(/'/g,"''"),J=String(D).replace(/'/g,"''"),P=uuidv7();w=w+1;const k=parseInt(new Date().getTime()/1e3)+w,Y=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${j}', '${J}', 'rgba(255, 123, 2, .4)', ${k}, '${m.value}', '${P}');`;_.value.push(Y)})}catch{message$1({type:"warn",str:"message.yamlErrorMesg"})}},U.readAsText(I)}E.target.value=""}function O(E){F();const I=E.target.files[0];if(I){const U=new FileReader;U.onload=K=>{K.target.result.split(";").filter($=>$.trim()).forEach($=>{if(($.includes("tag_groups")||$.includes("tag_subgroups"))&&$.includes("p_uuid"))if($.includes("g_uuid")){c.value=$+";";const j=$.split("VALUES")[1].trim().match(/,\s*'([^']+)'\)$/);j&&(m.value=j[1]);const J=$.match(/VALUES\s*\([^'"]*['"]([^'"]+)['"]/);J&&(d.value=J[1].replace(/''/g,"'"))}else{l.value=$+";";const j=$.split("VALUES")[1].trim().match(/,\s*'([^']+)'\)$/);j&&(f.value=j[1]);const J=$.match(/VALUES\s*\([^'"]*['"]([^'"]+)['"]/);J&&(u.value=J[1].replace(/''/g,"'"))}else $.includes("tag_tags")&&_.value.push($+";")})},U.readAsText(I)}E.target.value=""}function ne(){if(l.value.length<=0||c.value.length<=0){message$1({type:"warn",str:"importDialog.pleaseFullRequest"});return}N.value.click()}function le(){if(l.value.length<=0||c.value.length<=0){message$1({type:"warn",str:"importDialog.pleaseFullRequest"});return}S.value.click()}function Se(){y.value.click()}function _e(){const E=[l.value,c.value,..._.value].join(`
`),I=new Blob([E],{type:"text/sql"}),U=document.createElement("a");if(U.href=URL.createObjectURL(I),C.value.length<=0){const K=parseInt(new Date().getTime()/1e3);U.download="export_"+K+".sql"}else U.download=C.value+".sql";U.click()}const ue=()=>{const E=[..._.value].join(`
`),I=new Blob([E],{type:"text/sql"}),U=document.createElement("a");if(U.href=URL.createObjectURL(I),C.value.length<=0){const K=parseInt(new Date().getTime()/1e3);U.download="export_tags_"+K+".sql"}else U.download=C.value+".sql";U.click()};function ce(E){const I=E.match(/VALUES\s*\([^']*'([^']+)'/),U=E.match(/VALUES\s*\([^']*'[^']*'\s*,\s*'([^']+)'/);return{text:I?I[1].replace(/''/g,"'"):"",desc:U?U[1].replace(/''/g,"'"):""}}function ye(E){_.value.splice(E,1)}function be(E){const I=_.value[E],U=ce(I);v.value=U.text,b.value=U.desc,g.value=E}function Ee(E){const I=v.value.replace(/'/g,"''"),U=b.value.replace(/'/g,"''");_.value[E]=_.value[E].replace(/(VALUES\s*\([^']*')([^']+)'/,`$1${I}'`).replace(/(VALUES\s*\([^']*'[^']*'\s*,\s*')([^']+)'/,`$1${U}'`),g.value=-1}function H(){g.value=-1}function R(){if(!m.value){message$1({type:"warn",str:"message.pleaseAddSub"});return}const E=a.value.replace(/'/g,"''"),I=o.value.replace(/'/g,"''"),U=uuidv7(),K=parseInt(new Date().getTime()/1e3);s.value=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${E}', '${I}', 'rgba(255, 123, 2, .4)', ${K}, '${m.value}', '${U}');`,_.value.push(s.value)}function A(){if(u.value.length<=0){message$1({type:"warn",str:"importDialog.pleaseAddGroupName"});return}const E=u.value.replace(/'/g,"''");f.value.length<=0&&(f.value=uuidv7());const I=parseInt(new Date().getTime()/1e3);l.value=`INSERT OR REPLACE INTO "tag_groups" ("name", "color", "create_time", "p_uuid") VALUES ('${E}', 'rgba(255, 123, 2, .4)', ${I}, '${f.value}');`}function M(){if(d.value.length<=0){message$1({type:"warn",str:"importDialog.pleaseAddSubGroupName"});return}if(!f.value){message$1({type:"warn",str:"message.pleaseAddMainCeb"});return}const E=d.value.replace(/'/g,"''");m.value.length<=0&&(m.value=uuidv7());const I=parseInt(new Date().getTime()/1e3);c.value=`INSERT OR REPLACE INTO "tag_subgroups" ("name", "color", "create_time", "p_uuid", "g_uuid") VALUES ('${E}', 'rgba(255, 123, 2, .4)', ${I}, '${f.value}', '${m.value}');`}const G=ref(null),te=()=>{G.value.open()},ge=E=>{x.value=!0,u.value=E.group.name,d.value=E.sub.name,f.value=E.group.p_uuid,m.value=E.sub.g_uuid;const I=E.group.name.replace(/'/g,"''"),U=E.sub.name.replace(/'/g,"''");l.value=`INSERT OR REPLACE INTO "tag_groups" ("name", "color", "create_time", "p_uuid") VALUES ('${I}', '${E.group.color}', ${E.group.create_time}, '${E.group.p_uuid}');`,c.value=`INSERT OR REPLACE INTO "tag_subgroups" ("name", "color", "create_time", "p_uuid", "g_uuid") VALUES ('${U}', '${E.sub.color}', ${E.sub.create_time}, '${E.group.p_uuid}', '${E.sub.g_uuid}');`},ae=ref(!1),ie=async E=>{ae.value=!0;try{await tagsApi.runSQLToServer(E).then(I=>{if(I.code!=200){message$1({type:"warn",str:I.message});return}else he(),message$1({type:"success",str:"importDialog.successImport"})}).catch(I=>{console.error(I),message$1({type:"warn",str:"importDialog.importFail"})})}catch(I){console.error(I),message$1({type:"warn",str:"importDialog.importFail"})}finally{ae.value=!1}},he=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*")},T=async()=>{if(x.value){if(l.value.length<=0||c.value.length<=0){message$1({type:"warn",str:"importDialog.pleaseFullRequest"});return}const E=[..._.value];await ie(E)}else{if(l.value.length<=0||c.value.length<=0){message$1({type:"warn",str:"importDialog.pleaseFullRequest"});return}const E=[l.value,c.value,..._.value];await ie(E)}};return watch(l,(E,I)=>{var Z,w;if(!E||E===I)return;const U=(Z=E.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:Z[1],K=(w=I==null?void 0:I.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:w[1];U&&K&&c.value&&(c.value=c.value.replace(new RegExp(`'${K}'`,"g"),`'${U}'`))}),watch(c,(E,I)=>{var Z,w;if(!E||E===I)return;const U=(Z=E.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:Z[1],K=(w=I==null?void 0:I.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:w[1];U&&K&&_.value.length>0&&(_.value=_.value.map($=>$.replace(new RegExp(`'${K}'`,"g"),`'${U}'`)))}),t({open:()=>{r.value=!0}}),(E,I)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Dialog,{modelValue:r.value,"onUpdate:modelValue":I[10]||(I[10]=U=>r.value=U),title:unref(n)("importDialog.title")},{footer:withCtx(()=>[createBaseVNode("button",{onClick:I[9]||(I[9]=U=>r.value=!1)},toDisplayString$1(unref(n)("promptBox.settings.close")),1),createBaseVNode("button",{onClick:T},toDisplayString$1(unref(n)("importDialog.sure")),1)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[ae.value?(openBlock(),createElementBlock("div",_hoisted_2$b,I[11]||(I[11]=[createBaseVNode("div",{class:"loading-spinner"},null,-1)]))):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$b,[createBaseVNode("div",_hoisted_4$b,[createBaseVNode("span",_hoisted_5$a,toDisplayString$1(unref(n)("importDialog.tips1")),1),createBaseVNode("a",_hoisted_6$a,toDisplayString$1(unref(n)("importDialog.tips1text")),1)]),createBaseVNode("div",_hoisted_7$a,[createBaseVNode("span",_hoisted_8$a,toDisplayString$1(unref(n)("importDialog.tips2")),1),createBaseVNode("a",_hoisted_9$a,toDisplayString$1(unref(n)("importDialog.tips2text")),1)]),createBaseVNode("div",_hoisted_10$9,[createBaseVNode("span",_hoisted_11$9,toDisplayString$1(unref(n)("importDialog.tips3")),1),createBaseVNode("a",_hoisted_12$9,toDisplayString$1(unref(n)("importDialog.tips3text")),1)])]),createBaseVNode("div",_hoisted_13$7,[createBaseVNode("button",{onClick:F,class:"upload-btn"},toDisplayString$1(unref(n)("importDialog.cleanAll")),1),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:Se,class:"upload-btn"},toDisplayString$1(unref(n)("importDialog.uploadSQL")),1),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:te},toDisplayString$1(unref(n)("importDialog.selectGroup")),1),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:_e},toDisplayString$1(unref(n)("importDialog.dumpSQL")),1),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:ue},toDisplayString$1(unref(n)("importDialog.dumpOnlySQL")),1),withDirectives(createBaseVNode("input",{style:{width:"300px","margin-left":"10px"},"onUpdate:modelValue":I[0]||(I[0]=U=>C.value=U),placeholder:unref(n)("importDialog.settingOutputName")},null,8,_hoisted_14$7),[[vModelText,C.value]]),createBaseVNode("input",{type:"file",ref_key:"fileInput",ref:y,onChange:O,accept:".sql",style:{display:"none"}},null,544),createBaseVNode("input",{type:"file",ref_key:"jsonFileInput",ref:S,onChange:ee,accept:".json",style:{display:"none"}},null,544),createBaseVNode("input",{type:"file",ref_key:"txtFileInput",ref:N,onChange:z,accept:".txt",style:{display:"none"}},null,544),createBaseVNode("input",{type:"file",ref_key:"yamlFileInput",ref:B,onChange:W,accept:".yaml,.yml",style:{display:"none"}},null,544)]),createBaseVNode("div",_hoisted_15$7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[1]||(I[1]=U=>u.value=U),placeholder:unref(n)("importDialog.pleaseMainCeb")},null,8,_hoisted_16$7),[[vModelText,u.value]]),createBaseVNode("button",{onClick:A},toDisplayString$1(unref(n)("importDialog.setMainCeb")),1),withDirectives(createBaseVNode("input",{style:{width:"300px","margin-left":"10px"},"onUpdate:modelValue":I[2]||(I[2]=U=>f.value=U),placeholder:unref(n)("importDialog.pleaseMainCebUuid")},null,8,_hoisted_17$7),[[vModelText,f.value]])]),createBaseVNode("div",_hoisted_18$6,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[3]||(I[3]=U=>d.value=U),placeholder:unref(n)("importDialog.pleaseSubGroup")},null,8,_hoisted_19$4),[[vModelText,d.value]]),createBaseVNode("button",{onClick:M},toDisplayString$1(unref(n)("importDialog.setSubCeb")),1),withDirectives(createBaseVNode("input",{style:{width:"300px","margin-left":"10px"},"onUpdate:modelValue":I[4]||(I[4]=U=>m.value=U),placeholder:unref(n)("importDialog.pleaseSubGroupUuid")},null,8,_hoisted_20$4),[[vModelText,m.value]])]),createBaseVNode("div",_hoisted_21$4,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[5]||(I[5]=U=>a.value=U),placeholder:"Tag"},null,512),[[vModelText,a.value]]),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[6]||(I[6]=U=>o.value=U),placeholder:unref(n)("importDialog.translater")},null,8,_hoisted_22$4),[[vModelText,o.value]]),createBaseVNode("button",{onClick:R},toDisplayString$1(unref(n)("importDialog.add")),1),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:le,class:"upload-btn"},toDisplayString$1(unref(n)("importDialog.fromJSONImput")),1),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:ne,class:"upload-btn"},toDisplayString$1(unref(n)("importDialog.fromTxtInput")),1),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:L,class:"upload-btn"},toDisplayString$1(unref(n)("importDialog.fromYmalInput")),1)]),createBaseVNode("div",_hoisted_23$4,[l.value?(openBlock(),createElementBlock("div",_hoisted_24$4,[createBaseVNode("h3",null,toDisplayString$1(ce(l.value).text),1),c.value?(openBlock(),createElementBlock("div",_hoisted_25$4,[createBaseVNode("h4",null,toDisplayString$1(ce(c.value).text),1),createBaseVNode("div",_hoisted_26$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,(U,K)=>(openBlock(),createElementBlock("div",{key:K,style:{display:"flex","flex-direction":"column","align-items":"center"}},[createBaseVNode("p",null,toDisplayString$1(ce(U).text)+" - "+toDisplayString$1(ce(U).desc),1),createBaseVNode("div",_hoisted_27$4,[g.value===K?(openBlock(),createElementBlock("div",_hoisted_28$4,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[7]||(I[7]=Z=>v.value=Z),placeholder:"Tag"},null,512),[[vModelText,v.value]]),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[8]||(I[8]=Z=>b.value=Z),placeholder:unref(n)("importDialog.translater")},null,8,_hoisted_29$4),[[vModelText,b.value]]),createBaseVNode("button",{onClick:Z=>Ee(K)},toDisplayString$1(unref(n)("importDialog.sureYes")),9,_hoisted_30$4),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:H},toDisplayString$1(unref(n)("importDialog.cancel")),1)])):(openBlock(),createElementBlock("button",{key:1,onClick:Z=>be(K)},toDisplayString$1(unref(n)("importDialog.edit")),9,_hoisted_31$4)),createBaseVNode("button",{style:{"margin-left":"10px"},onClick:Z=>ye(K)},toDisplayString$1(unref(n)("importDialog.delete")),9,_hoisted_32$4)])]))),128))])])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])]),_:1},8,["modelValue","title"]),createVNode(TagGroupSelectDialog,{ref_key:"tagGroupSelectDialogItem",ref:G,onSureSelect:ge},null,512)],64))}},ImportTagDialog=_export_sfc(_sfc_main$e,[["__scopeId","data-v-d345799b"]]),_hoisted_1$d={class:"tag-manager"},_hoisted_2$a={class:"toolbar"},_hoisted_3$a={class:"toolbar-top"},_hoisted_4$a={class:"search-container"},_hoisted_5$9=["placeholder"],_hoisted_6$9={key:0,class:"no-results"},_hoisted_7$9=["onClick"],_hoisted_8$9={class:"result-content"},_hoisted_9$9={class:"result-text"},_hoisted_10$8={class:"result-path"},_hoisted_11$8={class:"group-edit-mode"},_hoisted_12$8={class:"category-tabs"},_hoisted_13$6={class:"tabs-wrapper primary-tabs"},_hoisted_14$6={class:"tabs-scroll"},_hoisted_15$6=["onClick","onMouseenter","onMouseleave"],_hoisted_16$6={class:"tab-text"},_hoisted_17$6={key:0,class:"tab-actions"},_hoisted_18$5=["onClick","title"],_hoisted_19$3=["onClick","title"],_hoisted_20$3=["onClick","title"],_hoisted_21$3={class:"group-edit-mode"},_hoisted_22$3={key:0,class:"tabs-wrapper group-tabs"},_hoisted_23$3={class:"tabs-scroll"},_hoisted_24$3=["onClick","onMouseenter","onMouseleave"],_hoisted_25$3={class:"tab-text"},_hoisted_26$3={key:0,class:"tab-actions"},_hoisted_27$3=["onClick","title"],_hoisted_28$3=["onClick","title"],_hoisted_29$3={class:"group-edit-mode"},_hoisted_30$3={class:"tags-content"},_hoisted_31$3={class:"tags-header"},_hoisted_32$3={class:"tags-title"},_hoisted_33$3={class:"tags-actions"},_hoisted_34$3=["disabled"],_hoisted_35$3=["disabled"],_hoisted_36$3=["disabled"],_hoisted_37$3=["disabled"],_hoisted_38$3=["disabled"],_hoisted_39$3={key:0,class:"tags-grid"},_hoisted_40$3=["onClick"],_hoisted_41$3={class:"tag-actions"},_hoisted_42$3=["onClick","title"],_hoisted_43$3=["onClick","title"],_hoisted_44$3=["onClick","title"],_hoisted_45$3={class:"tag-desc"},_hoisted_46$3=["value"],_hoisted_47$2={key:0,class:"dialog-overlay"},_hoisted_48$2={class:"dialog-header"},_hoisted_49$2={class:"dialog-body"},_hoisted_50$2={key:0,class:"form-group"},_hoisted_51$2=["placeholder"],_hoisted_52$2={key:1,class:"form-group"},_hoisted_53$2=["placeholder"],_hoisted_54$2={class:"form-group"},_hoisted_55$2={class:"color-picker"},_hoisted_56$2={class:"color-controls"},_hoisted_57$2={class:"alpha-control"},_hoisted_58$2={class:"alpha-value"},_hoisted_59$2={class:"dialog-footer"},_hoisted_60$2={key:1,class:"dialog-overlay"},_hoisted_61$1={class:"dialog-header"},_hoisted_62$1={class:"dialog-body"},_hoisted_63$1={class:"form-group"},_hoisted_64$1=["placeholder"],_hoisted_65$1={class:"form-group"},_hoisted_66$1=["placeholder"],_hoisted_67$1={class:"form-group"},_hoisted_68$1={class:"color-picker"},_hoisted_69$1={class:"color-controls"},_hoisted_70$1={class:"alpha-control"},_hoisted_71$1={class:"alpha-value"},_hoisted_72$1={class:"dialog-footer"},_hoisted_73$1={key:2,class:"dialog-overlay"},_hoisted_74$1={class:"dialog-header"},_hoisted_75$1={class:"dialog-body"},_hoisted_76$1={class:"confirm-message"},_hoisted_77$1={class:"dialog-footer"},_hoisted_78$1={key:3,class:"dialog-overlay"},_hoisted_79$1={class:"dialog-content"},_hoisted_80$1={class:"dialog-header"},_hoisted_81$1={class:"dialog-body"},_hoisted_82$1={class:"form-group"},_hoisted_83$1=["value"],_hoisted_84$1={class:"form-group"},_hoisted_85={class:"radio-group"},_hoisted_86={class:"dialog-footer"},_sfc_main$d={__name:"tag_index",props:{tagManager:{type:String,default:"prompt"}},setup(e){const t=useTagStore(),{t:n}=useI18n(),r=ref([]),a=ref(null),o=ref(null),s=ref(!1),l=ref(!1),c=ref(!1),u=ref(!1),d=ref("primary"),f=ref([]),m=ref(!1),_=ref("None"),g=ref("None"),v=ref(0),b=ref(0),y=ref(null),S=ref(0),N=ref(!1),x=ref(null),C=ref("before"),B=ref(null),L=ref(!1),F=ref(!1),z=e,ee=ref({name:"",color:"rgba(255, 123, 2, .4)",id_index:"",groups:[]}),W=ref({name:"",id_index:"",color:"rgba(255, 123, 2, .4)",tags:[]}),O=ref({text:"",desc:"",id_index:"",color:"rgba(255, 123, 2, .4)"}),ne=X=>{const oe=X.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(oe){const[,re,ve,ke,Ne]=oe,Ce=`#${((1<<24)+(parseInt(re)<<16)+(parseInt(ve)<<8)+parseInt(ke)).toString(16).slice(1)}`,Le=Ne?Math.round(parseFloat(Ne)*100):100;return{hex:Ce,alpha:Le}}return{hex:"#FFFFFF",alpha:100}},le=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*")},Se=async()=>{try{const X=await tagsApi.getTagsList();if(t.setCategories(X.data),r.value=t.categories,o.value){const oe=r.value.flatMap(re=>re.groups).find(re=>re.p_uuid===o.value.p_uuid);oe?o.value=oe:o.value=null}if(a.value){const oe=r.value.find(re=>re.p_uuid===a.value.p_uuid);oe?a.value=oe:a.value=null}}catch(X){console.error("获取标签列表失败:",X)}};onMounted(()=>{Ge(),window.addEventListener("click",lt),window.addEventListener("resize",Ge),window.addEventListener("message",it),window.addEventListener("keydown",ct),r.value=t.categories,r.value.length<=0&&le()}),onBeforeUnmount(()=>{window.removeEventListener("click",lt),window.removeEventListener("resize",Ge),window.removeEventListener("message",it),window.removeEventListener("keydown",ct)});const _e=computed(()=>o.value?o.value.tags||[]:[]),ue=X=>{a.value=X,o.value=null,m.value=!1,f.value=[]},ce=X=>{o.value=X,m.value=!1,f.value=[]},ye=X=>{d.value=X,c.value=!1,ae.value=ne("rgba(255, 123, 2, .4)"),X==="primary"?ee.value={name:"",color:"rgba(255, 123, 2, .4)",groups:[]}:W.value={name:"",color:"rgba(255, 123, 2, .4)",tags:[]},s.value=!0},be=X=>{c.value=!0,d.value="primary",ee.value={...X},ae.value=ne(X.color),s.value=!0},Ee=X=>{c.value=!0,d.value="group",W.value={...X},ae.value=ne(X.color),s.value=!0},H=()=>{if(d.value==="primary"){if(!ee.value.name){message$1({type:"warn",str:"tagManager.categoryNameRequired"});return}c.value?r.value.findIndex(oe=>oe.id_index===ee.value.id_index)!==-1&&tagsApi.editPrimaryCategory({id_index:ee.value.id_index,name:ee.value.name,color:ee.value.color}).then(oe=>{oe.code===200?(le(),message$1({type:"success",str:"message.editSuccess"})):oe.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.editFailed"})}).catch(oe=>{message$1({type:"warn",str:"message.networkError"})}):tagsApi.addPrimaryCategory({name:ee.value.name,color:ee.value.color}).then(X=>{X.code===200?(le(),message$1({type:"success",str:"message.addSuccess"})):X.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.addFailed"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})})}else{if(!W.value.name){message$1({type:"warn",str:"tagManager.groupNameRequired"});return}c.value?tagsApi.editSubCategory({id_index:W.value.id_index,name:W.value.name,color:W.value.color}).then(X=>{X.code===200?(le(),message$1({type:"success",str:"message.editSuccess"})):X.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.editFailed"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})}):tagsApi.addSubCategory({name:W.value.name,color:W.value.color,key:a.value.id_index,p_uuid:a.value.p_uuid}).then(X=>{X.code===200?(le(),message$1({type:"success",str:"message.addSuccess"})):X.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.editFailed"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})})}A()},R=()=>c.value?d.value==="primary"?n("tagManager.editPrimaryCategory"):n("tagManager.editSubCategory"):d.value==="primary"?n("tagManager.addPrimaryCategory"):n("tagManager.addSubCategory"),A=()=>{s.value=!1,ee.value={id:"",name:"",parentId:null,subCategories:[],backgroundColor:"transparent"},ae.value={hex:"#FFFFFF",alpha:0}};ref([]);const M=()=>{o.value&&(u.value=!1,O.value={id:"",text:"",desc:"",categoryId:o.value.id,g_uuid:o.value.g_uuid,backgroundColor:W.value.color},ae.value=ne(W.value.color),l.value=!0)},G=X=>{u.value=!0,O.value={...X},ae.value=ne(X.color),l.value=!0},te=()=>{if(!O.value.text||!O.value.desc){message$1({type:"warn",str:"tagManager.textRequired"});return}u.value&&o.value?tagsApi.editTags({id_index:O.value.id_index,text:O.value.text,desc:O.value.desc,color:O.value.color}).then(X=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.editSuccess"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})}):o.value&&tagsApi.addNewTags({id_index:o.value.id_index,g_uuid:o.value.g_uuid,text:O.value.text,desc:O.value.desc,color:O.value.color?O.value.color:"rgba(255, 123, 2, .4)"}).then(X=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.addSuccess"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})}),ge()},ge=()=>{l.value=!1,O.value={text:"",desc:"",color:"rgba(255, 123, 2, .4)"},u.value=!1},ae=ref({hex:"#FFFFFF",alpha:100}),ie=computed(()=>T(ae.value.hex,ae.value.alpha)),he=()=>{const X=T(ae.value.hex,ae.value.alpha);s.value?d.value==="primary"?ee.value.color=X:W.value.color=X:l.value&&(O.value.color=X)},T=(X,oe)=>{const re=parseInt(X.slice(1,3),16),ve=parseInt(X.slice(3,5),16),ke=parseInt(X.slice(5,7),16);return`rgba(${re}, ${ve}, ${ke}, ${oe/100})`},E=ref(""),I=ref([]),U=ref(!1),K=()=>{U.value=E.value.trim().length>0;const X=E.value.trim().toLowerCase();if(!X){I.value=[];return}const oe=[];r.value.forEach(re=>{var ke;const ve=String((re==null?void 0:re.name)||"");ve&&ve.toLowerCase().includes(X)&&oe.push({type:"category",item:re,path:[ve]}),(ke=re.groups)==null||ke.forEach(Ne=>{var Le;const Ce=String((Ne==null?void 0:Ne.name)||"");Ce&&Ce.toLowerCase().includes(X)&&oe.push({type:"group",item:Ne,path:[ve,Ce]}),(Le=Ne.tags)==null||Le.forEach(Fe=>{const et=String((Fe==null?void 0:Fe.text)||""),q=String((Fe==null?void 0:Fe.desc)||"");(et&&et.toLowerCase().includes(X)||q&&q.toLowerCase().includes(X))&&oe.push({type:"tag",item:Fe,path:[ve,Ce,et]})})})}),I.value=oe};watch(E,()=>{K()});const Z=X=>{var oe;if(!(!(X!=null&&X.type)||!(X!=null&&X.item))){if(X.type==="category")X.item&&ue(X.item);else if(X.type==="group"){const re=r.value.find(ve=>{var ke;return(ke=ve==null?void 0:ve.groups)==null?void 0:ke.some(Ne=>{var Ce;return String(Ne==null?void 0:Ne.name)===String((Ce=X.item)==null?void 0:Ce.name)})});re&&X.item&&(ue(re),ce(X.item))}else if(X.type==="tag"){const re=r.value.find(ve=>{var ke;return(ke=ve==null?void 0:ve.groups)==null?void 0:ke.some(Ne=>{var Ce;return(Ce=Ne==null?void 0:Ne.tags)==null?void 0:Ce.some(Le=>{var Fe;return String(Le==null?void 0:Le.text)===String((Fe=X.item)==null?void 0:Fe.text)})})});if(re){const ve=(oe=re.groups)==null?void 0:oe.find(ke=>{var Ne;return(Ne=ke==null?void 0:ke.tags)==null?void 0:Ne.some(Ce=>{var Le;return String(Ce==null?void 0:Ce.text)===String((Le=X.item)==null?void 0:Le.text)})});ve&&(ue(re),ce(ve),S.value==1&&window.postMessage({type:"weilin_prompt_ui_insertTag",tagText:X.item.text},"*"),y.value=X.item.id_index,setTimeout(()=>{y.value=null},5e3))}}E.value=""}},w=X=>{if(!X||X==="transparent")return"var(--primary-text)";let oe,re,ve,ke=1;if(X.startsWith("rgba")){const Ce=X.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);Ce&&([,oe,re,ve,ke]=Ce.map(Number))}else if(X.startsWith("rgb")){const Ce=X.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);Ce&&([,oe,re,ve]=Ce.map(Number))}return ke<.5?"var(--primary-text)":(oe*299+re*587+ve*114)/1e3>128?"#000000":"#ffffff"},$=X=>{z.tagManager==="prompt"&&window.postMessage({type:"weilin_prompt_ui_insertTag",tagText:X.text},"*")},D=ref(!1),j=ref(""),J=ref(null),P=computed(()=>{if(!J.value)return"";switch(j.value){case"category":return n("tagManager.deletePrimaryCategoryConfirm",{name:J.value.name});case"group":return n("tagManager.deleteGroupConfirm",{name:J.value.name});case"tag":return n("tagManager.deleteTagConfirm",{name:J.value.text});case"deleteSelected":return n("tagManager.confirmDeleteSelected");default:return""}}),k=X=>{j.value="category",J.value=X,D.value=!0},Y=X=>{j.value="group",J.value=X,D.value=!0},de=X=>{j.value="tag",J.value=X,D.value=!0},me=async()=>{try{switch(j.value){case"category":tagsApi.deletePrimaryCategory({p_uuid:J.value.p_uuid}).then(X=>{le(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})});break;case"group":tagsApi.deleteSubCategory({g_uuid:J.value.g_uuid}).then(X=>{le(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})});break;case"tag":tagsApi.deleteTags({id_index:J.value.id_index}).then(X=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})});break;case"deleteSelected":tagsApi.batchDeleteTags({id_indexs:f.value}).then(X=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(X=>{message$1({type:"warn",str:"message.networkError"})});break}at()}catch(X){console.error("删除失败:",X)}},$e=X=>{const oe=`INSERT OR REPLACE INTO "tag_groups" ("name", "color", "create_time", "p_uuid") VALUES ('${X.name.replace(/'/g,"''")}', '${X.color}', ${X.create_time}, '${X.p_uuid}');`,re=[];X.groups.forEach(Ce=>{const Le=`INSERT OR REPLACE INTO "tag_subgroups" ("name", "color", "create_time", "p_uuid", "g_uuid") VALUES ('${Ce.name.replace(/'/g,"''")}', '${Ce.color}', ${Ce.create_time}, '${Ce.p_uuid}', '${Ce.g_uuid}');`;re.push(Le),Ce.tags.forEach(Fe=>{const et=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${Fe.text.replace(/'/g,"''")}', '${Fe.desc.replace(/'/g,"''")}', '${Fe.color}', ${Fe.create_time}, '${Fe.g_uuid}', '${uuidv7()}');`;re.push(et)})});const ve=[oe,...re].join(`
`),ke=new Blob([ve],{type:"text/sql"}),Ne=document.createElement("a");Ne.href=URL.createObjectURL(ke),Ne.download=`${X.name}_export_${Date.now()}.sql`,Ne.click(),message$1({type:"success",str:"tagManager.outputSuccess"})},Ve=X=>{B.value=X.id_index,N.value=!0},Re=async()=>{try{tagsApi.moveTag({id_index:B.value,reference_id_index:x.value,position:C.value}).then(X=>{le(),N.value=!1,message$1({type:"success",str:n("message.moveSuccess")})}).catch(X=>{message$1({type:"error",str:n("message.moveFailed")})})}catch(X){console.error("移动标签失败:",X),message$1({type:"error",str:n("message.moveFailed")})}},ze=computed(()=>o.value.tags.filter(X=>X.id_index!==B.value)),De=()=>{m.value=!0,L.value=!0},Ke=()=>{m.value=!1,L.value=!1,f.value=[]},Qe=()=>{f.value.length!==0&&(j.value="deleteSelected",J.value={},D.value=!0)},Ue=()=>{m.value=!0,F.value=!0},Pe=()=>{m.value=!1,F.value=!1,f.value=[]},rt=()=>{if(f.value.length===0){message$1({type:"warn",str:"tagManager.noTagsSelected"});return}const X=o.value.tags.filter(ke=>f.value.includes(ke.id_index)),oe={};X.forEach(ke=>{oe[ke.text]=ke.desc});const re=new Blob([jsYaml.dump(oe)],{type:"text/yaml"}),ve=document.createElement("a");ve.href=URL.createObjectURL(re),ve.download=`selected_tags_export_${Date.now()}.yaml`,ve.click(),message$1({type:"success",str:"tagManager.outputSuccess"}),Pe()},at=()=>{D.value=!1,j.value="",J.value=null},Xe=async()=>{try{await le()}catch(X){console.error("刷新标签列表失败:",X)}},Ze=ref(),ot=ref({}),Ge=()=>{if(Ze.value){const X=Ze.value.getBoundingClientRect();ot.value={position:"fixed",top:`${X.bottom}px`,left:`${X.left}px`,width:`${X.width}px`,zIndex:1e3}}},it=X=>{X.data.type==="weilin_prompt_ui_window_change_tagManager_position"||X.data.type==="weilin_prompt_ui_window_change_tagManager_size"||X.data.type==="weilin_prompt_ui_window_change_tagManager_scroll"||X.data.type==="weilin_prompt_ui_window_change_promptBox_position"||X.data.type==="weilin_prompt_ui_window_change_promptBox_size"||X.data.type==="weilin_prompt_ui_window_change_promptBox_scroll"?Ge():X.data.type==="weilin_prompt_ui_window_change_click_outside"||X.data.type==="weilin_prompt_ui_tag_manager_refresh"&&Se()},lt=X=>{U.value&&!Ze.value.contains(X.target)&&(U.value=!1)},ct=X=>{X.key==="Escape"&&(U.value=!1)},pt=X=>{b.value==1&&(_.value="TabID-"+X)},ut=X=>{_.value="None"},dt=X=>{v.value==1&&(g.value="TabID-"+X)},ft=X=>{g.value="None"},st=ref(),Je=()=>{st.value.open()};return(X,oe)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("div",_hoisted_3$a,[createBaseVNode("button",{class:"refresh-btn",onClick:Xe},oe[24]||(oe[24]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),createBaseVNode("div",_hoisted_4$a,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":oe[0]||(oe[0]=re=>E.value=re),placeholder:unref(n)("tagManager.searchPlaceholder"),class:"search-input",ref_key:"searchInput",ref:Ze,onInput:oe[1]||(oe[1]=re=>U.value=E.value.trim().length>0)},null,40,_hoisted_5$9),[[vModelText,E.value]]),U.value?(openBlock(),createElementBlock("div",{key:0,class:"search-results",style:normalizeStyle(ot.value)},[I.value.length===0?(openBlock(),createElementBlock("div",_hoisted_6$9,toDisplayString$1(unref(n)("tagManager.noResults")),1)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(I.value,re=>(openBlock(),createElementBlock("div",{key:`${re.type}-${re.item.name||re.item.text}`,class:"search-result-item",onClick:ve=>Z(re)},[createBaseVNode("div",_hoisted_8$9,[createBaseVNode("span",_hoisted_9$9,toDisplayString$1(re.item.name||re.item.text),1),createBaseVNode("span",_hoisted_10$8,toDisplayString$1(re.path.join(" > ")),1)])],8,_hoisted_7$9))),128))],4)):createCommentVNode("",!0)]),createBaseVNode("button",{class:"import-btn",onClick:Je},toDisplayString$1(unref(n)("tagManager.importTags")),1)]),createBaseVNode("div",_hoisted_11$8,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":oe[2]||(oe[2]=re=>S.value=re),"true-value":1,"false-value":0},null,512),[[vModelCheckbox,S.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.autoAddSearchTag")),1)])])]),createBaseVNode("div",_hoisted_12$8,[createBaseVNode("div",_hoisted_13$6,[createBaseVNode("div",_hoisted_14$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(re,ve)=>{var ke,Ne,Ce;return openBlock(),createElementBlock("div",{key:"Tabss-"+ve,class:normalizeClass(["tab-item",{active:((ke=a.value)==null?void 0:ke.name)===re.name}]),style:normalizeStyle({backgroundColor:((Ne=a.value)==null?void 0:Ne.name)===re.name?"var(--primary-color)":re.color,color:((Ce=a.value)==null?void 0:Ce.name)===re.name?"#ffffff":w(re.color)}),onClick:Le=>ue(re),onMouseenter:Le=>pt(ve),onMouseleave:Le=>ut()},[createBaseVNode("span",_hoisted_16$6,toDisplayString$1(re.name),1),_.value=="TabID-"+ve?(openBlock(),createElementBlock("div",_hoisted_17$6,[createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(Le=>be(re),["stop"]),title:unref(n)("tagManager.edit")},oe[25]||(oe[25]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_18$5),createBaseVNode("button",{class:"action-btn share",onClick:withModifiers(Le=>$e(re),["stop"]),title:unref(n)("tagManager.share")},oe[26]||(oe[26]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})],-1)]),8,_hoisted_19$3),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(Le=>k(re),["stop"]),title:unref(n)("tagManager.delete")},oe[27]||(oe[27]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_20$3)])):createCommentVNode("",!0)],46,_hoisted_15$6)}),128)),createBaseVNode("button",{class:"add-tab",onClick:oe[3]||(oe[3]=re=>ye("primary"))},[oe[28]||(oe[28]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addPrimaryCategory")),1)]),createBaseVNode("div",_hoisted_21$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":oe[4]||(oe[4]=re=>b.value=re),"true-value":1,"false-value":0},null,512),[[vModelCheckbox,b.value]]),createTextVNode(" "+toDisplayString$1(b.value==1?unref(n)("tagManager.exitEditMode"):unref(n)("tagManager.editGroupMode")),1)])])])]),a.value?(openBlock(),createElementBlock("div",_hoisted_22$3,[createBaseVNode("div",_hoisted_23$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value.groups,(re,ve)=>{var ke,Ne,Ce;return openBlock(),createElementBlock("div",{key:"TabsSw-"+ve,class:normalizeClass(["tab-item",{active:((ke=o.value)==null?void 0:ke.name)===re.name}]),style:normalizeStyle({backgroundColor:((Ne=o.value)==null?void 0:Ne.name)===re.name?"var(--primary-color)":re.color,color:((Ce=o.value)==null?void 0:Ce.name)===re.name?"#ffffff":w(re.color)}),onClick:Le=>ce(re),onMouseenter:Le=>dt(ve),onMouseleave:Le=>ft()},[createBaseVNode("span",_hoisted_25$3,toDisplayString$1(re.name),1),g.value=="TabID-"+ve?(openBlock(),createElementBlock("div",_hoisted_26$3,[createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(Le=>Ee(re),["stop"]),title:unref(n)("tagManager.edit")},oe[29]||(oe[29]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_27$3),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(Le=>Y(re),["stop"]),title:unref(n)("tagManager.delete")},oe[30]||(oe[30]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_28$3)])):createCommentVNode("",!0)],46,_hoisted_24$3)}),128)),a.value?(openBlock(),createElementBlock("button",{key:0,class:"add-tab",onClick:oe[5]||(oe[5]=re=>ye("group"))},[oe[31]||(oe[31]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addGroup")),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_29$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":oe[6]||(oe[6]=re=>v.value=re),"true-value":1,"false-value":0},null,512),[[vModelCheckbox,v.value]]),createTextVNode(" "+toDisplayString$1(v.value==1?unref(n)("tagManager.exitEditMode"):unref(n)("tagManager.editGroupMode")),1)])])])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_30$3,[createBaseVNode("div",_hoisted_31$3,[createBaseVNode("div",_hoisted_32$3,toDisplayString$1(o.value?o.value.name:unref(n)("tagManager.selectCategory")),1),createBaseVNode("div",_hoisted_33$3,[createBaseVNode("button",{class:"add-btn",onClick:M,disabled:!o.value},[oe[32]||(oe[32]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addTag")),1)],8,_hoisted_34$3),F.value?(openBlock(),createElementBlock("button",{key:0,class:"share-selected-btn",onClick:rt,disabled:!f.value.length},toDisplayString$1(unref(n)("tagManager.shareSelected")),9,_hoisted_35$3)):(openBlock(),createElementBlock("button",{key:1,class:"share-btn",onClick:Ue,disabled:!o.value},toDisplayString$1(unref(n)("tagManager.batchShare")),9,_hoisted_36$3)),F.value?(openBlock(),createElementBlock("button",{key:2,class:"cancel-delete-btn",onClick:Pe},toDisplayString$1(unref(n)("tagManager.cancelShare")),1)):createCommentVNode("",!0),L.value?(openBlock(),createElementBlock("button",{key:3,class:"delete-btn",onClick:Qe,disabled:!f.value.length},toDisplayString$1(unref(n)("tagManager.deleteSelected")),9,_hoisted_37$3)):(openBlock(),createElementBlock("button",{key:4,class:"delete-action-btn",onClick:De,disabled:!o.value},toDisplayString$1(unref(n)("tagManager.hasDeleteAction")),9,_hoisted_38$3)),L.value?(openBlock(),createElementBlock("button",{key:5,class:"cancel-delete-btn",onClick:Ke},toDisplayString$1(unref(n)("tagManager.cancelDelete")),1)):createCommentVNode("",!0)])]),o.value?(openBlock(),createElementBlock("div",_hoisted_39$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.value,re=>(openBlock(),createElementBlock("div",{key:"tag-grid-"+re.id_index,class:normalizeClass(y.value===re.id_index?"tag-wrapper highlight":"tag-wrapper")},[createBaseVNode("div",{class:"tag-content",onClick:ve=>$(re)},[createBaseVNode("div",{class:"tag-main",style:normalizeStyle({backgroundColor:re.color||"transparent"})},[createTextVNode(toDisplayString$1(re.desc)+" ",1),createBaseVNode("div",_hoisted_41$3,[createBaseVNode("button",{class:"action-btn move",onClick:withModifiers(ve=>Ve(re),["stop"]),title:unref(n)("tagManager.moveTag")},oe[33]||(oe[33]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"move-icon"},[createBaseVNode("path",{d:"M13 6v3h8V6h-8zm0 5v3h8v-3h-8zm-8 5v3h8v-3H5zm0-5v3h8v-3H5zm0-5v3h8V6H5z"})],-1)]),8,_hoisted_42$3),createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(ve=>G(re),["stop"]),title:unref(n)("tagManager.editTag")},oe[34]||(oe[34]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"edit-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_43$3),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(ve=>de(re),["stop"]),title:unref(n)("tagManager.deleteTag")},oe[35]||(oe[35]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"delete-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_44$3)])],4),createBaseVNode("div",_hoisted_45$3,toDisplayString$1(re.text),1)],8,_hoisted_40$3),m.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":oe[7]||(oe[7]=ve=>f.value=ve),value:re.id_index,class:"tag-checkbox"},null,8,_hoisted_46$3)),[[vModelCheckbox,f.value]]):createCommentVNode("",!0)],2))),128))])):createCommentVNode("",!0)]),s.value?(openBlock(),createElementBlock("div",_hoisted_47$2,[createBaseVNode("div",{class:"dialog-content",onMousedown:oe[12]||(oe[12]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_48$2,[createBaseVNode("h2",null,toDisplayString$1(R()),1),createBaseVNode("button",{class:"close-btn",onClick:A},"×")]),createBaseVNode("div",_hoisted_49$2,[d.value=="primary"?(openBlock(),createElementBlock("div",_hoisted_50$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.categoryName")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":oe[8]||(oe[8]=re=>ee.value.name=re),placeholder:unref(n)("tagManager.categoryNamePlaceholder"),onKeyup:withKeys(H,["enter"])},null,40,_hoisted_51$2),[[vModelText,ee.value.name]])])):createCommentVNode("",!0),d.value=="group"?(openBlock(),createElementBlock("div",_hoisted_52$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.groupName")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":oe[9]||(oe[9]=re=>W.value.name=re),placeholder:unref(n)("tagManager.groupNamePlaceholder"),onKeyup:withKeys(H,["enter"])},null,40,_hoisted_53$2),[[vModelText,W.value.name]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_54$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.backgroundColor")),1),createBaseVNode("div",_hoisted_55$2,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:ie.value})},null,4),createBaseVNode("div",_hoisted_56$2,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":oe[10]||(oe[10]=re=>ae.value.hex=re),onInput:he,class:"color-input"},null,544),[[vModelText,ae.value.hex]]),createBaseVNode("div",_hoisted_57$2,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":oe[11]||(oe[11]=re=>ae.value.alpha=re),min:"0",max:"100",onInput:he,class:"alpha-slider"},null,544),[[vModelText,ae.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_58$2,toDisplayString$1(ae.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_59$2,[createBaseVNode("button",{class:"cancel-btn",onClick:A},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:H},toDisplayString$1(unref(n)("common.confirm")),1)])],32)])):createCommentVNode("",!0),l.value?(openBlock(),createElementBlock("div",_hoisted_60$2,[createBaseVNode("div",{class:"dialog-content",onMousedown:oe[17]||(oe[17]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_61$1,[createBaseVNode("h2",null,toDisplayString$1(u.value?unref(n)("tagManager.editTag"):unref(n)("tagManager.addTag")),1),createBaseVNode("button",{class:"close-btn",onClick:ge},"×")]),createBaseVNode("div",_hoisted_62$1,[createBaseVNode("div",_hoisted_63$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.text")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":oe[13]||(oe[13]=re=>O.value.desc=re),placeholder:unref(n)("tagManager.textPlaceholder")},null,8,_hoisted_64$1),[[vModelText,O.value.desc]])]),createBaseVNode("div",_hoisted_65$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.description")),1),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":oe[14]||(oe[14]=re=>O.value.text=re),placeholder:unref(n)("tagManager.descriptionPlaceholder"),rows:"4"},"            ",8,_hoisted_66$1),[[vModelText,O.value.text]])]),createBaseVNode("div",_hoisted_67$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.backgroundColor")),1),createBaseVNode("div",_hoisted_68$1,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:ie.value})},null,4),createBaseVNode("div",_hoisted_69$1,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":oe[15]||(oe[15]=re=>ae.value.hex=re),onInput:he,class:"color-input"},null,544),[[vModelText,ae.value.hex]]),createBaseVNode("div",_hoisted_70$1,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":oe[16]||(oe[16]=re=>ae.value.alpha=re),min:"0",max:"100",onInput:he,class:"alpha-slider"},null,544),[[vModelText,ae.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_71$1,toDisplayString$1(ae.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_72$1,[createBaseVNode("button",{class:"cancel-btn",onClick:ge},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:te},toDisplayString$1(unref(n)("common.confirm")),1)])],32)])):createCommentVNode("",!0),D.value?(openBlock(),createElementBlock("div",_hoisted_73$1,[createBaseVNode("div",{class:"dialog-content confirm-dialog",onMousedown:oe[18]||(oe[18]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_74$1,[createBaseVNode("h2",null,toDisplayString$1(unref(n)("common.confirmDelete")),1),createBaseVNode("button",{class:"close-btn",onClick:at},"×")]),createBaseVNode("div",_hoisted_75$1,[createBaseVNode("p",_hoisted_76$1,toDisplayString$1(P.value),1)]),createBaseVNode("div",_hoisted_77$1,[createBaseVNode("button",{class:"cancel-btn",onClick:at},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"delete-btn",onClick:me},toDisplayString$1(unref(n)("common.delete")),1)])],32)])):createCommentVNode("",!0),N.value?(openBlock(),createElementBlock("div",_hoisted_78$1,[createBaseVNode("div",_hoisted_79$1,[createBaseVNode("div",_hoisted_80$1,[createBaseVNode("h2",null,toDisplayString$1(unref(n)("tagManager.moveTag")),1),createBaseVNode("button",{class:"close-btn",onClick:oe[19]||(oe[19]=re=>N.value=!1)},"×")]),createBaseVNode("div",_hoisted_81$1,[createBaseVNode("div",_hoisted_82$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.targetTag")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":oe[20]||(oe[20]=re=>x.value=re),class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ze.value,re=>(openBlock(),createElementBlock("option",{key:re.id_index,value:re.id_index},toDisplayString$1(re.desc+" --> "+re.text),9,_hoisted_83$1))),128))],512),[[vModelSelect,x.value]])]),createBaseVNode("div",_hoisted_84$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.movePosition")),1),createBaseVNode("div",_hoisted_85,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{class:"radio-input",type:"radio","onUpdate:modelValue":oe[21]||(oe[21]=re=>C.value=re),value:"before"},null,512),[[vModelRadio,C.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.moveBefore")),1)]),createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{class:"radio-input",type:"radio","onUpdate:modelValue":oe[22]||(oe[22]=re=>C.value=re),value:"after"},null,512),[[vModelRadio,C.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.moveAfter")),1)])])])]),createBaseVNode("div",_hoisted_86,[createBaseVNode("button",{class:"cancel-btn",onClick:oe[23]||(oe[23]=re=>N.value=!1)},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:Re},toDisplayString$1(unref(n)("common.confirm")),1)])])])):createCommentVNode("",!0),createVNode(ImportTagDialog,{ref_key:"importTagDialogItem",ref:st},null,512)]))}},TagManager=_export_sfc(_sfc_main$d,[["__scopeId","data-v-6d64be17"]]),baseZIndex=100,activeWindow=ref(""),windowZIndexes=ref({}),windowManager={setActiveWindow(e){activeWindow.value!==e&&(activeWindow.value=e,Object.keys(windowZIndexes.value).forEach(t=>{windowZIndexes.value[t]=baseZIndex}),windowZIndexes.value[e]=baseZIndex+10)},getZIndex(e){return windowZIndexes.value[e]||(windowZIndexes.value[e]=baseZIndex),windowZIndexes.value[e]},registerWindow(e){windowZIndexes.value[e]||(windowZIndexes.value[e]=baseZIndex)},unregisterWindow(e){delete windowZIndexes.value[e]}},loraApi={getLoraList:async e=>await request({url:"/get_lora_list",method:"get",params:e}),getAllLoraList:async e=>await request({url:"/get_lora_load_all",method:"get",params:e}),getAllLoraStatus:async e=>await request({url:"/get_lora_load_status",method:"get",params:e}),getLoraDetail:async e=>await request({url:"/lorainfo/api/loras/info",method:"get",params:e}),getLoraRefresh:async e=>await request({url:"/lorainfo/api/loras/info/refresh",method:"get",params:e}),postUplaodImg:async(e,t,n)=>{const r=new FormData;return r.append("image",e),r.append("path",t),r.append("fileName",n),await request({url:"/lorainfo/api/loras/set/img",method:"post",data:r,headers:{"Content-Type":"multipart/form-data"}})},postLoraSave:async(e,t)=>{const n=new FormData;return n.append("json",JSON.stringify(t)),await request({url:"/lorainfo/api/loras/info?file="+e,method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}})},getLoraFolderList:async()=>await request({url:"/get_lora_folder_list",method:"post"}),getLoraRangeList:async e=>await request({url:"/get_lora_list_by_range",method:"post",data:{range:e}}),searchLoraGetFolderList:async e=>await request({url:"/get_lora_list_by_search",method:"post",data:{search:e}})};function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var REG_LINK$1=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,script$a={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,n=REG_LINK$1.test(t),r;return this.expand?(r={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},n?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),r.innerHTML='"'.concat(t.toString(),'"')):r.innerText='"'.concat(t.toString(),'"')):r={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},h("span",{},[this.canExtend&&h("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),h("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),h("span",r)])}};script$a.__file="src/Components/types/json-string.vue";var script$9={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(){return h("span",{class:{"jv-item":!0,"jv-undefined":!0},innerText:this.jsonValue===null?"null":"undefined"})}};script$9.__file="src/Components/types/json-undefined.vue";var script$8={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(){var t=Number.isInteger(this.jsonValue);return h("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":t,"jv-number-float":!t},innerText:this.jsonValue.toString()})}};script$8.__file="src/Components/types/json-number.vue";var script$7={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(){return h("span",{class:{"jv-item":!0,"jv-boolean":!0},innerText:this.jsonValue.toString()})}};script$7.__file="src/Components/types/json-boolean.vue";var script$6={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},data:function(){return{value:{}}},computed:{ordered:function(){var t=this;if(!this.sort)return this.value;var n={};return Object.keys(this.value).sort().forEach(function(r){n[r]=t.value[r]}),n}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var n=this;setTimeout(function(){n.value=t},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=[];if(!this.previewMode&&!this.keyName&&t.push(h("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),t.push(h("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"{"})),this.expand){for(var n in this.ordered)if(this.ordered.hasOwnProperty(n)){var r=this.ordered[n];t.push(h(script$1,{key:n,style:{display:this.expand?void 0:"none"},sort:this.sort,keyName:n,depth:this.depth+1,value:r,previewMode:this.previewMode}))}}return!this.expand&&Object.keys(this.value).length&&t.push(h("span",{style:{display:this.expand?"none":void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal object content (keys: ".concat(Object.keys(this.ordered).join(", "),")"),innerText:"..."})),t.push(h("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"}"})),h("span",t)}};script$6.__file="src/Components/types/json-object.vue";var script$5={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},data:function(){return{value:[]}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;r===0&&(this.value=[]),setTimeout(function(){t.length>r&&(n.value.push(t[r]),n.setValue(t,r+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand);try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,n=[];return!this.previewMode&&!this.keyName&&n.push(h("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),n.push(h("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"["})),this.expand&&this.value.forEach(function(r,a){n.push(h(script$1,{key:a,style:{display:t.expand?void 0:"none"},sort:t.sort,depth:t.depth+1,value:r,previewMode:t.previewMode}))}),!this.expand&&this.value.length&&n.push(h("span",{style:{display:void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal ".concat(this.value.length," hidden items"),innerText:"..."})),n.push(h("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"]"})),h("span",n)}};script$5.__file="src/Components/types/json-array.vue";var script$4={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(){return h("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:this.jsonValue.toString()},innerHTML:"&lt;function&gt;"})}};script$4.__file="src/Components/types/json-function.vue";var script$3={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(){var t=this.jsonValue,n=this.timeformat;return h("span",{class:{"jv-item":!0,"jv-string":!0},innerText:'"'.concat(n(t),'"')})}};script$3.__file="src/Components/types/json-date.vue";var REG_LINK=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,script$2={name:"JsonString",props:{jsonValue:{type:RegExp,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,n=REG_LINK.test(t),r;return this.expand?(r={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},n?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),r.innerHTML="".concat(t.toString())):r.innerText="".concat(t.toString())):r={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},h("span",{},[this.canExtend&&h("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),h("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),h("span",r)])}};script$2.__file="src/Components/types/json-regexp.vue";var script$1={name:"JsonBox",inject:["expandDepth","keyClick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean},data:function(){return{expand:!0}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)},methods:{toggle:function(){this.expand=!this.expand;try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,n=[],r;this.value===null||this.value===void 0?r=script$9:Array.isArray(this.value)?r=script$5:Object.prototype.toString.call(this.value)==="[object Date]"?r=script$3:_typeof(this.value)==="object"?r=script$6:typeof this.value=="number"?r=script$8:typeof this.value=="string"?r=script$a:typeof this.value=="boolean"?r=script$7:typeof this.value=="function"&&(r=script$4),this.value.constructor===RegExp&&(r=script$2);var a=this.keyName&&this.value&&(Array.isArray(this.value)||_typeof(this.value)==="object"&&Object.prototype.toString.call(this.value)!=="[object Date]");return!this.previewMode&&a&&n.push(h("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),this.keyName&&n.push(h("span",{class:{"jv-key":!0},onClick:function(){t.keyClick(t.keyName)},innerText:"".concat(this.keyName,":")})),n.push(h(r,{class:{"jv-push":!0},jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,"onUpdate:expand":function(s){t.expand=s}})),h("div",{class:{"jv-node":!0,"jv-key-node":!!this.keyName&&!a,toggle:!this.previewMode&&a}},n)}};script$1.__file="src/Components/json-box.vue";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var clipboard$2={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(commonjsGlobal,function(){return function(){var n={686:function(o,s,l){l.d(s,{default:function(){return Ee}});var c=l(279),u=l.n(c),d=l(370),f=l.n(d),m=l(817),_=l.n(m);function g(H){try{return document.execCommand(H)}catch{return!1}}var v=function(R){var A=_()(R);return g("cut"),A},b=v;function y(H){var R=document.documentElement.getAttribute("dir")==="rtl",A=document.createElement("textarea");A.style.fontSize="12pt",A.style.border="0",A.style.padding="0",A.style.margin="0",A.style.position="absolute",A.style[R?"right":"left"]="-9999px";var M=window.pageYOffset||document.documentElement.scrollTop;return A.style.top="".concat(M,"px"),A.setAttribute("readonly",""),A.value=H,A}var S=function(R,A){var M=y(R);A.container.appendChild(M);var G=_()(M);return g("copy"),M.remove(),G},N=function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},M="";return typeof R=="string"?M=S(R,A):R instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(R==null?void 0:R.type)?M=S(R.value,A):(M=_()(R),g("copy")),M},x=N;function C(H){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(A){return typeof A}:C=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},C(H)}var B=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=R.action,M=A===void 0?"copy":A,G=R.container,te=R.target,ge=R.text;if(M!=="copy"&&M!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(te!==void 0)if(te&&C(te)==="object"&&te.nodeType===1){if(M==="copy"&&te.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(M==="cut"&&(te.hasAttribute("readonly")||te.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ge)return x(ge,{container:G});if(te)return M==="cut"?b(te):x(te,{container:G})},L=B;function F(H){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function(A){return typeof A}:F=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},F(H)}function z(H,R){if(!(H instanceof R))throw new TypeError("Cannot call a class as a function")}function ee(H,R){for(var A=0;A<R.length;A++){var M=R[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(H,M.key,M)}}function W(H,R,A){return R&&ee(H.prototype,R),A&&ee(H,A),H}function O(H,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(R&&R.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),R&&ne(H,R)}function ne(H,R){return ne=Object.setPrototypeOf||function(M,G){return M.__proto__=G,M},ne(H,R)}function le(H){var R=ue();return function(){var M=ce(H),G;if(R){var te=ce(this).constructor;G=Reflect.construct(M,arguments,te)}else G=M.apply(this,arguments);return Se(this,G)}}function Se(H,R){return R&&(F(R)==="object"||typeof R=="function")?R:_e(H)}function _e(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ce(H){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},ce(H)}function ye(H,R){var A="data-clipboard-".concat(H);if(R.hasAttribute(A))return R.getAttribute(A)}var be=function(H){O(A,H);var R=le(A);function A(M,G){var te;return z(this,A),te=R.call(this),te.resolveOptions(G),te.listenClick(M),te}return W(A,[{key:"resolveOptions",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof G.action=="function"?G.action:this.defaultAction,this.target=typeof G.target=="function"?G.target:this.defaultTarget,this.text=typeof G.text=="function"?G.text:this.defaultText,this.container=F(G.container)==="object"?G.container:document.body}},{key:"listenClick",value:function(G){var te=this;this.listener=f()(G,"click",function(ge){return te.onClick(ge)})}},{key:"onClick",value:function(G){var te=G.delegateTarget||G.currentTarget,ge=this.action(te)||"copy",ae=L({action:ge,container:this.container,target:this.target(te),text:this.text(te)});this.emit(ae?"success":"error",{action:ge,text:ae,trigger:te,clearSelection:function(){te&&te.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(G){return ye("action",G)}},{key:"defaultTarget",value:function(G){var te=ye("target",G);if(te)return document.querySelector(te)}},{key:"defaultText",value:function(G){return ye("text",G)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(G){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return x(G,te)}},{key:"cut",value:function(G){return b(G)}},{key:"isSupported",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],te=typeof G=="string"?[G]:G,ge=!!document.queryCommandSupported;return te.forEach(function(ae){ge=ge&&!!document.queryCommandSupported(ae)}),ge}}]),A}(u()),Ee=be},828:function(o){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var l=Element.prototype;l.matches=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector}function c(u,d){for(;u&&u.nodeType!==s;){if(typeof u.matches=="function"&&u.matches(d))return u;u=u.parentNode}}o.exports=c},438:function(o,s,l){var c=l(828);function u(m,_,g,v,b){var y=f.apply(this,arguments);return m.addEventListener(g,y,b),{destroy:function(){m.removeEventListener(g,y,b)}}}function d(m,_,g,v,b){return typeof m.addEventListener=="function"?u.apply(null,arguments):typeof g=="function"?u.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(y){return u(y,_,g,v,b)}))}function f(m,_,g,v){return function(b){b.delegateTarget=c(b.target,_),b.delegateTarget&&v.call(m,b)}}o.exports=d},879:function(o,s){s.node=function(l){return l!==void 0&&l instanceof HTMLElement&&l.nodeType===1},s.nodeList=function(l){var c=Object.prototype.toString.call(l);return l!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in l&&(l.length===0||s.node(l[0]))},s.string=function(l){return typeof l=="string"||l instanceof String},s.fn=function(l){var c=Object.prototype.toString.call(l);return c==="[object Function]"}},370:function(o,s,l){var c=l(879),u=l(438);function d(g,v,b){if(!g&&!v&&!b)throw new Error("Missing required arguments");if(!c.string(v))throw new TypeError("Second argument must be a String");if(!c.fn(b))throw new TypeError("Third argument must be a Function");if(c.node(g))return f(g,v,b);if(c.nodeList(g))return m(g,v,b);if(c.string(g))return _(g,v,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(g,v,b){return g.addEventListener(v,b),{destroy:function(){g.removeEventListener(v,b)}}}function m(g,v,b){return Array.prototype.forEach.call(g,function(y){y.addEventListener(v,b)}),{destroy:function(){Array.prototype.forEach.call(g,function(y){y.removeEventListener(v,b)})}}}function _(g,v,b){return u(document.body,g,v,b)}o.exports=d},817:function(o){function s(l){var c;if(l.nodeName==="SELECT")l.focus(),c=l.value;else if(l.nodeName==="INPUT"||l.nodeName==="TEXTAREA"){var u=l.hasAttribute("readonly");u||l.setAttribute("readonly",""),l.select(),l.setSelectionRange(0,l.value.length),u||l.removeAttribute("readonly"),c=l.value}else{l.hasAttribute("contenteditable")&&l.focus();var d=window.getSelection(),f=document.createRange();f.selectNodeContents(l),d.removeAllRanges(),d.addRange(f),c=d.toString()}return c}o.exports=s},279:function(o){function s(){}s.prototype={on:function(l,c,u){var d=this.e||(this.e={});return(d[l]||(d[l]=[])).push({fn:c,ctx:u}),this},once:function(l,c,u){var d=this;function f(){d.off(l,f),c.apply(u,arguments)}return f._=c,this.on(l,f,u)},emit:function(l){var c=[].slice.call(arguments,1),u=((this.e||(this.e={}))[l]||[]).slice(),d=0,f=u.length;for(d;d<f;d++)u[d].fn.apply(u[d].ctx,c);return this},off:function(l,c){var u=this.e||(this.e={}),d=u[l],f=[];if(d&&c)for(var m=0,_=d.length;m<_;m++)d[m].fn!==c&&d[m].fn._!==c&&f.push(d[m]);return f.length?u[l]=f:delete u[l],this}},o.exports=s,o.exports.TinyEmitter=s}},r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={exports:{}};return n[o](s,s.exports,a),s.exports}return function(){a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,{a:s}),s}}(),function(){a.d=function(o,s){for(var l in s)a.o(s,l)&&!a.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})}}(),function(){a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),a(686)}().default})})(clipboard$2);var Clipboard$1=getDefaultExportFromCjs$1(clipboard$2.exports),debounce=function(t,n){var r=Date.now(),a;return function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Date.now()-r<n&&a&&clearTimeout(a),a=setTimeout(function(){t.apply(void 0,s)},n),r=Date.now()}},script={name:"JsonViewer",components:{JsonBox:script$1},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:function(t){return t.toLocaleString()}},previewMode:{type:Boolean,default:!1},parse:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,keyClick:this.keyClick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},emits:["onKeyClick"],computed:{jvClass:function(){return"jv-container jv-"+this.theme+(this.boxed?" boxed":"")},copyText:function(){var t=this.copyable,n=t.copyText,r=t.copiedText,a=t.timeout,o=t.align;return{copyText:n||"copy",copiedText:r||"copied!",timeout:a||2e3,align:o}},parseValue:function(){if(!this.parse||typeof this.value!="string")return this.value;try{return JSON.parse(this.value)}catch{return this.value}}},watch:{value:function(){this.onResized()}},mounted:function(){var t=this;if(this.debounceResized=debounce(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable){var n=new Clipboard$1(this.$refs.clip,{text:function(){return JSON.stringify(t.value,null,2)}});n.on("success",function(r){t.onCopied(r)})}},methods:{onResized:function(){this.debounceResized()},debResized:function(){var t=this;this.$nextTick(function(){t.$refs.jsonBox&&(t.$refs.jsonBox.$el.clientHeight>=250?t.expandableCode=!0:t.expandableCode=!1)})},keyClick:function(t){this.$emit("onKeyClick",t)},onCopied:function(t){var n=this;this.copied||(this.copied=!0,setTimeout(function(){n.copied=!1},this.copyText.timeout),this.$emit("copied",t))},toggleExpandCode:function(){this.expandCode=!this.expandCode}}};function render(e,t,n,r,a,o){var s=resolveComponent("json-box");return openBlock(),createElementBlock("div",{class:normalizeClass(o.jvClass)},[n.copyable?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass("jv-tooltip ".concat(o.copyText.align||"right"))},[createBaseVNode("span",{ref:"clip",class:normalizeClass(["jv-button",{copied:a.copied}])},[renderSlot(e.$slots,"copy",{copied:a.copied},function(){return[createTextVNode(toDisplayString$1(a.copied?o.copyText.copiedText:o.copyText.copyText),1)]})],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(["jv-code",{open:a.expandCode,boxed:n.boxed}])},[createVNode(s,{ref:"jsonBox",value:o.parseValue,sort:n.sort,"preview-mode":n.previewMode},null,8,["value","sort","preview-mode"])],2),a.expandableCode&&n.boxed?(openBlock(),createElementBlock("div",{key:1,class:"jv-more",onClick:t[0]||(t[0]=function(){return o.toggleExpandCode&&o.toggleExpandCode.apply(o,arguments)})},[createBaseVNode("span",{class:normalizeClass(["jv-toggle",{open:!!a.expandCode}])},null,2)])):createCommentVNode("v-if",!0)],2)}script.render=render,script.__file="src/Components/json-viewer.vue";const _hoisted_1$c={class:"lora-raw__content"},STORAGE_PREFIX$3="weilin_tools_",_sfc_main$c={__name:"lora_raw",emits:["close","update"],setup(e,{expose:t,emit:n}){const{t:r}=useI18n(),a=ref({}),o=ref(!1),s={loraRaw:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},c=ref((()=>{try{const _=localStorage.getItem(`${STORAGE_PREFIX$3}loraRawState`);if(_){const g=JSON.parse(_),v={...s};return g.loraRaw&&(v.loraRaw={...s.loraRaw,...g.loraRaw}),v}}catch(_){console.error("Error loading window states:",_)}return{...s}})());watch(c,_=>{try{localStorage.setItem(`${STORAGE_PREFIX$3}loraRawState`,JSON.stringify(_))}catch(g){console.error("Error saving window states:",g)}},{deep:!0}),onMounted(()=>{windowManager.registerWindow("loraRaw")}),onUnmounted(()=>{windowManager.unregisterWindow("loraRaw")});const u=_=>{o.value=!1},d=(_,g)=>{c.value[_]&&(c.value[_].position={...g})},f=(_,g)=>{c.value[_]&&(c.value[_].size={...g})};return t({open:_=>{o.value=!0,windowManager.setActiveWindow("loraRaw"),a.value=_}}),(_,g)=>o.value?(openBlock(),createBlock(DraggableWindow,{key:0,title:unref(r)("lora.rawTitle"),position:c.value.loraRaw.position,size:c.value.loraRaw.size,"z-index":unref(windowManager).getZIndex("loraRaw"),"onUpdate:position":g[0]||(g[0]=v=>d("loraRaw",v)),"onUpdate:size":g[1]||(g[1]=v=>f("loraRaw",v)),onActive:g[2]||(g[2]=v=>unref(windowManager).setActiveWindow("loraRaw")),onClose:g[3]||(g[3]=v=>u())},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[createVNode(unref(script),{value:a.value,copyable:"",sort:"",theme:"dark"},null,8,["value"])])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0)}},loraRaw=_export_sfc(_sfc_main$c,[["__scopeId","data-v-4c910f08"]]),_hoisted_1$b={class:"lora-detail__content"},_hoisted_2$9={key:0,class:"lora-detail__loading"},_hoisted_3$9={key:1,class:"lora-detail__body"},_hoisted_4$9={class:"lora-detail__tags"},_hoisted_5$8=["title"],_hoisted_6$8=["title"],_hoisted_7$8={class:"lora-detail__table"},_hoisted_8$8={class:"label"},_hoisted_9$8={colspan:"2"},_hoisted_10$7={colspan:"3"},_hoisted_11$7={class:"label"},_hoisted_12$7={colspan:"2",class:"hash"},_hoisted_13$5={class:"label"},_hoisted_14$5={colspan:"2"},_hoisted_15$5=["href"],_hoisted_16$5={key:1,class:"not-found"},_hoisted_17$5=["title"],_hoisted_18$4={class:"label"},_hoisted_19$2=["title"],_hoisted_20$2={key:1,class:"text"},_hoisted_21$2={class:"actions"},_hoisted_22$2={viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_23$2={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},_hoisted_24$2={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},_hoisted_25$2={class:"label"},_hoisted_26$2={colspan:"2"},_hoisted_27$2={class:"label"},_hoisted_28$2={colspan:"2"},_hoisted_29$2={class:"label"},_hoisted_30$2=["title"],_hoisted_31$2=["onUpdate:modelValue","type","onKeyup"],_hoisted_32$2={key:1,class:"text"},_hoisted_33$2={class:"actions"},_hoisted_34$2=["onClick"],_hoisted_35$2={viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_36$2={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},_hoisted_37$2={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},_hoisted_38$2={key:0},_hoisted_39$2={class:"label"},_hoisted_40$2=["title"],_hoisted_41$2={key:0,class:"word-selection"},_hoisted_42$2={colspan:"2"},_hoisted_43$2={class:"word-list"},_hoisted_44$2=["onClick"],_hoisted_45$2={key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},_hoisted_46$2={key:1},_hoisted_47$1={key:0,class:"lora-detail__images"},_hoisted_48$1={class:"image-wrapper"},_hoisted_49$1=["onClick"],_hoisted_50$1=["src"],_hoisted_51$1={class:"image-info"},_hoisted_52$1={key:0,class:"info-item"},_hoisted_53$1=["href"],_hoisted_54$1={key:1,class:"info-item"},_hoisted_55$1={key:2,class:"info-item"},_hoisted_56$1={key:3,class:"info-item"},_hoisted_57$1={key:4,class:"info-item"},_hoisted_58$1={key:5,class:"info-item"},_hoisted_59$1={key:6,class:"info-item"},_hoisted_60$1={key:7,class:"info-item"},STORAGE_PREFIX$2="weilin_tools_",_sfc_main$b={__name:"lora_detail",emits:["close","update"],setup(e,{expose:t,emit:n}){const{t:r}=useI18n(),a=ref(!1),o=ref({}),s=ref(!1),l={loraDetail:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},u=ref((()=>{try{const H=localStorage.getItem(`${STORAGE_PREFIX$2}loraDetailState`);if(H){const R=JSON.parse(H),A={...l};return R.loraDetail&&(A.loraDetail={...l.loraDetail,...R.loraDetail}),A}}catch(H){console.error("Error loading window states:",H)}return{...l}})());watch(u,H=>{try{localStorage.setItem(`${STORAGE_PREFIX$2}loraDetailState`,JSON.stringify(H))}catch(R){console.error("Error saving window states:",R)}},{deep:!0}),onMounted(()=>{windowManager.registerWindow("loraDetail")}),onUnmounted(()=>{windowManager.unregisterWindow("loraDetail")});const d=H=>{s.value=!1},f=(H,R)=>{u.value[H]&&(u.value[H].position={...R})},m=(H,R)=>{u.value[H]&&(u.value[H].size={...R})};t({open:H=>{s.value=!0,windowManager.setActiveWindow("loraDetail"),a.value=!0,o.value=H,nextTick(()=>{C()})}});const g=ref(""),v=ref(),b=H=>{v.value.open(H)},y=ref({}),S=ref({}),N=ref([]),x=[{key:"strengthMin",label:r("lora.strengthMin"),tip:r("lora.strengthMinTip"),type:"number"},{key:"strengthMax",label:r("lora.strengthMax"),tip:r("lora.strengthMaxTip"),type:"number"},{key:"strWeight",label:r("lora.strWeight"),tip:r("lora.strWeightTip"),type:"number"},{key:"loraWorks",label:r("lora.promptWords"),tip:r("lora.promptWordsTip")}],C=()=>{g.value=o.value.name,o.value={},N.value=[],S.value={name:!1,nameValue:"",min:!1,minValue:"",max:!1,maxValue:"",notes:!1,notesValue:"",loraWorks:!1,loraWorksValue:""},loraApi.getLoraDetail({file:g.value,refresh:!1,light:!1}).then(H=>{o.value=H.data,nextTick(function(){var R,A,M,G,te,ge;o.value.name=o.value.name||((A=(R=o.value.raw)===null||R===void 0?void 0:R.metadata)===null||A===void 0?void 0:A.ss_output_name===void 0?A["modelspec.title"]:A.ss_output_name)||"",S.value.nameValue=o.value.name,o.value.strengthMin=(M=o.value.strengthMin)!==null&&M!==void 0?M:"",S.value.minValue=o.value.strengthMin,o.value.strengthMax=(G=o.value.strengthMax)!==null&&G!==void 0?G:"",S.value.maxValue=o.value.strengthMax,o.value.userNote=(te=o.value.userNote)!==null&&te!==void 0?te:"",S.value.notesValue=o.value.userNote,o.value.loraWorks=(ge=o.value.loraWorks)!==null&&ge!==void 0?ge:"",S.value.loraWorksValue=o.value.loraWorks,a.value=!1})}).catch(H=>{message$1({type:"warn",str:"message.networkError"}),a.value=!1})},B=H=>{let A=new URL(H).pathname.split("/").pop();return A=A.split("?")[0],decodeURIComponent(A)},L=async H=>{try{const R=await fetch(H),A=B(H),M=await R.blob();loraApi.postUplaodImg(M,o.value.file,A).then(G=>{message$1({type:"success",str:"message.saveSuccess"})}).catch(G=>{message$1({type:"warn",str:"message.unknownError"})})}catch{message$1({type:"warn",str:"message.unknownError"})}},F=computed(()=>{var H;return(H=o.value.links)==null?void 0:H.find(R=>R.includes("civitai.com/models"))}),z=computed(()=>{var H,R;return((R=(H=o.value.raw)==null?void 0:H.civitai)==null?void 0:R.error)==="Model not found"}),ee=computed(()=>o.value.trainedWords||[]),W=async()=>{a.value=!0,loraApi.getLoraRefresh({file:g.value}).then(H=>{o.value=H.data,nextTick(function(){a.value=!1})}).catch(H=>{message$1({type:"warn",str:"message.networkError"}),a.value=!1})},O=H=>{y.value[H]?le(H):ne(H)},ne=H=>{y.value[H]=!0,S.value[H]=o.value[H],nextTick(()=>{H==="name"&&nameInput.value&&nameInput.value.focus()})},le=H=>{_e({[H]:S.value[H]}),y.value[H]=!1},Se=H=>{y.value[H]=!1,S.value[H]=o.value[H]},_e=H=>{a.value=!0,loraApi.postLoraSave(g.value,H).then(R=>{o.value=R.data,nextTick(function(){var A,M,G,te,ge;o.value.name=o.value.name||((M=(A=o.value.raw)===null||A===void 0?void 0:A.metadata)===null||M===void 0?void 0:M.ss_output_name===void 0?M["modelspec.title"]:M.ss_output_name)||"",S.value.nameValue=o.value.name,o.value.strengthMin=(G=o.value.strengthMin)!==null&&G!==void 0?G:"",S.value.minValue=o.value.strengthMin,o.value.strengthMax=(te=o.value.strengthMax)!==null&&te!==void 0?te:"",S.value.maxValue=o.value.strengthMax,o.value.userNote=(ge=o.value.userNote)!==null&&ge!==void 0?ge:"",S.value.notesValue=o.value.userNote,a.value=!1}),message$1({type:"success",str:"message.saveSuccess"})}).catch(R=>{message$1({type:"warn",str:"message.networkError"}),a.value=!1})},ue=H=>{const R=N.value.indexOf(H);R===-1?N.value.push(H):N.value.splice(R,1)},ce=H=>N.value.includes(H),ye=async()=>{N.value.length&&navigator.clipboard.writeText(N.value).then(H=>{message$1({type:"success",str:"message.copySuccess"})},H=>{message$1({type:"warn",str:"message.copyFailed"})})};ref(!1),ref(!1),computed(()=>a.value?r("common.loading"):r("common.ready"));const be=ref(!0),Ee=()=>{be.value=!be.value};return(H,R)=>(openBlock(),createElementBlock(Fragment,null,[s.value?(openBlock(),createBlock(DraggableWindow,{key:0,title:unref(r)("lora.title"),position:u.value.loraDetail.position,size:u.value.loraDetail.size,"z-index":unref(windowManager).getZIndex("loraDetail"),"onUpdate:position":R[5]||(R[5]=A=>f("loraDetail",A)),"onUpdate:size":R[6]||(R[6]=A=>m("loraDetail",A)),onActive:R[7]||(R[7]=A=>unref(windowManager).setActiveWindow("loraDetail")),onClose:R[8]||(R[8]=A=>d())},{default:withCtx(()=>{var A;return[createBaseVNode("div",_hoisted_1$b,[a.value?(openBlock(),createElementBlock("div",_hoisted_2$9,R[9]||(R[9]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"is-rotating"},[createBaseVNode("path",{d:"M12 4V2C6.48 2 2 6.48 2 12H4C4 7.58 7.58 4 12 4Z"})],-1)]))):(openBlock(),createElementBlock("div",_hoisted_3$9,[R[24]||(R[24]=createBaseVNode("div",{class:"lora-detail__title"},"Lora 信息",-1)),createBaseVNode("ul",_hoisted_4$9,[o.value.type?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass(["lora-detail__tag",`-type-${o.value.type.toLowerCase()}`]),title:unref(r)("lora.type")},toDisplayString$1(o.value.type),11,_hoisted_5$8)):createCommentVNode("",!0),o.value.baseModel?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(["lora-detail__tag",`-basemodel-${o.value.baseModel.toLowerCase()}`]),title:unref(r)("lora.baseModel")},toDisplayString$1(o.value.baseModel),11,_hoisted_6$8)):createCommentVNode("",!0)]),createBaseVNode("table",_hoisted_7$8,[createBaseVNode("tbody",null,[createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_8$8,toDisplayString$1(unref(r)("lora.file")),1),createBaseVNode("td",_hoisted_9$8,toDisplayString$1(o.value.file),1),createBaseVNode("td",_hoisted_10$7,[createBaseVNode("button",{class:"fetch-btn",onClick:R[0]||(R[0]=M=>b(o.value.raw.metadata))},toDisplayString$1(unref(r)("lora.seeLoraRaw")),1)])]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_11$7,toDisplayString$1(unref(r)("lora.hash")),1),createBaseVNode("td",_hoisted_12$7,toDisplayString$1(o.value.sha256),1)]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_13$5,toDisplayString$1(unref(r)("lora.civitai")),1),createBaseVNode("td",_hoisted_14$5,[F.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("a",{href:F.value,target:"_blank",class:"civitai-link"},[R[10]||(R[10]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"})],-1)),createBaseVNode("span",null,toDisplayString$1(unref(r)("lora.viewOnCivitai")),1)],8,_hoisted_15$5),createBaseVNode("button",{class:"refresh-btn",onClick:W},toDisplayString$1(unref(r)("common.refresh")),1)],64)):z.value?(openBlock(),createElementBlock("div",_hoisted_16$5,[createBaseVNode("i",null,toDisplayString$1(unref(r)("lora.modelNotFound")),1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(r)("lora.modelNotFoundTip")},R[11]||(R[11]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_17$5))])):(openBlock(),createElementBlock("button",{key:2,class:"fetch-btn",onClick:W},toDisplayString$1(unref(r)("lora.fetchFromCivitai")),1))])]),createBaseVNode("tr",{class:normalizeClass({"is-editing":y.value.name})},[createBaseVNode("td",_hoisted_18$4,[createTextVNode(toDisplayString$1(unref(r)("lora.name"))+" ",1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(r)("lora.nameTip")},R[12]||(R[12]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_19$2))]),createBaseVNode("td",null,[y.value.name?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":R[1]||(R[1]=M=>S.value.name=M),type:"text",onKeyup:[R[2]||(R[2]=withKeys(M=>le("name"),["enter"])),R[3]||(R[3]=withKeys(M=>Se("name"),["esc"]))],ref:"nameInput"},null,544)),[[vModelText,S.value.name]]):(openBlock(),createElementBlock("span",_hoisted_20$2,toDisplayString$1(o.value.name),1))]),createBaseVNode("td",_hoisted_21$2,[createBaseVNode("button",{class:"edit-btn",onClick:R[4]||(R[4]=M=>O("name"))},[(openBlock(),createElementBlock("svg",_hoisted_22$2,[y.value.name?(openBlock(),createElementBlock("path",_hoisted_23$2)):(openBlock(),createElementBlock("path",_hoisted_24$2))]))])])],2),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_25$2,toDisplayString$1(unref(r)("lora.baseModel")),1),createBaseVNode("td",_hoisted_26$2,toDisplayString$1(!o.value.baseModelFile&&!o.value.baseModelFile?"":(o.value.baseModel||"")+(o.value.baseModelFile?`
                                        (${o.value.baseModelFile})`:"")),1)]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_27$2,toDisplayString$1(unref(r)("lora.skipClip")),1),createBaseVNode("td",_hoisted_28$2,toDisplayString$1((H._t=(H._s=o.value.raw)===null||H._s===void 0?void 0:H._s.metadata)===null||H._t===void 0?void 0:H._t.ss_clip_skip),1)]),(openBlock(),createElementBlock(Fragment,null,renderList(x,M=>createBaseVNode("tr",{key:M.key,class:normalizeClass({"is-editing":y.value[M.key]})},[createBaseVNode("td",_hoisted_29$2,[createTextVNode(toDisplayString$1(M.label)+" ",1),M.tip?(openBlock(),createElementBlock("svg",{key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:M.tip},R[13]||(R[13]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_30$2)):createCommentVNode("",!0)]),createBaseVNode("td",null,[y.value[M.key]?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":G=>S.value[M.key]=G,type:M.type||"text",onKeyup:[withKeys(G=>le(M.key),["enter"]),withKeys(G=>Se(M.key),["esc"])]},null,40,_hoisted_31$2)),[[vModelDynamic,S.value[M.key]]]):(openBlock(),createElementBlock("span",_hoisted_32$2,toDisplayString$1(o.value[M.key]),1))]),createBaseVNode("td",_hoisted_33$2,[createBaseVNode("button",{class:"edit-btn",onClick:G=>O(M.key)},[(openBlock(),createElementBlock("svg",_hoisted_35$2,[y.value[M.key]?(openBlock(),createElementBlock("path",_hoisted_36$2)):(openBlock(),createElementBlock("path",_hoisted_37$2))]))],8,_hoisted_34$2)])],2)),64)),ee.value.length?(openBlock(),createElementBlock("tr",_hoisted_38$2,[createBaseVNode("td",_hoisted_39$2,[createTextVNode(toDisplayString$1(unref(r)("lora.trainedWords"))+" ",1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(r)("lora.trainedWordsTip")},R[14]||(R[14]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_40$2)),N.value.length?(openBlock(),createElementBlock("div",_hoisted_41$2,[createTextVNode(toDisplayString$1(unref(r)("lora.selectedWords",{count:N.value.length}))+" ",1),createBaseVNode("button",{class:"copy-btn",onClick:ye},toDisplayString$1(unref(r)("common.copy")),1)])):createCommentVNode("",!0)]),createBaseVNode("td",_hoisted_42$2,[createBaseVNode("ul",_hoisted_43$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(be.value?ee.value.slice(0,10):ee.value,(M,G)=>(openBlock(),createElementBlock("li",{key:"words-"+G,class:normalizeClass(["word-item",{"is-selected":ce(M.word),"is-hidden":be.value&&G>=10}]),onClick:te=>ue(M.word)},[createBaseVNode("span",null,toDisplayString$1(M.word),1),M.civitai?(openBlock(),createElementBlock("svg",_hoisted_45$2,R[15]||(R[15]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"},null,-1)]))):createCommentVNode("",!0),M.count!=null?(openBlock(),createElementBlock("small",_hoisted_46$2,toDisplayString$1(M.count),1)):createCommentVNode("",!0)],10,_hoisted_44$2))),128)),ee.value.length>10?(openBlock(),createElementBlock("li",{key:0,class:"toggle-btn",onClick:Ee},toDisplayString$1(be.value?unref(r)("common.showMore"):unref(r)("common.showLess")),1)):createCommentVNode("",!0)])])])):createCommentVNode("",!0)])]),(A=o.value.images)!=null&&A.length?(openBlock(),createElementBlock("ul",_hoisted_47$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value.images,(M,G)=>(openBlock(),createElementBlock("li",{key:G,class:"lora-detail__image-item"},[createBaseVNode("figure",null,[createBaseVNode("div",_hoisted_48$1,[createBaseVNode("div",{class:"image-action",onClick:te=>L(M.url)}," 设置为Lora封面 ",8,_hoisted_49$1),createBaseVNode("img",{src:M.url},null,8,_hoisted_50$1)]),createBaseVNode("figcaption",_hoisted_51$1,[M.civitaiUrl?(openBlock(),createElementBlock("span",_hoisted_52$1,[createBaseVNode("a",{href:M.civitaiUrl,target:"_blank",class:"civitai-link"},R[16]||(R[16]=[createTextVNode(" C站 civitai "),createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})],-1)]),8,_hoisted_53$1)])):createCommentVNode("",!0),M.seed?(openBlock(),createElementBlock("span",_hoisted_54$1,[R[17]||(R[17]=createBaseVNode("label",null,"种子 seed",-1)),createTextVNode(" "+toDisplayString$1(M.seed),1)])):createCommentVNode("",!0),M.steps?(openBlock(),createElementBlock("span",_hoisted_55$1,[R[18]||(R[18]=createBaseVNode("label",null,"步数 steps",-1)),createTextVNode(" "+toDisplayString$1(M.steps),1)])):createCommentVNode("",!0),M.cfg?(openBlock(),createElementBlock("span",_hoisted_56$1,[R[19]||(R[19]=createBaseVNode("label",null,"引导系数 cfg",-1)),createTextVNode(" "+toDisplayString$1(M.cfg),1)])):createCommentVNode("",!0),M.sampler?(openBlock(),createElementBlock("span",_hoisted_57$1,[R[20]||(R[20]=createBaseVNode("label",null,"采样器 sampler",-1)),createTextVNode(" "+toDisplayString$1(M.sampler),1)])):createCommentVNode("",!0),M.model?(openBlock(),createElementBlock("span",_hoisted_58$1,[R[21]||(R[21]=createBaseVNode("label",null,"基础模型 model",-1)),createTextVNode(" "+toDisplayString$1(M.model),1)])):createCommentVNode("",!0),M.positive?(openBlock(),createElementBlock("span",_hoisted_59$1,[R[22]||(R[22]=createBaseVNode("label",null,"正向提示词 positive",-1)),createTextVNode(" "+toDisplayString$1(M.positive),1)])):createCommentVNode("",!0),M.negative?(openBlock(),createElementBlock("span",_hoisted_60$1,[R[23]||(R[23]=createBaseVNode("label",null,"反向提示词 negative",-1)),createTextVNode(" "+toDisplayString$1(M.negative),1)])):createCommentVNode("",!0)])])]))),128))])):createCommentVNode("",!0)]))])]}),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),createVNode(loraRaw,{ref_key:"loraRawRef",ref:v},null,512)],64))}},loraDetail=_export_sfc(_sfc_main$b,[["__scopeId","data-v-ccdcfef4"]]),_hoisted_1$a={class:"header-actions"},_hoisted_2$8=["title"],_hoisted_3$8={class:"lora-info"},_hoisted_4$8={class:"lora-header"},_hoisted_5$7=["title"],_hoisted_6$7={class:"lora-actions"},_hoisted_7$7=["onClick","title"],_hoisted_8$7=["onClick","title"],_hoisted_9$7={class:"lora-weights"},_hoisted_10$6={class:"weight-item"},_hoisted_11$6=["onUpdate:modelValue"],_hoisted_12$6={class:"weight-item"},_hoisted_13$4=["onUpdate:modelValue"],_hoisted_14$4={class:"lora-footer"},_hoisted_15$4=["onClick","title"],_hoisted_16$4={viewBox:"0 0 24 24",width:"14",height:"14"},_hoisted_17$4={key:0,d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},_hoisted_18$3={key:1,d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},prefix$4="weilin_prompt_ui_",_sfc_main$a={__name:"lora_stack",props:{isOpen:{type:Boolean,default:!1},selectedLoras:{type:Array,default:[]}},emits:["close","update:selectedLoras"],setup(e,{expose:t,emit:n}){const{t:r}=useI18n(),a=e,o=n,s=()=>{window.postMessage({type:"weilin_prompt_ui_openLoraManager_addLora"},"*")},l=m=>{m.hidden=!m.hidden,o("update:selectedLoras",a.selectedLoras)},c=m=>{console.log(a.selectedLoras),a.selectedLoras&&!a.selectedLoras.find(_=>_.name===m.name)&&(a.selectedLoras.push({name:m.name,weight:1,text_encoder_weight:1,...m}),o("update:selectedLoras",a.selectedLoras))},u=m=>{const _=a.selectedLoras.findIndex(g=>g.name===m.name);_>-1&&(a.selectedLoras.splice(_,1),o("update:selectedLoras",a.selectedLoras))},d=ref(),f=m=>{d.value.open({name:m.lora})};return window.addEventListener("message",m=>{m.data.type==="weilin_prompt_ui_selectLora"&&c(m.data.lora)}),t({addLora:c,removeLora:u}),(m,_)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$4}lora-stack`),style:normalizeStyle([{width:e.isOpen?"300px":"0"},{paddingRight:e.isOpen?"16px":"0"}])},[createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-header`)},[createBaseVNode("h3",{class:normalizeClass(`${prefix$4}lora-title`)},toDisplayString$1(unref(r)("controls.loraStack")),3),createBaseVNode("div",_hoisted_1$a,[createBaseVNode("button",{class:normalizeClass(`${prefix$4}add-btn`),onClick:s,title:unref(r)("controls.addLora")},_[1]||(_[1]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1)]),10,_hoisted_2$8),createBaseVNode("button",{class:normalizeClass(`${prefix$4}close-btn`),onClick:_[0]||(_[0]=g=>m.$emit("close"))},_[2]||(_[2]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),2)])],2),createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.selectedLoras,g=>(openBlock(),createElementBlock("div",{key:g.name,class:normalizeClass(["lora-item",{"hidden-lora":g.hidden}])},[createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$8,[createBaseVNode("span",{class:"lora-name",title:g.name},toDisplayString$1(g.name),9,_hoisted_5$7),createBaseVNode("div",_hoisted_6$7,[createBaseVNode("button",{class:"look-on-btn",onClick:v=>f(g),title:unref(r)("controls.lookOnLora")},_[3]||(_[3]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"14",height:"14"},[createBaseVNode("path",{d:"M576.5 930.2H163.1c-52.9 0-96-43.1-96-96v-672c0-52.9 43.1-96 96-96h672c52.9 0 96 43.1 96 96V577c0 17.7-14.3 32-32 32s-32-14.3-32-32V162.2c0-17.6-14.4-32-32-32h-672c-17.6 0-32 14.4-32 32v672c0 17.6 14.4 32 32 32h413.4c17.7 0 32 14.3 32 32s-14.3 32-32 32z","p-id":"3466"}),createBaseVNode("path",{d:"M692.4 322.3H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h446.7c17.7 0 32 14.3 32 32s-14.3 32-32 32zM388.5 530.2H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.6-14.3 32-31.9 32zM388.5 738H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.7-14.3 32-31.9 32z","p-id":"3467"}),createBaseVNode("path",{d:"M624.1 792.5c-94.8 0-172-77.2-172-172s77.2-172 172-172 172 77.2 172 172-77.1 172-172 172z m0-280c-59.6 0-108 48.4-108 108s48.4 108 108 108 108-48.4 108-108-48.4-108-108-108z","p-id":"3468"}),createBaseVNode("path",{d:"M820.8 864.2L710.5 753.9c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L866 818.9c12.5 12.5 12.5 32.8 0 45.3s-32.7 12.5-45.2 0z","p-id":"3469"})],-1)]),8,_hoisted_7$7),createBaseVNode("button",{class:"remove-btn",onClick:v=>u(g),title:unref(r)("controls.removeLora")},_[4]||(_[4]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_8$7)])]),createBaseVNode("div",_hoisted_9$7,[createBaseVNode("div",_hoisted_10$6,[createBaseVNode("label",null,toDisplayString$1(unref(r)("loraManager.modelWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":v=>g.weight=v,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_11$6),[[vModelText,g.weight]])]),createBaseVNode("div",_hoisted_12$6,[createBaseVNode("label",null,toDisplayString$1(unref(r)("loraManager.textEncoderWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":v=>g.text_encoder_weight=v,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_13$4),[[vModelText,g.text_encoder_weight]])])]),createBaseVNode("div",_hoisted_14$4,[createBaseVNode("button",{class:"hide-btn",onClick:v=>l(g),title:g.hidden?unref(r)("lora.showLora"):unref(r)("lora.hideLora")},[(openBlock(),createElementBlock("svg",_hoisted_16$4,[g.hidden?(openBlock(),createElementBlock("path",_hoisted_18$3)):(openBlock(),createElementBlock("path",_hoisted_17$4))])),createTextVNode(" "+toDisplayString$1(g.hidden?unref(r)("lora.showLora"):unref(r)("lora.hideLora")),1)],8,_hoisted_15$4)])])],2))),128))],2)],2)],2),createVNode(loraDetail,{ref_key:"loraDetailLoraStackRef",ref:d},null,512)],6))}},LoraStack=_export_sfc(_sfc_main$a,[["__scopeId","data-v-77ab3041"]]);function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i18nJsautotranslate$1={exports:{}},i18nJsautotranslate=i18nJsautotranslate$1.exports,hasRequiredI18nJsautotranslate;function requireI18nJsautotranslate(){return hasRequiredI18nJsautotranslate||(hasRequiredI18nJsautotranslate=1,function(module){if(typeof translate=="object"&&typeof translate.version=="string")throw new Error("translate.js 已经加载过一次了，当前是重复加载，避免你的翻译出现异常，已帮你拦截此次加载。本信息只是给你一个提示，你可以检查一下你的项目中是否出现了重复引入 translate.js ，当然，这个异常并不会影响到你的具体使用，它已经自动帮你处理拦截了这个异常，只不过提示出来是让你知道，你的代码里出现了重复引入的情况。");var translate={version:"3.13.12.20250307",useVersion:"v2",setUseVersion2:function(){translate.useVersion="v2",console.log("提示：自 v2.10 之后的版本默认就是使用V2版本（当前版本为:"+translate.version+"）， translate.setUseVersion2() 可以不用再加这一行了。当然加了也无所谓，只是加了跟不加是完全一样的。")},translate:null,includedLanguages:"zh-CN,zh-TW,en",resourcesUrl:"//res.zvo.cn/translate",selectLanguageTag:{documentId:"translate",show:!0,languages:"",alreadyRender:!1,selectOnChange:function(e){var t=e.target.value;translate.changeLanguage(t)},refreshRender:function(){let e=document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage");e&&e.parentNode.removeChild(e),translate.selectLanguageTag.alreadyRender=!1,translate.selectLanguageTag.render()},customUI:function(e){var t=function(l){translate.selectLanguageTag.selectOnChange(l)},n=document.createElement("select");n.id=translate.selectLanguageTag.documentId+"SelectLanguage",n.className=translate.selectLanguageTag.documentId+"SelectLanguage";for(var r=translate.language.getCurrent(),a=0;a<e.length;a++){var o=document.createElement("option");if(o.setAttribute("value",e[a].id),translate.selectLanguageTag.languages.length>0){var s=(","+translate.selectLanguageTag.languages+",").toLowerCase();if(s.indexOf(","+e[a].id.toLowerCase()+",")<0)continue}r!=null&&typeof r<"u"&&r.length>0?r==e[a].id&&o.setAttribute("selected","selected"):e[a].id==translate.language.getLocal()&&o.setAttribute("selected","selected"),o.appendChild(document.createTextNode(e[a].name)),n.appendChild(o)}window.addEventListener?n.addEventListener("change",t,!1):n.attachEvent("onchange",t),document.getElementById(translate.selectLanguageTag.documentId).appendChild(n)},render:function(){if(!translate.selectLanguageTag.alreadyRender&&(translate.selectLanguageTag.alreadyRender=!0,!!translate.selectLanguageTag.show)){if(document.getElementById(translate.selectLanguageTag.documentId)==null){var e=document.getElementsByTagName("body");if(e.length==0){console.log("body tag not find, translate.selectLanguageTag.render() is not show Select Language");return}var t=e[0],n=document.createElement("div");n.id=translate.selectLanguageTag.documentId,t.appendChild(n)}else if(document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage")!=null)return;translate.request.post(translate.request.api.language,{},function(r){if(r.result==0){console.log("load language list error : "+r.info);return}translate.selectLanguageTag.customUI(r.list)},null)}}},localLanguage:"zh-CN",googleTranslateElementInit:function(){var e="";document.getElementById("translate")!=null&&(e="translate"),translate.translate=new google.translate.TranslateElement({pageLanguage:"zh-CN",includedLanguages:translate.selectLanguageTag.languages,layout:0},e)},execute_v1:function(){console.log("=====ERROR======"),console.log("The v1 version has been discontinued since 2022. Please use the latest V3 version and refer to: http://translate.zvo.cn/41162.html")},setCookie:function(e,t){var n=e+"="+escape(t);document.cookie=n},getCookie:function(e){for(var t=document.cookie,n=t.split("; "),r=0;r<n.length;r++){var a=n[r].split("=");if(a[0]==e)return unescape(a[1])}return""},currentLanguage:function(){var e=translate.getCookie("googtrans");return e.length>0?e.substr(e.lastIndexOf("/")+1,e.length-1):translate.localLanguage},changeLanguage:function(e){var t=",en,de,hi,lt,hr,lv,ht,hu,zh-CN,hy,uk,mg,id,ur,mk,ml,mn,af,mr,uz,ms,el,mt,is,it,my,es,et,eu,ar,pt-PT,ja,ne,az,fa,ro,nl,en-GB,no,be,fi,ru,bg,fr,bs,sd,se,si,sk,sl,ga,sn,so,gd,ca,sq,sr,kk,st,km,kn,sv,ko,sw,gl,zh-TW,pt-BR,co,ta,gu,ky,cs,pa,te,tg,th,la,cy,pl,da,tr,";if(t.indexOf(","+e+",")>-1){console.log("您使用的是v1版本的切换语种方式，v1已在2021年就以废弃，请更换为v2，参考文档： http://translate.zvo.cn/41549.html"),translate.check();var n="/"+translate.localLanguage+"/"+e,r=document.location.host.split(".");if(r.length>2){var a=r[r.length-2]+"."+r[r.length-1];document.cookie="googtrans=;expires="+new Date(1)+";domain="+a+";path=/",document.cookie="googtrans="+n+";domain="+a+";path=/"}translate.setCookie("googtrans",""+n),translate.refreshCurrentPage();return}if(translate.useVersion="v2",translate.to!=null&&translate.to.length>0&&translate.to!=translate.language.getLocal())var o=!0;if(translate.to=e,translate.storage.set("to",e),o)location.reload();else{translate.execute();const s=document.querySelectorAll("iframe");for(let l=0;l<s.length;l++){const u=s[l].contentWindow;typeof u.translate=="object"&&typeof u.translate.version=="string"&&u.translate.execute()}}},check:function(){window.location.protocol=="file:"&&console.log(`\r
---WARNING----\r
translate.js 主动翻译组件自检异常，当前协议是file协议，翻译组件要在正常的线上http、https协议下才能正常使用翻译功能\r
------------`)},to:"",autoDiscriminateLocalLanguage:!1,documents:[],inProgressNodes:[],ignore:{tag:["style","script","link","pre","code"],class:["ignore","translateSelectLanguage"],id:[],isIgnore:function(e){if(e==null||typeof e>"u")return!1;for(var t=e,n=100;n-- >0;){if(t==null||typeof t>"u")return!1;var r=translate.element.getNodeName(t).toLowerCase();if(r.length>0){if(r=="body"||r=="html"||r=="#document")return!1;if(translate.ignore.tag.indexOf(r)>-1)return!0}if(t.className!=null){var a=t.className;if(a==null||typeof a!="string")continue;a=a.trim().split(" ");for(var o=0;o<a.length;o++)if(a[o]!=null&&a[o].trim().length>0&&translate.ignore.class.indexOf(a[o])>-1)return!0}if(t.id!=null&&typeof t.id<"u"&&translate.ignore.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1},text:[]},refreshCurrentPage:function(){location.reload()},nomenclature:{data:new Array,old_Data:[],set:function(e){alert("请将 translate.nomenclature.set 更换为 append，具体使用可参考： https://github.com/xnx3/translate ")},append:function(e,t,n){typeof translate.nomenclature.data[e]>"u"&&(translate.nomenclature.data[e]=new Array),typeof translate.nomenclature.data[e][t]>"u"&&(translate.nomenclature.data[e][t]=new Array);for(var r=n.split(`
`),a=0;a<r.length;a++){var o=r[a].trim();if(!(o.length<1)){var s=o.split("=");if(s.length==2){var l=s[0].trim(),c=s[1].trim();l.length==0||c.length==0||(translate.nomenclature.data[e][t][l]=c)}}}translate.nomenclature.data[e][t]=translate.util.objSort(translate.nomenclature.data[e][t])},get:function(){return translate.nomenclature.data},dispose:function(e){if(e==null||e.length==0||typeof translate.nomenclature.data[translate.language.getLocal()]>"u"||typeof translate.nomenclature.data[translate.language.getLocal()][translate.to]>"u")return e;for(var t in translate.nomenclature.data[translate.language.getLocal()][translate.to]){var n=translate.nomenclature.data[translate.language.getLocal()][translate.to][t];if(typeof n!="function"){var r=e.indexOf(t);if(r>-1)if(translate.language.getLocal()=="english"){var a="";if(r!=0){a=e.substr(r-1,1);var o=translate.language.getCharLanguage(a);if(o=="english"||o=="romance")continue}var s="";if(r+t.length!=e.length){s=e.substr(r+t.length,1);var o=translate.language.getCharLanguage(s);if(o=="english"||o=="romance")continue}e=e.replace(new RegExp(a+t+s,"g"),a+n+s)}else e=e.replace(new RegExp(t,"g"),n)}}return e}},office:{export:function(){if(translate.language.getLocal()==translate.language.getCurrent()){alert("本地语种跟要翻译的语种一致，无需导出");return}var e="";for(var t in translate.nodeQueue){translate.nodeQueue[t];for(var n in translate.nodeQueue[t].list)if(!(typeof n!="string"||n.length<1))for(var r in translate.nodeQueue[t].list[n])e=e+`
`+translate.nodeQueue[t].list[n][r].original+"="+translate.storage.get("hash_"+translate.language.getCurrent()+"_"+r)}e.length>0?(e="translate.office.append('"+translate.language.getCurrent()+"',`"+e+"\n`);",translate.util.loadMsgJs(),msg.popups({text:'<textarea id="msgPopupsTextarea" style="width:100%; height:100%; color: black; padding: 8px;">loaing...</textarea>',width:"750px",height:"600px",padding:"1px"}),document.getElementById("msgPopupsTextarea").value=e):msg.alert("无有效内容！")},showPanel:function(){let e=document.createElement("div");e.setAttribute("id","translate_export"),e.setAttribute("class","ignore");let t=document.createElement("button");t.onclick=function(){translate.office.export()},t.innerHTML="导出配置信息",t.setAttribute("style","margin-left: 72px; margin-top: 30px; margin-bottom: 20px; font-size: 25px; background-color: blue; padding: 15px; padding-top: 3px; padding-bottom: 3px; border-radius: 3px;"),e.appendChild(t);let n=document.createElement("div");n.innerHTML='1. 首先将当前语种切换为你要翻译的语种<br/>2. 点击导出按钮，将翻译的配置信息导出<br/>3. 将导出的配置信息粘贴到代码中，即可完成<br/><a href="asd" target="_black" style="color: aliceblue;">点此进行查阅详细使用说明</a>',n.setAttribute("style","font-size: 14px; padding: 12px;"),e.appendChild(n),e.setAttribute("style","background-color: black; color: #fff; width: 320px; height: 206px; position: fixed; bottom: 50px; right: 50px;"),document.body.appendChild(e),translate.util.loadMsgJs()},append:function(e,t){for(var n=t.split(`
`),r=0;r<n.length;r++){var a=n[r].trim();if(!(a.length<1)){var o=a.split("=");if(o.length==2){var s=o[0],l=o[1];s.length==0||l.length==0||translate.storage.set("hash_"+e+"_"+translate.util.hash(s),l)}}}}},setAutoDiscriminateLocalLanguage:function(){translate.autoDiscriminateLocalLanguage=!0},nodeQueue:{},setDocuments:function(e){e==null||typeof e>"u"||(typeof e.length>"u"?translate.documents[0]=e:translate.documents=e,translate.nodeQueue={})},getDocuments:function(){if(translate.documents!=null&&typeof translate.documents<"u"&&translate.documents.length>0)return translate.documents;var e=new Array;return e[0]=document.documentElement,e},listener:{isStart:!1,start:function(){translate.temp_linstenerStartInterval=setInterval(function(){if(document.readyState=="complete"){if(clearInterval(translate.temp_linstenerStartInterval),translate.language.getCurrent()==translate.language.getLocal()&&!translate.language.translateLocal)return;translate.listener.addListener()}},300)},ignoreNode:[],translateExecuteNodeIgnoreExpireTime:1e3,addIgnore:function(e,t){let n="";typeof e=="string"?n=e:n=nodeuuid.uuid(e),translate.listener.ignoreNode[n]=Date.now()+t},refreshIgnoreNode:function(){var e=Date.now();for(const t in translate.listener.ignoreNode)translate.listener.ignoreNode[t]<e&&delete translate.listener.ignoreNode[t]},addListener:function(){translate.listener.isStart=!0,translate.listener.config={attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},translate.listener.callback=function(r,a){var o=[];for(let f of r){let m=[];f.type==="childList"?f.addedNodes.length>0?m=f.addedNodes:f.removedNodes.length>0:f.type==="attributes"||f.type==="characterData"&&(m=[f.target]);for(let _ of m){for(var s=!1,l=0;l<o.length;l++)if(o[l].isSameNode(_)){s=!0;break}if(s)break;o.push.apply(o,[_])}}if(o.length>0){var c=[];for(let f of o){for(var u=!1,d=0;d<translate.inProgressNodes.length;d++)if(translate.inProgressNodes[d].node.isSameNode(f)){u=!0;break}if(u)continue;let m=nodeuuid.uuid(f);typeof translate.listener.ignoreNode[m]=="number"&&translate.listener.ignoreNode[m]>Date.now()||c.push(f)}if(c.length<1)return;setTimeout(function(){translate.execute(c)},10)}},translate.listener.observer=new MutationObserver(translate.listener.callback);for(var e=translate.getDocuments(),t=0;t<e.length;t++){var n=e[t];n!=null&&translate.listener.observer.observe(n,translate.listener.config)}},renderTaskFinish:function(e){},execute:{renderStartByApi:[],renderStartByApiRun:function(e){for(var t=0;t<translate.listener.execute.renderStartByApi.length;t++)try{translate.listener.execute.renderStartByApi[t](e)}catch(n){console.log(n)}},renderFinishByApi:[],renderFinishByApiRun:function(e){for(var t=0;t<translate.listener.execute.renderFinishByApi.length;t++)try{translate.listener.execute.renderFinishByApi[t](e)}catch(n){console.log(n)}}}},renderTask:class{constructor(){this.taskQueue=[],this.nodes=[]}add(e,t,n,r){var a=translate.element.nodeAnalyse.get(e,r),o=translate.util.hash(a.text);typeof this.nodes[o]>"u"&&(this.nodes[o]=new Array),this.nodes[o].push(e);var s=this.taskQueue[o];(s==null||typeof s>"u")&&(s=new Array);var l=new Array;t.substr(0,1)==" "&&n.substr(0,1)!=" "&&(n=" "+n),t.substr(t.length-1,1)===" "&&n.substr(0,1)!=" "&&(n=n+" "),l.originalText=t,l.resultText=n,l.attribute=r,s.push(l),this.taskQueue[o]=s}execute(){for(var e in this.taskQueue){var t=this.taskQueue[e];typeof t!="function"&&(t.sort((l,c)=>c.originalText.length-l.originalText.length),this.taskQueue[e]=t)}translate.listener.refreshIgnoreNode();for(var e in this.nodes)for(var t=this.taskQueue[e],n=0;n<this.nodes[e].length;n++)for(var r=0;r<t.length;r++){var a=t[r];if(typeof t!="function"){var o=this.nodes[e][r];setTimeout(function(u){for(var d=0;d<translate.inProgressNodes.length;d++)if(translate.inProgressNodes[d].node.isSameNode(u)){translate.inProgressNodes[d].number=translate.inProgressNodes[d].number-1,translate.inProgressNodes[d].number<1&&translate.inProgressNodes.splice(d,1);break}},50,o),translate.listener.addIgnore(this.nodes[e][r],translate.listener.translateExecuteNodeIgnoreExpireTime),translate.element.nodeAnalyse.set(this.nodes[e][r],a.originalText,a.resultText,a.attribute)}}if(typeof this.taskQueue<"u"&&Object.keys(this.taskQueue).length>0){var s=this;setTimeout(function(){for(var l in s.nodes)for(var c in s.nodes[l]){var u=translate.element.nodeAnalyse.get(s.nodes[l][0]),d=nodeuuid.uuid(u.node);d.length!=0&&(translate.nodeHistory[d]={},translate.nodeHistory[d].node=u.node,translate.nodeHistory[d].translateText=u.text)}translate.listener.renderTaskFinish(s)},50)}}},state:0,waitingExecute:{queue:[],add:function(e){translate.waitingExecute.queue.push(e);let t=setInterval(function(){if(translate.state==0){clearInterval(t);var n=translate.waitingExecute.get();translate.execute(n)}},500)},get:function(){return translate.waitingExecute.queue.length>0?translate.waitingExecute.queue.shift():(console.log("警告， translate.waitingExecute.get 出现异常，quque已空，但还往外取。"),null)},isAllExecuteFinish:function(e){for(var t in translate.translateRequest[e])for(var n=0;n<translate.translateRequest[e][t].length;n++)if(translate.translateRequest[e][t][n].executeFinish==0)return;translate.state=0,translate.executeNumber++,translate.listener.execute.renderFinishByApiRun(e)}},executeNumber:0,execute:function(e){if(translate.state!=0){console.log("当前翻译还未完结，新的翻译任务已加入等待翻译队列中，待翻译结束后便会执行当前翻译任务。"),translate.waitingExecute.add(e);return}translate.state=1,typeof e<"u"&&(translate.useVersion="v2"),translate.useVersion=="v1"&&(console.log("提示：https://github.com/xnx3/translate 在 v2.5 版本之后，由于谷歌翻译调整，免费翻译通道不再支持，所以v1版本的翻译接口不再被支持，v1全线下架。考虑到v1已不能使用，当前已自动切换到v2版本。如果您使用中发现什么异常，请针对v2版本进行适配。"),translate.useVersion="v2");try{translate.init()}catch{}var t=translate.util.uuid();if(translate.to==null||translate.to==""){var n=translate.storage.get("to");n!=null&&typeof n<"u"&&n.length>0&&(translate.to=n)}try{translate.selectLanguageTag.render()}catch(T){console.log(T)}if(translate.to==null||typeof translate.to>"u"||translate.to.length==0){translate.autoDiscriminateLocalLanguage&&translate.executeByLocalLanguage(),translate.state=0;return}if(translate.to==translate.language.getLocal()&&!translate.language.translateLocal){translate.state=0;return}translate.images.execute();var r;typeof e<"u"&&e!=null?typeof e.length>"u"?(r=new Array,r[0]=e):r=e:r=translate.getDocuments(),r.length>500&&(console.log("------tip------"),console.log("translate.execute( docs ) 传入的docs.length 过大，超过500，这很不正常，当前 docs.length : "+r.length+" ,如果你感觉真的没问题，请联系作者 http://translate.zvo.cn/43006.html 说明情况，根据你的情况进行分析。 当前只取前500个元素进行翻译"));for(var a=0;a<r.length&a<500;a++){var o=r[a];translate.element.whileNodes(t,o)}if(translate.language.translateLanguagesRange.length>0)for(var s in translate.nodeQueue[t].list)translate.language.translateLanguagesRange.indexOf(s)<0&&delete translate.nodeQueue[t].list[s];typeof translate.nodeQueue[t]>"u"&&(translate.nodeQueue[t]=new Array,translate.nodeQueue[t].list=[],console.log("--- translate.js warn tip 警告！！ ---"),console.log("您使用translate.js时可能放的位置不对，不要吧 translate.js 放在网页最顶部，这样当 translate.js 进行执行，也就是 translate.execute() 执行时，因为网页是从上往下加载，它放在网页最顶部，那么它执行时网页后面的内容都还没加载出来，这个是不会获取到网页任何内容的，也就是它是不起任何作用的"));for(var s in translate.nodeQueue[t].list){for(var l in translate.nodeQueue[t].list[s])if(typeof translate.nodeQueue[t].list[s][l]!="function"){for(var c=translate.nodeQueue[t].list[s][l].nodes.length-1;c>-1;c--){var u=translate.element.nodeAnalyse.get(translate.nodeQueue[t].list[s][l].nodes[c].node),d=nodeuuid.uuid(u.node);typeof translate.nodeHistory[d]<"u"&&translate.nodeHistory[d].translateText==u.text&&translate.nodeQueue[t].list[s][l].nodes.splice(c,1)}translate.nodeQueue[t].list[s][l].nodes.length==0&&delete translate.nodeQueue[t].list[s][l]}Object.keys(translate.nodeQueue[t].list[s]).length==0&&delete translate.nodeQueue[t].list[s]}var f={},m={},_={},g=[];for(var s in translate.nodeQueue[t].list){if(s==null||typeof s>"u"||s.length==0||s=="undefined")continue;f[s]=[],m[s]=[];let E=new translate.renderTask;_[s]=[];for(var l in translate.nodeQueue[t].list[s])if(typeof translate.nodeQueue[t].list[s][l]!="function"){var v=translate.nodeQueue[t].list[s][l].original,b=translate.nodeQueue[t].list[s][l].translateText,y=v==b?l:translate.util.hash(b);translate.nodeQueue[t].list[s][l].cacheHash=y;var S=translate.storage.get("hash_"+translate.to+"_"+y);if(S!=null&&S.length>0){for(var N=0;N<translate.nodeQueue[t].list[s][l].nodes.length;N++){for(var x=translate.nodeQueue[t].list[s][l].nodes[N].node,C=!1,B=0;B<translate.inProgressNodes.length;B++)translate.inProgressNodes[B].node.isSameNode(x)&&(translate.inProgressNodes[B].number++,C=!0);C||translate.inProgressNodes.push({node:x,number:1});var L=translate.nodeQueue[t].list[s][l].nodes[N].beforeText+S+translate.nodeQueue[t].list[s][l].nodes[N].afterText;E.add(translate.nodeQueue[t].list[s][l].nodes[N].node,v,L,translate.nodeQueue[t].list[s][l].nodes[N].attribute);for(var F=-1,a=0;a<_[s].length;a++)if(translate.nodeQueue[t].list[s][l].nodes[N].node.isSameNode(_[s][a].node)){F=a;break}for(var z=-1,a=0;a<g.length;a++)if(translate.nodeQueue[t].list[s][l].nodes[N].node.isSameNode(g[a].node)){z=a;break}F==-1&&(F=_[s].length,_[s][F]={},_[s][F].node=translate.nodeQueue[t].list[s][l].nodes[N].node,_[s][F].array=[]),z==-1&&(z=g.length,g[z]={},g[z].node=translate.nodeQueue[t].list[s][l].nodes[N].node,g[z].array=[]);var ee=_[s][F].array.length;_[s][F].array[ee]=L;var W=g[z].array.length;g[z].array[W]=L}continue}f[s].push(b),m[s].push(l)}E.execute()}for(var s in _){for(var O=Object.keys(translate.nodeQueue[t].list[s]),ne=O.length,a=0;a<_[s].length;a++){for(var le=0;le<g.length;le++)if(_[s][a].node.isSameNode(g[le].node)){_[s][a].array=g[le].array;break}_[s][a].array.sort(function(I,U){return U.length-I.length});for(var Se=translate.element.nodeAnalyse.get(_[s][a].node),_e=Se.text,ue=0;ue<_[s][a].array.length;ue++)_[s][a].array[ue]<1||(_e=_e.replace(new RegExp(translate.util.regExp.pattern(_[s][a].array[ue]),"g"),translate.util.regExp.resultText(`
`)));for(var ce=_e.split(`
`),ye=0;ye<ce.length;ye++)ce[ye]<1||translate.addNodeToQueue(t,Se.node,ce[ye])}var be=Object.keys(translate.nodeQueue[t].list[s]),Ee=be.length;if(ne-Ee!=0)for(var H=0;H<be.length;H++){var R=be[H];if(O.indexOf(R)==-1){var A=translate.nodeQueue[t].list[s][R],y=A.original==A.translateText?R:translate.util.hash(A.translateText);translate.nodeQueue[t].list[s][R].cacheHash=y,f[s].push(A.translateText),m[s].push(R)}}}var M=[];for(var s in translate.nodeQueue[t].list)typeof f[s]>"u"||f[s].length<1||s!=translate.to&&M.push(s);if(M.length==0){translate.state=0,translate.executeNumber++;return}for(var s in m)if(!(typeof m[s]>"u")&&!(m[s].length<1))for(var G=0;G<m[s].length;G++)for(var te=m[s][G],ge=0;ge<translate.nodeQueue[t].list[s][te].nodes.length;ge++){for(var x=translate.nodeQueue[t].list[s][te].nodes[ge].node,C=!1,B=0;B<translate.inProgressNodes.length;B++)translate.inProgressNodes[B].node.isSameNode(x)&&(translate.inProgressNodes[B].number++,C=!0);C||translate.inProgressNodes.push({node:x,number:1})}translate.state=20,translate.listener.execute.renderStartByApiRun(t);for(var ae in M){var s=M[ae];if(typeof f[s]>"u"||f[s].length<1){console.log("异常,理论上不应该存在： typeof(translateTextArray[lang]) == 'undefined' || translateTextArray[lang].length < 1"),translate.state=0,translate.executeNumber++;return}(typeof translate.translateRequest[t]>"u"||translate.translateRequest[t]==null)&&(translate.translateRequest[t]={}),translate.translateRequest[t][s]={},translate.translateRequest[t][s].executeFinish=0,translate.translateRequest[t][s].addtime=Math.floor(Date.now()/1e3);var ie=translate.request.api.translate,he={from:s,to:translate.to,text:encodeURIComponent(JSON.stringify(f[s]))};translate.request.post(ie,he,function(E){if(E.result==0){translate.translateRequest[t][K].result=2,translate.translateRequest[t][K].executeFinish=1,translate.translateRequest[t][K].stoptime=Math.floor(Date.now()/1e3),translate.waitingExecute.isAllExecuteFinish(t),console.log("=======ERROR START======="),console.log(f[E.from]),console.log("response : "+E.info),console.log("=======ERROR END  =======");return}if(typeof translate.nodeQueue[t]>"u"){console.log("提示：你很可能多次引入了 translate.js 所以造成了翻译本身的数据错乱，这只是个提示，它还是会给你正常翻译的，但是你最好不要重复引入太多次 translate.js ，正常情况下只需要引入一次 translate.js 就可以了。太多的话很可能会导致你页面卡顿");return}let I=new translate.renderTask;for(var U=0;U<m[E.from].length;U++){var K=E.from,Z=E.text[U];if(Z!=null){Z.toLowerCase().indexOf(f[E.from][U].toLowerCase())>-1&&(Z=f[E.from][U]);var w=m[E.from][U],$=translate.nodeQueue[t].list[K][w].cacheHash,D="";try{D=translate.nodeQueue[t].list[K][w].original}catch(J){console.log("uuid:"+t+", originalWord:"+D+", lang:"+K+", hash:"+w+", text:"+Z+", queue:"+translate.nodeQueue[t]),console.log(J);continue}for(var j=0;j<translate.nodeQueue[t].list[K][w].nodes.length;j++)I.add(translate.nodeQueue[t].list[K][w].nodes[j].node,D,translate.nodeQueue[t].list[K][w].nodes[j].beforeText+Z+translate.nodeQueue[t].list[K][w].nodes[j].afterText,translate.nodeQueue[t].list[K][w].nodes[j].attribute);translate.storage.set("hash_"+E.to+"_"+$,Z)}}I.execute(),translate.translateRequest[t][K].result=1,translate.translateRequest[t][K].executeFinish=1,translate.translateRequest[t][K].stoptime=Math.floor(Date.now()/1e3),setTimeout(function(){translate.waitingExecute.isAllExecuteFinish(t)},10)},function(E){translate.translateRequest[t][s].executeFinish=1,translate.translateRequest[t][s].stoptime=Math.floor(Date.now()/1e3),translate.translateRequest[t][s].result=3,translate.waitingExecute.isAllExecuteFinish(t)})}},translateRequest:{},nodeHistory:{},element:{tagAttribute:{},nodeAnalyse:{get:function(e,t){return translate.element.nodeAnalyse.analyse(e,"","",t)},set:function(e,t,n,r){translate.element.nodeAnalyse.analyse(e,t,n,r)},analyse:function(e,t,n,r){var a=new Array;a.node=e,a.text="";var o=translate.element.getNodeName(e);if(r!=null&&typeof r=="string"&&r.length>0){if(a.text=e[r],typeof t<"u"&&t.length>0){typeof e[r]<"u"&&(e[r]=e[r].replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n)));var s=e.getAttribute(r);s!=null&&typeof s<"u"&&e.setAttribute(r,s.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n)))}return a}if(o=="#text"&&typeof e.parentNode<"u"){var l=translate.element.getNodeName(e.parentNode);l=="TEXTAREA"&&(o="TEXTAREA",e=e.parentNode)}if(o=="INPUT"||o=="TEXTAREA"){if(e.attributes==null||typeof e.attributes>"u")return a.text="",a;if(o=="INPUT"&&typeof e.attributes.type<"u"&&typeof e.attributes.type.nodeValue!=null&&(e.attributes.type.nodeValue.toLowerCase()=="button"||e.attributes.type.nodeValue.toLowerCase()=="submit")){var c=e.attributes.value;if(c!=null&&typeof c<"u"&&typeof c.nodeValue<"u"&&c.nodeValue.length>0)return typeof t<"u"&&t.length>0&&(c.nodeValue=c.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),a.text=c.nodeValue,a.node=c,a}return typeof e.attributes.placeholder<"u"?(typeof t<"u"&&t.length>0&&(e.attributes.placeholder.nodeValue=e.attributes.placeholder.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),a.text=e.attributes.placeholder.nodeValue,a.node=e.attributes.placeholder,a):(a.text="",a)}if(o=="META"){if(typeof e.name<"u"&&e.name!=null){var u=e.name.toLowerCase(),d=e.getAttribute("property"),f="";if(typeof d<"u"&&d!=null&&d.length>0&&(f=d.toLowerCase()),u=="keywords"||u=="description"||u=="sharetitle"||f=="og:title"||f=="og:description"||f=="og:site_name"||f=="og:novel:latest_chapter_name")return typeof t<"u"&&t!=null&&t.length>0&&(e.content=e.content.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),a.text=e.content,a}return a.text="",a}return o=="IMG"?typeof e.alt>"u"||e.alt==null?(a.text="",a):(typeof t<"u"&&t.length>0&&(e.alt=e.alt.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),a.text=e.alt,a):(e.nodeValue==null||typeof e.nodeValue>"u"||e.nodeValue.trim().length==0?a.text="":(typeof t<"u"&&t!=null&&t.length>0&&(e.nodeValue=e.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),a.text=e.nodeValue),a)}},getNodeName:function(e){if(e==null||typeof e>"u"||e.nodeName==null||typeof e.nodeName>"u")return"";var t=e.nodeName;return t},whileNodes:function(e,t){if(!(t==null||typeof t>"u")){(typeof translate.nodeQueue[e]>"u"||translate.nodeQueue[e]==null)&&(translate.nodeQueue[e]=new Array,translate.nodeQueue[e].expireTime=Date.now()+120*1e3,translate.nodeQueue[e].list=new Array),typeof t=="object"&&typeof t.title=="string"&&t.title.length>0&&(translate.ignore.isIgnore(t)||translate.addNodeToQueue(e,t,t.title,"title"));var n=translate.element.getNodeName(t).toLowerCase();if(typeof translate.element.tagAttribute[n]<"u")for(var r in translate.element.tagAttribute[n]){var a=translate.element.tagAttribute[n][r],o=t.getAttribute(a);(typeof o>"u"||o==null)&&(o=t[a]),!(typeof o>"u"||o==null)&&translate.addNodeToQueue(e,t,o,a)}var s=t.childNodes;if(!(s==null||typeof s>"u"))if(s.length>0)for(var l=0;l<s.length;l++)translate.element.whileNodes(e,s[l]);else translate.element.findNode(e,t)}},findNode:function(e,t){if(!(t==null||typeof t>"u")&&t.parentNode!=null){var n=translate.element.getNodeName(t.parentNode);if(n!=""&&!(translate.ignore.tag.indexOf(n.toLowerCase())>-1)&&!translate.ignore.isIgnore(t)){var r=translate.element.nodeAnalyse.get(t);r.text.length>0&&translate.addNodeToQueue(e,r.node,r.text)}}}},addNodeToQueue:function(e,t,n,r){if(!(t==null||n==null||n.length==0)){var a=translate.element.getNodeName(t);if(a.toLowerCase()!="#comment"){if(translate.util.hash(n),translate.util.findTag(n)){if(t.parentNode==null)return;var o=translate.element.getNodeName(t.parentNode);if(o=="SCRIPT"||o=="STYLE")return}var s=new Array;s.push(n);for(var l=0;l<translate.ignore.text.length;l++)translate.ignore.text[l].trim().length!=0&&(s=translate.addNodeToQueueTextAnalysis(e,t,s,r,translate.ignore.text[l],translate.ignore.text[l]));if(typeof translate.temp_nomenclature>"u"&&(translate.temp_nomenclature=new Array),typeof translate.temp_nomenclature[translate.language.getLocal()]>"u"&&(c=new Array),typeof translate.nomenclature.data[translate.language.getLocal()]<"u"&&typeof translate.nomenclature.data[translate.language.getLocal()][translate.to]<"u"){var c;for(var u in translate.nomenclature.data[translate.language.getLocal()][translate.to]){var d=translate.nomenclature.data[translate.language.getLocal()][translate.to][u];s=translate.addNodeToQueueTextAnalysis(e,t,s,r,u,d),typeof c<"u"&&c.push(u)}typeof translate.temp_nomenclature[translate.language.getLocal()]>"u"&&(translate.temp_nomenclature[translate.language.getLocal()]=c)}for(var f=0;f<s.length;f++)s[f].trim().length!=0&&(translate.ignore.text.indexOf(s[f].trim())>-1||typeof translate.temp_nomenclature[translate.language.getLocal()]<"u"&&translate.temp_nomenclature[translate.language.getLocal()].indexOf(s[f].trim())>-1||translate.addNodeToQueueAnalysis(e,t,s[f],r))}}},addNodeToQueueTextAnalysis:function(e,t,n,r,a,o){for(var s=new Array,l=0;l<n.length;l++){var c=n[l];if(c.trim()!=o.trim()){var u=c.indexOf(a);if(u>-1){if(a!=o){var d=u-o.length;d<0&&(d=0);var f=u+o.length;f>c.length&&(f=c.length);var m=c.substring(d,f);if(m.indexOf(o)>-1)continue}if(translate.language.wordBlankConnector(translate.to)){if(u>0){var _=c.charAt(u-1);/\s/.test(_)||(o=" "+o)}u+a.length<c.length&&(c.charAt(u+a.length),/\s/.test(_)||(o=o+" "))}a!=o&&translate.element.nodeAnalyse.set(t,a,o,r);for(var g=c.split(a),v=0;v<g.length;v++){var b=g[v];b.trim().length!=0&&(n.push(b),s.push(c))}}}}if(s.length>0)for(var y=0;y<s.length;y++){let S=n.indexOf(s[y]);S>-1&&n.splice(S,1)}return n},addNodeToQueueAnalysis:function(e,t,n,r){var a=translate.language.recognition(n),o=a.languageArray;typeof o[translate.to]<"u"&&delete o[translate.to];var s=translate.whole.isWhole(t);if(s){var l=a.languageName;translate.addNodeQueueItem(e,t,n,r,l,"","")}else for(var l in o)for(var c=0;c<o[l].list.length;c++)if(!(typeof o[l].list[c]>"u"||typeof o[l].list[c].text>"u")){var u=o[l].list[c].text,d=o[l].list[c].beforeText,f=o[l].list[c].afterText;translate.addNodeQueueItem(e,t,u,r,l,d,f)}},addNodeQueueItem:function(e,t,n,r,a,o,s){(translate.nodeQueue[e].list[a]==null||typeof translate.nodeQueue[e].list[a]>"u")&&(translate.nodeQueue[e].list[a]=new Array);var l=translate.util.hash(n);(translate.nodeQueue[e].list[a][l]==null||typeof translate.nodeQueue[e].list[a][l]>"u")&&(translate.nodeQueue[e].list[a][l]=new Array,translate.nodeQueue[e].list[a][l].nodes=new Array,translate.nodeQueue[e].list[a][l].original=n,translate.nodeQueue[e].list[a][l].translateText=n);var c=!1;if(typeof t.isSameNode<"u"){for(var u=0;u<translate.nodeQueue[e].list[a][l].nodes.length;u++)if(t.isSameNode(translate.nodeQueue[e].list[a][l].nodes[u].node)){c=!0;continue}}if(!c){var d=translate.nodeQueue[e].list[a][l].nodes.length;translate.nodeQueue[e].list[a][l].nodes[d]=new Array,translate.nodeQueue[e].list[a][l].nodes[d].node=t,translate.nodeQueue[e].list[a][l].nodes[d].attribute=r,translate.nodeQueue[e].list[a][l].nodes[d].beforeText=o,translate.nodeQueue[e].list[a][l].nodes[d].afterText=s}},whole:{isEnableAll:!1,enableAll:function(){translate.whole.isEnableAll=!0},class:[],tag:[],id:[],executeTip:function(){translate.whole.class.length==0&&translate.whole.tag.length==0&&translate.whole.id.length==0||console.log("您开启了 translate.whole 此次行为避开了浏览器端的文本语种自动识别，而是暴力的直接对某个元素的整个文本进行翻译，很可能会产生非常大的翻译量，请谨慎！有关每日翻译字符的说明，可参考： http://translate.zvo.cn/42557.html "),translate.whole.tag.indexOf("html")>-1&&console.log("自检发现您设置了 translate.whole.tag 其中有 html ，这个是不生效的，最大只允许设置到 body ")},isWhole:function(e){if(translate.whole.class.length==0&&translate.whole.tag.length==0&&translate.whole.id.length==0&&translate.whole.isEnableAll==!1||e==null||typeof e>"u")return!1;if(translate.whole.isEnableAll)return!0;for(var t=e,n=100;n-- >0;){if(t==null||typeof t>"u")return!1;var r=translate.element.getNodeName(t).toLowerCase();if(r.length>0){if(r=="html"||r=="#document")return!1;if(translate.whole.tag.indexOf(r)>-1)return!0}if(t.className!=null){var a=t.className;if(a==null||typeof a!="string")continue;a=a.trim().split(" ");for(var o=0;o<a.length;o++)if(a[o]!=null&&a[o].trim().length>0&&translate.whole.class.indexOf(a[o])>-1)return!0}if(t.id!=null&&typeof t.id<"u"&&translate.whole.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1}},language:{englishVarietys:["french","italian","deutsch"],local:"",translateLocal:!1,translateLanguagesRange:[],setLocal:function(e){translate.useVersion="v2",translate.language.local=e},getLocal:function(){return(translate.language.local==null||translate.language.local.length<1)&&translate.language.autoRecognitionLocalLanguage(),translate.language.local},getCurrent:function(){var e=translate.storage.get("to");return e!=null&&typeof e<"u"&&e.length>0?e:translate.language.getLocal()},setDefaultTo:function(e){var t=translate.storage.get("to");t!=null&&typeof t<"u"&&t.length>0||(translate.storage.set("to",e),translate.to=e)},clearCacheLanguage:function(){translate.to="",translate.storage.set("to","")},setUrlParamControl:function(e){(typeof e>"u"||e.length<1)&&(e="language");var t=translate.util.getUrlParam(e);typeof t>"u"||t==""||t=="null"||t=="undefined"||(translate.storage.set("to",t),translate.to=t)},autoRecognitionLocalLanguage:function(){if(!(translate.language.local!=null&&translate.language.local.length>2)){var e=document.body.outerText;if(e==null||typeof e>"u"||e.length<1){translate.language.local="chinese_simplified";return}e=e.replace(/\n|\t|\r/g,""),translate.language.local="chinese_simplified";var t=translate.language.recognition(e);return translate.language.local=t.languageName,translate.language.local}},get:function(e){for(var t=new Array,n=new Array,r=[],a=[],o=0;o<e.length;o++){var s=e.charAt(o),l=translate.language.getCharLanguage(s);l==""&&(l="unidentification");var c=translate.language.analyse(l,n,r,a,s);n=c.langStrs,typeof r.language<"u"&&(a.language=r.language,a.charstr=r.charstr,a.storage_language=r.storage_language),r.language=c.storage_language,r.charstr=s,r.storage_language=c.storage_language,t.push(l)}return typeof n.unidentification<"u"&&delete n.unidentification,typeof n.specialCharacter<"u"&&delete n.specialCharacter,typeof n.number<"u"&&delete n.number,n},recognition:function(e){var t=translate.language.get(e),n=[],r=[],a=0;for(var o in t)if(typeof t[o]=="object"){for(var s=0,l=0;l<t[o].length;l++)s=s+t[o][l].text.length;a=a+s,n[o]=s,r[o]=s}var c=[];for(var u in n)n[u]/a>.01&&(c[c.length]=u+"");if(c.length>1&&c.indexOf("english")>-1)if(c.indexOf("romance")>-1){var d=translate.language.romanceSentenceAnaly(e);d.length==0?console.log("语种识别异常，应该是 法语、西班牙语、葡萄牙语、意大利语 中的一种才是，除非是除了这四种语种之外的别的 罗曼语族 中的语种，当前已将 "+e+"识别为英语。 你可以联系我们求助 https://translate.zvo.cn/4030.html"):(n[d]=n.romance+n.english,n.english=0)}else n.english=0;c.indexOf("chinese_simplified")>-1&&c.indexOf("chinese_traditional")>-1&&(n.chinese_simplified=0);var f="",m=0;for(var u in n)n[u]>m&&(f=u,m=n[u]);var _={};for(var u in t)_[u]={},_[u].number=r[u],_[u].list=t[u];var g={languageName:f,languageArray:_};if(g.languageName=="english"){var v=translate.language.getLocal();translate.language.englishVarietys.indexOf(v)>-1&&(g.languageName=v)}return g},getCharLanguage:function(e){if(e==null||typeof e>"u")return"";if(this.russian(e))return"russian";if(this.english(e))return"english";if(this.romance(e))return"romance";if(this.specialCharacter(e))return"specialCharacter";if(this.number(e))return"number";var t=this.chinese(e);return t=="simplified"?"chinese_simplified":t=="traditional"?"chinese_traditional":this.japanese(e)?"japanese":this.korean(e)?"korean":""},analyse:function(e,t,n,r,a){typeof t[e]>"u"&&(t[e]=new Array);var o=0;typeof n.storage_language>"u"||(translate.language.connector(a)&&(e=n.storage_language),n.storage_language==e?o=t[e].length-1:o=t[e].length),typeof t[e][o]>"u"&&(t[e][o]=new Array,t[e][o].beforeText="",t[e][o].afterText="",t[e][o].text=""),t[e][o].text=t[e][o].text+a,translate.language.wordBlankConnector(translate.language.getLocal())==!1&&translate.language.wordBlankConnector(translate.to)&&n.storage_language!=null&&typeof n.storage_language<"u"&&n.storage_language.length>0&&n.storage_language!="specialCharacter"&&(translate.language.wordBlankConnector(n.storage_language)==!1&&translate.language.wordBlankConnector(e)?t[n.storage_language][t[n.storage_language].length-1].afterText=" ":n.storage_language=="english"&&e!="english"&&(t[e][o].beforeText=" "));var s=new Array;return s.langStrs=t,s.storage_language=e,s},connector:function(e){return!!(/.*[\u0020\u00A0\u202F\u205F\u3000]+.*$/.test(e)||/.*[\u0030-\u0039]+.*$/.test(e)||/.*[\u0021\u0022\u0023\u0024\u0025\u0026\u0027\u002C\u002D\u002E\u003A\u003B\u003F\u0040]+.*$/.test(e)||/.*[\u3002\uFF1F\uFF01\uFF0C\u3001\uFF1B\uFF1A\u300C\u300D\u300E\u300F\u2018\u2019\u201C\u201D\uFF08\uFF09\u3014\u3015\u3010\u3011\u2014\u2026\u2013\uFF0E\u300A\u300B\u3008\u3009\u00b7]+.*$/.test(e))},wordBlankConnector:function(e){if(e==null||typeof e>"u")return!0;switch(e.trim().toLowerCase()){case"chinese_simplified":return!1;case"chinese_traditional":return!1;case"korean":return!1;case"japanese":return!1}return!0},chinese_traditional_dict:"皚藹礙愛翺襖奧壩罷擺敗頒辦絆幫綁鎊謗剝飽寶報鮑輩貝鋇狽備憊繃筆畢斃閉邊編貶變辯辮鼈癟瀕濱賓擯餅撥缽鉑駁蔔補參蠶殘慚慘燦蒼艙倉滄廁側冊測層詫攙摻蟬饞讒纏鏟産闡顫場嘗長償腸廠暢鈔車徹塵陳襯撐稱懲誠騁癡遲馳恥齒熾沖蟲寵疇躊籌綢醜櫥廚鋤雛礎儲觸處傳瘡闖創錘純綽辭詞賜聰蔥囪從叢湊竄錯達帶貸擔單鄲撣膽憚誕彈當擋黨蕩檔搗島禱導盜燈鄧敵滌遞締點墊電澱釣調諜疊釘頂錠訂東動棟凍鬥犢獨讀賭鍍鍛斷緞兌隊對噸頓鈍奪鵝額訛惡餓兒爾餌貳發罰閥琺礬釩煩範販飯訪紡飛廢費紛墳奮憤糞豐楓鋒風瘋馮縫諷鳳膚輻撫輔賦複負訃婦縛該鈣蓋幹趕稈贛岡剛鋼綱崗臯鎬擱鴿閣鉻個給龔宮鞏貢鈎溝構購夠蠱顧剮關觀館慣貫廣規矽歸龜閨軌詭櫃貴劊輥滾鍋國過駭韓漢閡鶴賀橫轟鴻紅後壺護滬戶嘩華畫劃話懷壞歡環還緩換喚瘓煥渙黃謊揮輝毀賄穢會燴彙諱誨繪葷渾夥獲貨禍擊機積饑譏雞績緝極輯級擠幾薊劑濟計記際繼紀夾莢頰賈鉀價駕殲監堅箋間艱緘繭檢堿鹼揀撿簡儉減薦檻鑒踐賤見鍵艦劍餞漸濺澗漿蔣槳獎講醬膠澆驕嬌攪鉸矯僥腳餃繳絞轎較稭階節莖驚經頸靜鏡徑痙競淨糾廄舊駒舉據鋸懼劇鵑絹傑潔結誡屆緊錦僅謹進晉燼盡勁荊覺決訣絕鈞軍駿開凱顆殼課墾懇摳庫褲誇塊儈寬礦曠況虧巋窺饋潰擴闊蠟臘萊來賴藍欄攔籃闌蘭瀾讕攬覽懶纜爛濫撈勞澇樂鐳壘類淚籬離裏鯉禮麗厲勵礫曆瀝隸倆聯蓮連鐮憐漣簾斂臉鏈戀煉練糧涼兩輛諒療遼鐐獵臨鄰鱗凜賃齡鈴淩靈嶺領餾劉龍聾嚨籠壟攏隴樓婁摟簍蘆盧顱廬爐擄鹵虜魯賂祿錄陸驢呂鋁侶屢縷慮濾綠巒攣孿灤亂掄輪倫侖淪綸論蘿羅邏鑼籮騾駱絡媽瑪碼螞馬罵嗎買麥賣邁脈瞞饅蠻滿謾貓錨鉚貿麽黴沒鎂門悶們錳夢謎彌覓綿緬廟滅憫閩鳴銘謬謀畝鈉納難撓腦惱鬧餒膩攆撚釀鳥聶齧鑷鎳檸獰甯擰濘鈕紐膿濃農瘧諾歐鷗毆嘔漚盤龐國愛賠噴鵬騙飄頻貧蘋憑評潑頗撲鋪樸譜臍齊騎豈啓氣棄訖牽扡釺鉛遷簽謙錢鉗潛淺譴塹槍嗆牆薔強搶鍬橋喬僑翹竅竊欽親輕氫傾頃請慶瓊窮趨區軀驅齲顴權勸卻鵲讓饒擾繞熱韌認紉榮絨軟銳閏潤灑薩鰓賽傘喪騷掃澀殺紗篩曬閃陝贍繕傷賞燒紹賒攝懾設紳審嬸腎滲聲繩勝聖師獅濕詩屍時蝕實識駛勢釋飾視試壽獸樞輸書贖屬術樹豎數帥雙誰稅順說碩爍絲飼聳慫頌訟誦擻蘇訴肅雖綏歲孫損筍縮瑣鎖獺撻擡攤貪癱灘壇譚談歎湯燙濤縧騰謄銻題體屜條貼鐵廳聽烴銅統頭圖塗團頹蛻脫鴕馱駝橢窪襪彎灣頑萬網韋違圍爲濰維葦偉僞緯謂衛溫聞紋穩問甕撾蝸渦窩嗚鎢烏誣無蕪吳塢霧務誤錫犧襲習銑戲細蝦轄峽俠狹廈鍁鮮纖鹹賢銜閑顯險現獻縣餡羨憲線廂鑲鄉詳響項蕭銷曉嘯蠍協挾攜脅諧寫瀉謝鋅釁興洶鏽繡虛噓須許緒續軒懸選癬絢學勳詢尋馴訓訊遜壓鴉鴨啞亞訝閹煙鹽嚴顔閻豔厭硯彥諺驗鴦楊揚瘍陽癢養樣瑤搖堯遙窯謠藥爺頁業葉醫銥頤遺儀彜蟻藝億憶義詣議誼譯異繹蔭陰銀飲櫻嬰鷹應纓瑩螢營熒蠅穎喲擁傭癰踴詠湧優憂郵鈾猶遊誘輿魚漁娛與嶼語籲禦獄譽預馭鴛淵轅園員圓緣遠願約躍鑰嶽粵悅閱雲鄖勻隕運蘊醞暈韻雜災載攢暫贊贓髒鑿棗竈責擇則澤賊贈紮劄軋鍘閘詐齋債氈盞斬輾嶄棧戰綻張漲帳賬脹趙蟄轍鍺這貞針偵診鎮陣掙睜猙幀鄭證織職執紙摯擲幟質鍾終種腫衆謅軸皺晝驟豬諸誅燭矚囑貯鑄築駐專磚轉賺樁莊裝妝壯狀錐贅墜綴諄濁茲資漬蹤綜總縱鄒詛組鑽緻鐘麼為隻兇準啟闆裡靂餘鍊",chinese:function(e){return/.*[\u4e00-\u9fa5]+.*$/.test(e)?this.chinese_traditional_dict.indexOf(e)>-1?"traditional":"simplified":""},japanese:function(e){return!!/.*[\u3040-\u309F\u30A0-\u30FF]+.*$/.test(e)},korean:function(e){return!!/.*[\uAC00-\uD7AF]+.*$/.test(e)},russian:function(e){return!!/.*[\u0411\u0412\u0414\u0416\u0417\u0418\u0419\u041B\u041C\u041D\u041E\u041F\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042E\u042F\u0407\u0406]+.*$/.test(e)},number:function(e){return!!/.*[\u0030-\u0039]+.*$/.test(e)},english:function(e){return/.*[\u0041-\u005a]+.*$/.test(e)?!0:!!/.*[\u0061-\u007a]+.*$/.test(e)},romance_dict:["é","è","ê","à","ç","œ","ñ","á","ó","ò","ì","ã","õ"],romance:function(e){return this.romance_dict.indexOf(e)>-1},romanceSentenceAnaly:function(e){const t={french:{score:0,chars:["é","è","ê","à","ç","œ"]},spanish:{score:0,chars:["ñ","á","ó"],pairs:["ll"]},italian:{score:0,chars:["ò","ì"],pairs:["cc","ss"]},portuguese:{score:0,chars:["ã","õ"]}};for(let a=0;a<e.length;a++){const o=e[a].toLowerCase();if(Object.keys(t).forEach(s=>{t[s].chars.includes(o)&&(t[s].score+=1)}),a<e.length-1){const s=e.slice(a,a+2).toLowerCase();Object.keys(t).forEach(l=>{const c=t[l].pairs;c&&c.includes(s)&&(t[l].score+=2)})}}let n="",r=-1;return Object.keys(t).forEach(a=>{t[a].score>r&&(r=t[a].score,n=a)}),n||""},specialCharacter:function(e){return!!(/.*[\u2460-\u24E9]+.*$/.test(e)||/.*[\u2500-\u25FF]+.*$/.test(e)||/.*[\u3200-\u33FF]+.*$/.test(e)||/.*[\uFF00-\uFF5E]+.*$/.test(e)||/.*[\u2000-\u22FF]+.*$/.test(e)||/.*[\u3001-\u3036]+.*$/.test(e)||/.*[\u0020-\u002F]+.*$/.test(e)||/.*[\u003B\u003B\u003C\u003D\u003E\u003F\u005B\u005C\u005D\u005E\u005F\u0060\u007B\u007C\u007D\u007E]+.*$/.test(e)||/.*[\u0009\u000a\u0020\u00A0\u1680\u180E\u202F\u205F\u3000\uFEFF]+.*$/.test(e)||/.*[\u2000-\u200B]+.*$/.test(e)||/.*[\u00A1-\u0105]+.*$/.test(e)||/.*[\u2C60-\u2C77]+.*$/.test(e))}},executeByLocalLanguage:function(){var e=translate.util.browserDefaultLanguage();if(typeof e<"u"&&e.length>0){translate.changeLanguage(e);return}translate.request.post(translate.request.api.ip,{},function(t){t.result==0?(console.log("==== ERROR 获取当前用户所在区域异常 ===="),console.log(t.info),console.log("==== ERROR END ====")):(translate.storage.set("to",t.language),translate.to=t.language,translate.selectLanguageTag,translate.execute())},null)},util:{uuid:function(){var e=new Date().getTime();window.performance&&typeof window.performance.now=="function"&&(e+=performance.now());var t="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n=="x"?r:r&3|8).toString(16)});return t},findTag:function(e){var t=/<[^>]+>/g;return t.test(e)},arrayFindMaxNumber:function(e){for(var t={},n=[],r=0,a=0,o=e.length;a<o;a++)t[e[a]]?t[e[a]]++:t[e[a]]=1,t[e[a]]>r&&(r=t[e[a]]);for(var s in t)t[s]===r&&n.push(s);return n},hash:function(e){if(e==null||typeof e>"u")return e;var t=0,n,r;if(e.length===0)return t;for(n=0;n<e.length;n++)r=e.charCodeAt(n),t=(t<<5)-t+r,t|=0;return t+""},charReplace:function(e){return e==null?"":(e=e.trim(),e=e.replace(/\t|\n|\v|\r|\f/g,""),e)},regExp:{pattern:function(e){return e=e.replace(/\\/g,"\\\\"),e=e.replace(/\"/g,'\\"'),e=e.replace(/\?/g,"\\?"),e=e.replace(/\$/g,"\\$"),e=e.replace(/\(/g,"\\("),e=e.replace(/\)/g,"\\)"),e=e.replace(/\|/g,"\\|"),e=e.replace(/\+/g,"\\+"),e=e.replace(/\*/g,"\\*"),e=e.replace(/\[/g,"\\["),e=e.replace(/\]/g,"\\]"),e=e.replace(/\^/g,"\\^"),e=e.replace(/\{/g,"\\{"),e=e.replace(/\}/g,"\\}"),e},resultText:function(e){return e}},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return n!=null?unescape(n[2]):""},synchronizesLoadJs:function(e){var t=null;if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch{t=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(t=new XMLHttpRequest);if(t.open("GET",e,!1),t.send(null),t.readyState==4)if(t.status>=200&&t.status<300||t.status==0||t.status==304){var n=document.getElementsByTagName("HTML")[0],r=document.createElement("script");r.language="javascript",r.type="text/javascript";try{r.appendChild(document.createTextNode(t.responseText))}catch{r.text=t.responseText}return n.appendChild(r),!0}else return!1;else return!1},loadMsgJs:function(){typeof msg<"u"||translate.util.synchronizesLoadJs("https://res.zvo.cn/msg/msg.js")},objSort:function(e){var t=Array.from(Object.keys(e));t.sort(function(a,o){return o.length-a.length});var n=new Array;for(var r of t)n[r]=e[r];return n},versionStringToInt:function(e){var t=e.split("."),n=0;return n=parseInt(t[0])*1e3*1e3+n,n=parseInt(t[1])*1e3+n,n=parseInt(t[2])+n,n},split:function(e,t,n){let r=t,a=[];if(JSON.stringify(e).length<=t)a.push(e);else{let o=JSON.stringify(e).trim().substring(1,JSON.stringify(e).length-1);if(JSON.stringify(e).length-t<=2){t=t-4;let s=o.substring(0,o.lastIndexOf('","')+1),l=o.substring(o.lastIndexOf('","')+2);a.push(JSON.parse("["+s+"]")),a.push(JSON.parse("["+l+"]"))}else{t=t-2;let s=0;for(;s-o.length<0;){let l="";s+t-o.length>=0?l=o.substring(s):l=o.substring(s,s+t);let c=l.length,u=1;l.endsWith('"')?l.endsWith('","')?c-=2:l.startsWith('"')||(c=l.lastIndexOf('","')+1):l.endsWith('",')?c-=1:(c=l.lastIndexOf('","')+1,c<=0&&(l.startsWith('"')?c=l.length-1:c=l.length-2,l.endsWith('"')||(u=0)));let d="";c-l.length>0||c-0==0?(d=l,c=c+d.length):d=l.substring(0,c),!d.startsWith('"')&&!d.startsWith(',"')&&(d='"'+d),d.endsWith('"')||(d=d+'"'),s+=c+u,d="["+d+"]";try{a.push(JSON.parse(d))}catch{s=s-(c+u)+1}}}}return n&&n>0&&(a=translate.util._splitMaxSize(a,r,n)),a},_splitMaxSize:function(e,t,n){let r=[],a=[];if(e.forEach(function(o,s){if(o=a.concat(o),o.length>n){let c=o.slice(0,n),u=o.slice(n),d=1;for(;JSON.stringify(c).length>t&&(c=o.slice(0,n-d),u=o.slice(n-d),d++,!(d>=o.length+1)););r.push(c),a.length=0,a=u}else{let c=o,u=[],d=1;for(;JSON.stringify(c).length>t&&(c=o.slice(0,n-d),u=o.slice(n-d),d++,!(d>=o.length+1)););r.push(c),a.length=0,a=u}}),a.length>0){let o=[];o.push(a);let s=translate.util._splitMaxSize(o,t,n);r=r.concat(s)}return r},browserLanguage:{"zh-CN":"chinese_simplified","zh-TW":"chinese_traditional","zh-HK":"chinese_traditional",co:"corsican",gn:"guarani",rw:"kinyarwanda",ha:"hausa",no:"norwegian",nl:"dutch",yo:"yoruba",en:"english","en-US":"english",kok:"gongen",la:"latin",ne:"nepali",fr:"french",cs:"czech",haw:"hawaiian",ka:"georgian",ru:"russian",fa:"persian",bho:"bhojpuri",hi:"hindi",be:"belarusian",sw:"swahili",is:"icelandic",yi:"yiddish",tw:"twi",ga:"irish",gu:"gujarati",km:"khmer",sk:"slovak",he:"hebrew",kn:"kannada",hu:"hungarian",ta:"tamil",ar:"arabic",bn:"bengali",az:"azerbaijani",sm:"samoan",af:"afrikaans",id:"indonesian",da:"danish",sn:"shona",bm:"bambara",lt:"lithuanian",vi:"vietnamese",mt:"maltese",tk:"turkmen",as:"assamese",ca:"catalan",si:"singapore",ceb:"cebuano",gd:"scottish-gaelic",sa:"sanskrit",pl:"polish",gl:"galician",lv:"latvian",uk:"ukrainian",tt:"tatar",cy:"welsh",ja:"japanese",fil:"filipino",ay:"aymara",lo:"lao",te:"telugu",ro:"romanian",ht:"haitian_creole",doi:"dogrid",sv:"swedish",mai:"maithili",th:"thai",hy:"armenian",my:"burmese",ps:"pashto",hmn:"hmong",dv:"dhivehi",lb:"luxembourgish",sd:"sindhi",ku:"kurdish",tr:"turkish",mk:"macedonian",bg:"bulgarian",ms:"malay",lg:"luganda",mr:"marathi",et:"estonian",ml:"malayalam",de:"deutsch",sl:"slovene",ur:"urdu",pt:"portuguese",ig:"igbo",ckb:"kurdish_sorani",om:"oromo",el:"greek",es:"spanish",fy:"frisian",so:"somali",am:"amharic",ny:"nyanja",pa:"punjabi",eu:"basque",it:"italian",sq:"albanian",ko:"korean",tg:"tajik",fi:"finnish",ky:"kyrgyz",ee:"ewe",hr:"croatian",kri:"creole",qu:"quechua",bs:"bosnian",mi:"maori"},browserDefaultLanguage:function(){var e=navigator.language||navigator.userLanguage;if(typeof e=="string"&&e.length>0){var t=translate.util.browserLanguage[e];if(typeof t>"u")console.log("browser default language : "+e+", translate.js current translate channel not support this language ");else return t}return""}},service:{name:"translate.service",use:function(e){if(translate.enterprise.isUse==!0){console.log("您已启用了企业级翻译通道 translate.enterprise.use(); (文档：https://translate.zvo.cn/4087.html) , 所以您设置的 translate.service.use('"+e+"'); (文档：https://translate.zvo.cn/4081.html) 将失效不起作用，有企业级翻译通道全部接管。");return}typeof e=="string"&&e=="client.edge"&&(translate.service.name=e,translate.whole.enableAll())},edge:{api:{auth:"https://edge.microsoft.com/translate/auth",translate:"https://api.cognitive.microsofttranslator.com/translate?from={from}&to={to}&api-version=3.0&includeSentenceLength=true"},language:{json:[{id:"ukrainian",name:"Україна",serviceId:"uk"},{id:"norwegian",name:"Norge",serviceId:"no"},{id:"welsh",name:"Iaith Weleg",serviceId:"cy"},{id:"dutch",name:"nederlands",serviceId:"nl"},{id:"japanese",name:"日本語",serviceId:"ja"},{id:"filipino",name:"Pilipino",serviceId:"fil"},{id:"english",name:"English",serviceId:"en"},{id:"lao",name:"ກະຣຸນາ",serviceId:"lo"},{id:"telugu",name:"తెలుగుName",serviceId:"te"},{id:"romanian",name:"Română",serviceId:"ro"},{id:"nepali",name:"नेपालीName",serviceId:"ne"},{id:"french",name:"Français",serviceId:"fr"},{id:"haitian_creole",name:"Kreyòl ayisyen",serviceId:"ht"},{id:"czech",name:"český",serviceId:"cs"},{id:"swedish",name:"Svenska",serviceId:"sv"},{id:"russian",name:"Русский язык",serviceId:"ru"},{id:"malagasy",name:"Malagasy",serviceId:"mg"},{id:"burmese",name:"ဗာရမ်",serviceId:"my"},{id:"pashto",name:"پښتوName",serviceId:"ps"},{id:"thai",name:"คนไทย",serviceId:"th"},{id:"armenian",name:"Արմենյան",serviceId:"hy"},{id:"chinese_simplified",name:"简体中文",serviceId:"zh-CHS"},{id:"persian",name:"Persian",serviceId:"fa"},{id:"chinese_traditional",name:"繁體中文",serviceId:"zh-CHT"},{id:"kurdish",name:"Kurdî",serviceId:"ku"},{id:"turkish",name:"Türkçe",serviceId:"tr"},{id:"hindi",name:"हिन्दी",serviceId:"hi"},{id:"bulgarian",name:"български",serviceId:"bg"},{id:"malay",name:"Malay",serviceId:"ms"},{id:"swahili",name:"Kiswahili",serviceId:"sw"},{id:"oriya",name:"ଓଡିଆ",serviceId:"or"},{id:"icelandic",name:"ÍslandName",serviceId:"is"},{id:"irish",name:"Íris",serviceId:"ga"},{id:"khmer",name:"ភាសា​ខ្មែរName",serviceId:"km"},{id:"gujarati",name:"ગુજરાતી",serviceId:"gu"},{id:"slovak",name:"Slovenská",serviceId:"sk"},{id:"kannada",name:"ಕನ್ನಡ್Name",serviceId:"kn"},{id:"hebrew",name:"היברית",serviceId:"he"},{id:"hungarian",name:"magyar",serviceId:"hu"},{id:"marathi",name:"मराठीName",serviceId:"mr"},{id:"tamil",name:"தாமில்",serviceId:"ta"},{id:"estonian",name:"eesti keel",serviceId:"et"},{id:"malayalam",name:"മലമാലം",serviceId:"ml"},{id:"inuktitut",name:"ᐃᓄᒃᑎᑐᑦ",serviceId:"iu"},{id:"arabic",name:"بالعربية",serviceId:"ar"},{id:"deutsch",name:"Deutsch",serviceId:"de"},{id:"slovene",name:"slovenščina",serviceId:"sl"},{id:"bengali",name:"বেঙ্গালী",serviceId:"bn"},{id:"urdu",name:"اوردو",serviceId:"ur"},{id:"azerbaijani",name:"azerbaijani",serviceId:"az"},{id:"portuguese",name:"português",serviceId:"pt"},{id:"samoan",name:"lifiava",serviceId:"sm"},{id:"afrikaans",name:"afrikaans",serviceId:"af"},{id:"tongan",name:"汤加语",serviceId:"to"},{id:"greek",name:"ελληνικά",serviceId:"el"},{id:"indonesian",name:"IndonesiaName",serviceId:"id"},{id:"spanish",name:"Español",serviceId:"es"},{id:"danish",name:"dansk",serviceId:"da"},{id:"amharic",name:"amharic",serviceId:"am"},{id:"punjabi",name:"ਪੰਜਾਬੀName",serviceId:"pa"},{id:"albanian",name:"albanian",serviceId:"sq"},{id:"lithuanian",name:"Lietuva",serviceId:"lt"},{id:"italian",name:"italiano",serviceId:"it"},{id:"vietnamese",name:"Tiếng Việt",serviceId:"vi"},{id:"korean",name:"한국어",serviceId:"ko"},{id:"maltese",name:"Malti",serviceId:"mt"},{id:"finnish",name:"suomi",serviceId:"fi"},{id:"catalan",name:"català",serviceId:"ca"},{id:"croatian",name:"hrvatski",serviceId:"hr"},{id:"bosnian",name:"bosnian",serviceId:"bs-Latn"},{id:"polish",name:"Polski",serviceId:"pl"},{id:"latvian",name:"latviešu",serviceId:"lv"},{id:"maori",name:"Maori",serviceId:"mi"}],getMap:function(){if(typeof translate.service.edge.language.map>"u"){translate.service.edge.language.map=new Array;for(var e=0;e<translate.service.edge.language.json.length;e++){var t=translate.service.edge.language.json[e];translate.service.edge.language.map[t.id]=t.serviceId}}return translate.service.edge.language.map}},translate:function(e,t,n,r){var a=JSON.parse(decodeURIComponent(t.text));let o=translate.util.split(a,4e4,900);translate.request.send(translate.service.edge.api.auth,{},function(s){for(var l=translate.service.edge.language.getMap()[t.from],c=translate.service.edge.language.getMap()[t.to],u=translate.service.edge.api.translate.replace("{from}",l).replace("{to}",c),d=0;d<o.length;d++){for(var f=[],m=0;m<o[d].length;m++)f.push({Text:o[d][m]});translate.request.send(u,JSON.stringify(f),function(_){var g={};g.info="SUCCESS",g.result=1,g.from=t.from,g.to=t.to,g.text=[];for(var v=0;v<_.length;v++)g.text.push(_[v].translations[0].text);if(o.length>1){for(var b=-1,y=0;y<o.length;y++)if(o[y].length-g.text.length==0){b=y;break}b<0&&(console.log("------ERROR--------"),console.log("翻译内容过多，进行拆分，但拆分判断出现异常，currentIndex：-1 请联系 http://translate.zvo.cn/43006.html 说明"));for(var S=0;S<b;S++)for(var N=o[S].length,x=0;x<N;x++)g.text.unshift(null);for(var C=o.length-1;C>b;C--)for(var B=o[C].length,x=0;x<B;x++)g.text.push(null)}n(g)},"post",!0,{Authorization:"Bearer "+s,"Content-Type":"application/json"},r,!0)}},"get",!0,{"content-type":"application/x-www-form-urlencoded"},function(s){console.log("---------error--------"),console.log("edge translate service error, http code : "+s.status+", response text : "+s.responseText)},!0)}}},request:{api:{host:["https://api.translate.zvo.cn/","https://america.api.translate.zvo.cn/"],language:"language.json",translate:"translate.json",ip:"ip.json",connectTest:"connectTest.json",init:"init.json"},response:function(e){},speedDetectionControl:{hostMasterNodeCutTime:2e3,hostQueue:[],hostQueueIndex:-1,disableTime:1e6,getHostQueue:function(){if(translate.request.speedDetectionControl.hostQueue.length==0){var e=translate.storage.get("speedDetectionControl_hostQueue");if(e==null||typeof e>"u"){typeof translate.request.api.host=="string"&&(translate.request.api.host=[""+translate.request.api.host]),translate.request.speedDetectionControl.hostQueue=[];for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.hostQueue[t]={host:n,time:0}}}else translate.request.speedDetectionControl.hostQueue=JSON.parse(e);var r=translate.storage.get("speedDetectionControl_lasttime");(r==null||typeof r>"u")&&(r=0);var a=6e4;new Date().getTime()-r>a&&translate.request.speedDetectionControl.checkResponseSpeed()}return translate.request.speedDetectionControl.hostQueue},checkResponseSpeed_Storage:function(e,t){translate.request.speedDetectionControl.checkHostQueue.push({host:e,time:t}),translate.request.speedDetectionControl.checkHostQueue.sort((n,r)=>n.time-r.time),translate.storage.set("speedDetectionControl_hostQueue",JSON.stringify(translate.request.speedDetectionControl.checkHostQueue)),translate.storage.set("speedDetectionControl_lasttime",new Date().getTime()),translate.request.speedDetectionControl.hostQueue=translate.request.speedDetectionControl.checkHostQueue},checkResponseSpeed:function(){var e={"content-type":"application/x-www-form-urlencoded"};translate.request.speedDetectionControl.checkHostQueue=[],translate.request.speedDetectionControl.checkHostQueueMap=[],typeof translate.request.api.host=="string"&&(translate.request.api.host=[""+translate.request.api.host]);for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.checkHostQueueMap[n]={start:new Date().getTime()};try{translate.request.send(n+translate.request.api.connectTest,{host:n},function(r){var a=r.info,o=translate.request.speedDetectionControl.checkHostQueueMap[a],s=new Date().getTime()-o.start;translate.request.api.host[0]==a&&(s=s-translate.request.speedDetectionControl.hostMasterNodeCutTime,s<0&&(s=0)),translate.request.speedDetectionControl.checkResponseSpeed_Storage(a,s)},"post",!0,e,function(r){var a=r.requestURL.replace("connectTest.json","");translate.request.speedDetectionControl.checkResponseSpeed_Storage(a,translate.request.speedDetectionControl.disableTime)},!1)}catch(r){console.log(r)}}},getHostQueueIndex:function(){if(translate.request.speedDetectionControl.hostQueueIndex<0){var e=translate.storage.get("speedDetectionControl_hostQueueIndex");typeof e>"u"||e==null?(translate.request.speedDetectionControl.hostQueueIndex=0,translate.storage.set("speedDetectionControl_hostQueueIndex",0)):translate.request.speedDetectionControl.hostQueueIndex=e}return translate.request.speedDetectionControl.hostQueueIndex},getHost:function(){var e=translate.request.speedDetectionControl.getHostQueue(),t=translate.request.speedDetectionControl.getHostQueueIndex();return e.length>t||(console.log("异常，下标越界了！index："+t),t=e.length-1),e[t].host}},getUrl:function(e){var t=translate.request.speedDetectionControl.getHost(),n=t+e+"?v="+translate.version;return n},post:function(e,t,n,r){var a={"content-type":"application/x-www-form-urlencoded"};if(!(typeof t>"u")){if(translate.enterprise.automaticAdaptationService(),translate.request.getUrl(e),translate.service.name=="client.edge"){if(e==translate.request.api.translate){translate.service.edge.translate(e,t,n,r);return}if(e==translate.request.api.language){var o={};o.info="SUCCESS",o.result=1,o.list=translate.service.edge.language.json,n(o);return}}this.send(e,t,n,"post",!0,a,r,!0)}},send:function(e,t,n,r,a,o,s,l){var c="";if((t==null||typeof t>"u")&&(t={}),typeof t=="string")c=t;else{t.browserDefaultLanguage=translate.util.browserDefaultLanguage(),typeof translate.enterprise.key<"u"&&typeof translate.enterprise.key=="string"&&translate.enterprise.key.length>0&&(t.key=translate.enterprise.key);for(var u in t)c.length>0&&(c=c+"&"),c=c+u+"="+t[u]}e.indexOf("https://")==0||e.indexOf("http://")==0||(e=translate.request.getUrl(e));var d=null;try{d=new XMLHttpRequest}catch{d=new ActiveXObject("Microsoft.XMLHTTP")}if(d.open(r,e,a),o!=null)for(var u in o)d.setRequestHeader(u,o[u]);return translate.service.name=="translate.service"&&d.setRequestHeader("currentpage",window.location.href+""),d.send(c),d.onreadystatechange=function(){if(d.readyState==4)if(translate.request.response(d),d.status==200){var f=null;if(!(typeof d.responseText>"u"||d.responseText==null)){if(d.responseText.indexOf("{")>-1&&d.responseText.indexOf("}")>-1)try{f=JSON.parse(d.responseText)}catch(m){console.log(m)}}f==null?n(d.responseText):n(f)}else l&&(e.indexOf(translate.request.api.connectTest)>-1||(translate.service.name=="translate.service"&&!translate.enterprise.isUse&&console.log(`----- translate.js 提示 -----
非常抱歉，translate.service 开源免费的翻译服务器当前并发及流量太大导致阻塞！
这个情况是时不时发生的，大概一天24小时可能会有一二十分钟这种情况，主要是因为使用量太大了，月使用量能超四十亿次，所以在高发时会出现这种情况。
解决这种情况可以有两种方案：
【方案一】：使用采用最新版本 3.8.0及更高版本，js引用文件为 https://cdn.staticfile.net/translate.js/3.8.0/translate.js 并且使用 client.edge 模式 （增加一行设置代码就好，可参考 https://translate.zvo.cn/4081.html ），这样就不会再出现这种情况了。这个是我们的 translate.service 通道阻塞导致，更换别的通道就可以避免这样了。而且这个方案也是完全免费的。 
【方案二】：采用企业级稳定翻译通道 ,但是这个相比于 方案一 来说，是有一定的收费的，大概一年600，这个就是专门为了高速及高稳定准备的，而相比于这个方案二，方案一则是全免费的。 因为方案二我们是部署了两个集群，而每个集群又下分了数个网络节点，包含中国大陆、香港、美国、欧洲、 等多个州，充分保障稳定、高效，同样也产生了不少成本，所以才需要付费。更多信息说明可以参考： http://translate.zvo.cn/4087.html 

-------------`),console.log("------- translate.js service api response error --------"),console.log("    http code : "+d.status),console.log("    response : "+d.response),console.log("    request url : "+e),console.log("    request data : "+JSON.stringify(t)),console.log("    request method : "+r),console.log("---------------------- end ----------------------"))),d.requestURL=e,s!=null&&s(d)},d},translateText:function(e,t){var n=new Array,r=translate.language.getLocal(),a=translate.language.getCurrent();if(typeof e=="string")n[0]=e;else{var o=Object.prototype.toString.call(e);if(o=="[object Array]")n=e;else if(o=="[object Object]")typeof e.texts>"u"&&console.log("translate.request.translateText 传入的值类型异常，因为你没有传入 obj.texts 要翻译的具体文本！ 请查阅文档： https://translate.zvo.cn/4077.html"),typeof e.texts=="string"?n=[e.texts]:n=e.texts,typeof e.from=="string"&&e.from.length>0&&(r=e.from),typeof e.to=="string"&&e.to.length>0&&(a=e.to);else{console.log("translate.request.translateText 传入的值类型错误，请查阅文档： https://translate.zvo.cn/4077.html");return}}var s=translate.request.api.translate,l={from:r,to:a,text:encodeURIComponent(JSON.stringify(n))};translate.request.post(s,l,function(c){c.result==0&&(console.log("=======ERROR START======="),console.log("from : "+c.from),console.log("to : "+c.to),console.log("translate text array : "+n),console.log("response : "+c.info),console.log("=======ERROR END  =======")),t(c)},null)},listener:{minIntervalTime:800,lasttime:0,executetime:0,delayExecuteTime:200,addExecute:function(){var e=Date.now();translate.request.listener.lasttime==0?(translate.request.listener.executetime=e,translate.request.listener.lasttime=1):translate.request.listener.executetime>1||(e<translate.request.listener.lasttime+translate.request.listener.minIntervalTime?translate.request.listener.executetime=translate.request.listener.lasttime+translate.request.listener.minIntervalTime:translate.request.listener.executetime=e)},trigger:function(e){return!0},start:function(){if(typeof translate.request.listener.isStart<"u")return;translate.request.listener.isStart=!0,setInterval(function(){var t=Date.now();if(translate.request.listener.executetime>1&&t>translate.request.listener.executetime+translate.request.listener.delayExecuteTime){translate.request.listener.executetime=0,translate.request.listener.lasttime=t;try{translate.execute()}catch(n){console.log(n)}}},100),new PerformanceObserver(t=>{for(var n=!1,r=0;r<t.getEntries().length;r++){var a=t.getEntries()[r];if(a.initiatorType==="fetch"||a.initiatorType==="xmlhttprequest"){var o=a.name;typeof translate.request.api.host=="string"&&(translate.request.api.host=[translate.request.api.host]);for(var s=!1,l=0;l<translate.request.api.host.length;l++)if(o.indexOf(translate.request.api.host[l])>-1){s=!0;break}if(o.indexOf(translate.service.edge.api.auth)>-1&&(s=!0),o.indexOf(".microsofttranslator.com/translate")>-1&&(s=!0),s||!translate.request.listener.trigger())continue;n=!0;break}}n&&translate.request.listener.addExecute()}).observe({type:"resource",buffered:!0})}}},storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},images:{queues:[],add:function(e){for(var t in e)translate.images.queues[t]=e[t]},execute:function(){if(!(Object.keys(translate.images.queues).length<1)){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t];if(!(typeof n.src>"u"||n.src==null||n.src.length==0)){var r=n.getAttribute("src");for(var a in translate.images.queues){var o=a,s=translate.images.queues[a];o==r&&(s=s.replace(new RegExp("{language}","g"),translate.to),n.src=s)}}}for(var l=document.getElementsByTagName("*"),t=0;t<l.length;t++){var c=l[t],u=window.getComputedStyle(c,null),d=u.backgroundImage;if(d!="none"){var f=translate.images.gainCssBackgroundUrl(d);if(typeof translate.images.queues[f]<"u"){var s=translate.images.queues[f];s=s.replace(new RegExp("{language}","g"),translate.to),c.style.backgroundImage='url("'+s+'")'}}}}},gainCssBackgroundUrl:function(e){var t=e.indexOf('"'),n=e.lastIndexOf('"');if(t!=-1&&n!=-1){var r=e.substring(t+1,n);return r}return e}},reset:function(){var e=translate.language.getCurrent();for(var t in translate.nodeQueue)for(var n in translate.nodeQueue[t].list)for(var r in translate.nodeQueue[t].list[n]){var a=translate.nodeQueue[t].list[n][r];for(var o in a.nodes){var s=translate.storage.get("hash_"+e+"_"+r);typeof s>"u"||s!=null&&s.length!=0&&translate.element.nodeAnalyse.analyse(a.nodes[o].node,s,a.original,a.nodes[o].node.attribute)}}translate.storage.set("to",""),translate.to=null,translate.selectLanguageTag.render()},selectionTranslate:{selectionX:0,selectionY:0,callTranslate:function(e){let t=window.getSelection();if(t.anchorOffset==t.focusOffset)return;let n=window.getSelection().toString();var r=translate.request.api.translate,a={from:translate.language.getLocal(),to:translate.to,text:encodeURIComponent(JSON.stringify([n]))};translate.request.post(r,a,function(o){if(o.result==0)return;let s=document.querySelector("#translateTooltip");s.innerText=o.text[0],s.style.top=selectionY+20+"px",s.style.left=selectionX+50+"px",s.style.display=""},null)},start:function(){let e=document.createElement("span");e.innerText="",e.setAttribute("id","translateTooltip"),e.setAttribute("style","background-color:black;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:999;top:150%;left:50%; "),document.body.appendChild(e),document.addEventListener("mousedown",t=>{selectionX=t.pageX,selectionY=t.pageY},!1),document.addEventListener("mouseup",translate.selectionTranslate.callTranslate,!1),document.addEventListener("click",t=>{document.querySelector("#translateTooltip").style.display="none"},!1)}},enterprise:{isUse:!1,use:function(){if(translate.enterprise.isUse=!0,translate.request.speedDetectionControl.hostMasterNodeCutTime=300,translate.request.api.host=["https://america-enterprise-api-translate.zvo.cn/","https://beijing.enterprise.api.translate.zvo.cn/","https://deutsch.enterprise.api.translate.zvo.cn/","https://america.api.translate.zvo.cn:666/","https://api.translate.zvo.cn:666/","https://api.translate.zvo.cn:888/"],translate.service.name=="client.edge"){translate.service.name="translate.service",console.log("您已启用了企业级翻译通道 translate.enterprise.use(); (文档：https://translate.zvo.cn/4087.html) , 所以您设置的 translate.service.use('client.edge'); (文档：https://translate.zvo.cn/4081.html) 将失效不起作用，有企业级翻译通道全部接管。");return}},automaticAdaptationService:function(){if(translate.enterprise.isUse){var e=translate.request.speedDetectionControl.getHostQueue();e.length>0&&e[0].time+1>translate.request.speedDetectionControl.disableTime&&(translate.service.name="client.edge")}},key:""},init:function(){if(!(typeof translate.init_execute<"u")){translate.init_execute="已进行";try{translate.request.send(translate.request.api.init,{},function(data){if(data.result==0){console.log("translate.js init 初始化异常："+data.info);return}else if(data.result==1){var newVersion=translate.util.versionStringToInt(data.version),currentVersion=translate.util.versionStringToInt(translate.version.replace("v",""));newVersion>currentVersion&&console.log("Tip : translate.js find new version : "+data.version)}else eval(data.info)},"post",!0,null,function(e){},!1)}catch(e){}}},progress:{api:{isTip:!0,setUITip:function(e){translate.progress.api.isTip=e},startUITip:function(){const e=document.createElement("style");e.textContent=`
					/* CSS部分 */
					/* 灰色水平加载动画 */
					.translate_api_in_progress {
					  position: relative;
					  overflow: hidden; /* 隐藏超出部分的动画 */
					}

					/* 蒙版层 */
					.translate_api_in_progress::after {
					  content: '';
					  position: absolute;
					  top: 0;
					  left: 0;
					  width: 100%;
					  height: 100%;
					  background: rgba(255, 255, 255, 1); /* 半透明白色遮罩 */
					  z-index: 2;
					}

					/* 水平加载条动画 */
					.translate_api_in_progress::before {
					  content: '';
					  position: absolute;
					  top: 50%;
					  left: 0;
					  width: 100%;
					  height:100%; /* 细线高度 */
					  background: linear-gradient(
					    90deg,
					    transparent 0%,
					    #e8e8e8 25%,  /* 浅灰色 */
					    #d0d0d0 50%,  /* 中灰色 */
					    #e8e8e8 75%,  /* 浅灰色 */
					    transparent 100%
					  );
					  background-size: 200% 100%;
					  animation: translate_api_in_progress_horizontal-loader 3.5s linear infinite;
					  z-index: 3;
					  transform: translateY(-50%);
					}

					@keyframes translate_api_in_progress_horizontal-loader {
					  0% {
					    background-position: 200% 0;
					  }
					  100% {
					    background-position: -200% 0;
					  }
					}
				`,document.head.appendChild(e),translate.progress.api.isTip&&(translate.listener.execute.renderStartByApi.push(function(t){for(var n in translate.nodeQueue[t].list)if(translate.language.getCurrent()!=n)for(var r in translate.nodeQueue[t].list[n])for(var a in translate.nodeQueue[t].list[n][r].nodes){var o=translate.nodeQueue[t].list[n][r].nodes[a].node,s=o.parentNode;if(s!=null&&s.childNodes.length==1)if(typeof s.className>"u"||s.className==null||s.className=="")s.className=" translate_api_in_progress";else{if(s.className.indexOf("translate_api_in_progress")>-1)continue;s.className=s.className+" translate_api_in_progress"}}}),translate.listener.execute.renderFinishByApi.push(function(t){for(var n in translate.nodeQueue[t].list)if(translate.language.getCurrent()!=n)for(var r in translate.nodeQueue[t].list[n])for(var a in translate.nodeQueue[t].list[n][r].nodes){var o=translate.nodeQueue[t].list[n][r].nodes[a].node,s=o.parentNode;if(s!=null){var l=s.className;typeof l>"u"||l==null||l==""||l.indexOf("translate_api_in_progress")<-1||(s.className=l.replace(/translate_api_in_progress/g,""))}}}))}}},jsObject:function(e,t=""){var n={};if(typeof e=="object"&&e!==null)if(Array.isArray(e))e.forEach((r,a)=>{const o=t?`${t}[${a}]`:`[${a}]`;translate.jsObject(r,o)});else for(const r in e){const a=t?`${t}.${r}`:r;typeof e[r]=="object"&&e[r]!==null?translate.jsObject(e[r],a):typeof e[r]=="string"&&typeof n[e[r]]>"u"&&(n[e[r]]=new Array)}else typeof e=="string"&&typeof e=="string"&&(typeof n[e]>"u"&&(n[e]=new Array),n[e].push("not key"));return n}},nodeuuid={index:function(e){var t=e.parentNode;if(t==null)return"";var n;if(typeof e.tagName>"u")n=t.childNodes;else{n=[];for(var r=t.childNodes,a=0;a<r.length;a++)r[a].tagName===e.tagName&&n.push(r[a])}var o=Array.prototype.indexOf.call(n,e);return e.nodeName+""+(o+1)},uuid:function(e){for(var t="",n=e;n!=null;){var r=nodeuuid.index(n);r!=""&&(t!=""&&(t="_"+t),t=r+t),n=n.parentNode}return t},enableRemoteDebug:function(){}};console.log(`------ translate.js ------
Two lines of js html automatic translation, page without change, no language configuration file, no API Key, SEO friendly! Open warehouse : https://github.com/xnx3/translate 
两行js实现html全自动翻译。 无需改动页面、无语言配置文件、无API Key、对SEO友好！完全开源，代码仓库：https://gitee.com/mail_osc/translate`),function(e,t){module.exports?module.exports=t():e.translate=t()}(i18nJsautotranslate,function(){return translate})}(i18nJsautotranslate$1)),i18nJsautotranslate$1.exports}var i18nJsautotranslateExports=requireI18nJsautotranslate();const translate=getDefaultExportFromCjs(i18nJsautotranslateExports),historyApi={getHistory:async()=>await request({url:"/prompt/history/get_history",method:"get"}),saveHistory:async e=>await request({url:"/prompt/history/add_history",method:"post",data:e}),deleteHistory:async e=>await request({url:"/prompt/history/delete_history",method:"post",data:{id_index:e}}),batchDeleteHistory:async e=>await request({url:"/prompt/history/batch_delete_history",method:"post",data:{id_index:e}}),getFavorite:async()=>await request({url:"/prompt/collect_history/get_collect_history",method:"get"}),addFavorite:async e=>await request({url:"/prompt/collect_history/add_collect_history",method:"post",data:e}),editFavorite:async e=>await request({url:"/prompt/collect_history/edit_collect_history",method:"post",data:e}),deleteFavorite:async e=>await request({url:"/prompt/collect_history/delete_collect_history",method:"post",data:{id_index:e}}),batchDeleteFavorite:async e=>await request({url:"/prompt/collect_history/batch_delete_collect_history",method:"post",data:{id_indices:e}})},_hoisted_1$9={class:"lora-manager-top-bar"},_hoisted_2$7=["placeholder"],_hoisted_3$7=["title"],_hoisted_4$7=["title"],_hoisted_5$6=["onClick"],_hoisted_6$6=["onClick"],_hoisted_7$6={key:0,class:"loading-indicator"},_hoisted_8$6={key:1,class:"empty-list"},_hoisted_9$6=["onClick"],_hoisted_10$5=["src","alt","title"],_hoisted_11$5={key:0,class:"loading-more"},_hoisted_12$5={key:1,class:"no-more-data"},prefix$3="weilin_prompt_ui_",_sfc_main$9={__name:"lora_index",props:{loraManager:{type:String,default:"look"}},setup(e,{expose:t}){const{t:n}=useI18n(),r=ref(!1),a=ref(!1),o=ref(!1),s=ref(!1),l=ref("all"),c=ref(""),u=ref(null),d=ref(""),f=ref(null),m=ref(1),_=ref(50),g=computed(()=>{if(l.value==="all"){const A=b.value;if(A){const M=Object.values(A);return Math.ceil(M.length/_.value)}}else{const A=b.value[c.value];if(A){const M=Object.values(A);return Math.ceil(M.length/_.value)}return 1}}),v=ref([]),b=ref([]),y=ref(""),S=ref(0),N=(A,M)=>{S.value=A,y.value=M},x=async()=>{try{const A=await loraApi.getLoraFolderList();v.value=A.data}catch(A){console.error("Failed to get folder list:",A),message$1({type:"error",str:"message.loadFailed"})}},C=()=>{if(!f.value||o.value||s.value)return;const A=f.value;A.scrollHeight-A.scrollTop-A.clientHeight<100&&Ee()},B=ref(!1);let L=null;const F=()=>{L&&clearTimeout(L),L=setTimeout(()=>{d.value.length>0?(B.value=!0,ne()):(B.value=!1,be())},300)},z=e,ee=A=>{var M;return(M=A.local_info)!=null&&M.name&&A.local_info.name!==""&&A.local_info.name.length>0?A.local_info.name:A.name},W=ref(),O=A=>{z.loraManager==="addLora"?R(A):W.value.open(A)},ne=async()=>{try{const A=await loraApi.searchLoraGetFolderList(d.value);if(b.value=A.data,b.value.length>0){m.value=1;const M=Object.values(b.value),G=(m.value-1)*50,te=G+50,ge=M.slice(G,te);ue(ge)}}catch(A){console.error("Failed to get folder list:",A),message$1({type:"error",str:"message.loadFailed"})}},le=ref([]),Se=A=>{if(A==="all"){le.value=[],l.value=A,c.value="/",b.value=v.value[A];const M=b.value;if(M){s.value=!1,m.value=1;const G=Object.values(M),te=(m.value-1)*50,ge=te+50,ae=G.slice(te,ge);ue(ae)}}else{le.value=[],l.value=A,c.value="/",b.value=v.value[A];const M=b.value["/"];if(M){s.value=!1,m.value=1;const G=Object.values(M),te=(m.value-1)*50,ge=te+50,ae=G.slice(te,ge);ue(ae)}}},_e=A=>{if(A!=c.value){c.value=A,le.value=[];const M=b.value[c.value];if(M){s.value=!1,m.value=1;const G=Object.values(M),te=(m.value-1)*50,ge=te+50,ae=G.slice(te,ge);ue(ae)}}},ue=async A=>{const M=await loraApi.getLoraRangeList(A);m.value===1?le.value=M.data.loras:le.value=le.value.concat(M.data.loras)},ce=async()=>{if(u.value!=null){message$1({type:"warn",str:"message.isLoading"});return}try{await loraApi.getAllLoraList(),u.value=setInterval(async()=>{await ye()},1e3)}catch(A){console.error("Failed to get all lora list:",A),message$1({type:"error",str:"message.loadFailed"})}},ye=async()=>{try{const A=await loraApi.getAllLoraStatus();A.data.isLoading===!1?(clearInterval(u.value),u.value=null,message$1({type:"success",str:"message.loaddingSuccess"}),await be()):message$1({type:"warn",str:"message.loaddingPrc",name:A.data.progress})}catch(A){console.error("Failed to get lora status:",A),clearInterval(u.value),u.value=null,message$1({type:"error",str:"message.loadFailed"})}},be=async()=>{if(!r.value){r.value=!0,m.value=1,s.value=!1,o.value=!1;try{await x(),nextTick(()=>{Se("all")})}catch(A){console.error("Failed to refresh lora list:",A)}finally{r.value=!1}}},Ee=async()=>{if(m.value>=g.value){s.value=!0;return}o.value=!0;try{if(m.value++,B.value){if(b.value=res.data,b.value.length>0){const A=Object.values(b.value),M=(m.value-1)*50,G=M+50,te=A.slice(M,G);ue(te)}}else if(l.value==="all"){b.value=v.value[l.value];const A=b.value;if(A){const M=Object.values(A),G=(m.value-1)*50,te=G+50,ge=M.slice(G,te);ue(ge)}}else{const A=b.value[c.value];if(A){const M=Object.values(A),G=(m.value-1)*50,te=G+50,ge=M.slice(G,te);ue(ge)}}}finally{o.value=!1}},H=()=>{m.value=1,s.value=!1,o.value=!1};watch([l,c,d],()=>{H()}),onMounted(()=>{be()});const R=A=>{var M,G,te,ge,ae,ie,he,T,E;S.value===0?window.postMessage({type:"weilin_prompt_ui_selectLora",lora:{name:A.model_name,lora:A.name,weight:(M=A.local_info)!=null&&M.strengthMin?A.local_info.strengthMin:.5,text_encoder_weight:(G=A.local_info)!=null&&G.strWeight?A.local_info.strWeight:.5,loraWorks:(te=A.local_info)!=null&&te.loraWorks?A.local_info.loraWorks:""}},"*"):S.value===1?window.postMessage({type:"weilin_prompt_ui_selectLora_stack_"+y.value,lora:{name:A.model_name,lora:A.name,weight:(ge=A.local_info)!=null&&ge.strengthMin?A.local_info.strengthMin:.5,text_encoder_weight:(ae=A.local_info)!=null&&ae.strWeight?A.local_info.strWeight:.5,loraWorks:(ie=A.local_info)!=null&&ie.loraWorks?A.local_info.loraWorks:""}},"*"):S.value===2&&window.postMessage({type:"weilin_prompt_ui_selectLora_stack_node_"+y.value,lora:{name:A.model_name,lora:A.name,weight:(he=A.local_info)!=null&&he.strengthMin?A.local_info.strengthMin:.5,text_encoder_weight:(T=A.local_info)!=null&&T.strWeight?A.local_info.strWeight:.5,loraWorks:(E=A.local_info)!=null&&E.loraWorks?A.local_info.loraWorks:""}},"*")};return t({openSetSeed:N}),(A,M)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$3}lora-manager`)},[createBaseVNode("div",_hoisted_1$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":M[0]||(M[0]=G=>d.value=G),class:normalizeClass(`${prefix$3}search-input`),placeholder:unref(n)("loraManager.searchPlaceholder"),onInput:F},null,42,_hoisted_2$7),[[vModelText,d.value]]),createBaseVNode("button",{class:normalizeClass(`${prefix$3}refresh-btn`),onClick:be,title:unref(n)("loraManager.refresh")},[(openBlock(),createElementBlock("svg",{class:normalizeClass([`${prefix$3}refresh-icon`,{"is-rotating":r.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},M[1]||(M[1]=[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},null,-1)]),2))],10,_hoisted_3$7),createBaseVNode("button",{style:{"margin-left":"10px"},class:normalizeClass(`${prefix$3}refresh-btn`),onClick:ce,title:unref(n)("loraManager.cacheAll")},[(openBlock(),createElementBlock("svg",{class:normalizeClass([`${prefix$3}refresh-icon`,{"is-rotating":r.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},M[2]||(M[2]=[createBaseVNode("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"},null,-1)]),2))],10,_hoisted_4$7)]),B.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$3}category-nav`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(v.value),G=>(openBlock(),createElementBlock("button",{key:G,class:normalizeClass([`${prefix$3}category-btn`,{active:l.value===G}]),onClick:te=>Se(G)},toDisplayString$1(G==="/"?"root":G=="all"?unref(n)("loraManager.all"):G),11,_hoisted_5$6))),128))],2)),l.value!="all"&&!B.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`${prefix$3}subcategory-nav`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(b.value),G=>(openBlock(),createElementBlock("button",{key:G,class:normalizeClass([`${prefix$3}category-btn`,{active:c.value===G}]),onClick:te=>_e(G)},toDisplayString$1(G==="/"?"root":G),11,_hoisted_6$6))),128))],2)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-list-container`),ref_key:"scrollContainer",ref:f,onScroll:C},[a.value&&!o.value?(openBlock(),createElementBlock("div",_hoisted_7$6,toDisplayString$1(unref(n)("loraManager.loading")),1)):le.value.length===0?(openBlock(),createElementBlock("div",_hoisted_8$6,toDisplayString$1(unref(n)("loraManager.noResults")),1)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-list`),style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(150px, 1fr))",gap:"12px"}},[(openBlock(!0),createElementBlock(Fragment,null,renderList(le.value,G=>(openBlock(),createElementBlock("div",{key:G.file_path,class:normalizeClass(`${prefix$3}lora-card`),onClick:te=>O(G),style:{display:"flex","flex-direction":"column","min-height":"200px",cursor:"pointer"}},[createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-preview`),style:{flex:"1",display:"flex","align-items":"center","justify-content":"center",overflow:"hidden",width:"100%"}},[G.preview?(openBlock(),createElementBlock("img",{key:0,src:G.preview,alt:G.model_name,title:G.model_name,loading:"lazy",style:{width:"100%",height:"100%","object-fit":"cover","min-height":"150px"}},null,8,_hoisted_10$5)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`${prefix$3}no-preview`),style:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","min-height":"150px"}},M[3]||(M[3]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[createBaseVNode("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})],-1)]),2))],2),createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-name`),style:{padding:"8px","text-align":"center","word-break":"break-word","white-space":"normal",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden","min-height":"40px","line-height":"1.2"}},toDisplayString$1(ee(G)),3)],10,_hoisted_9$6))),128))],2),createBaseVNode("div",null,[o.value?(openBlock(),createElementBlock("div",_hoisted_11$5,toDisplayString$1(unref(n)("loraManager.loadingMore")),1)):createCommentVNode("",!0),!o.value&&s.value?(openBlock(),createElementBlock("div",_hoisted_12$5,toDisplayString$1(unref(n)("loraManager.noMoreData")),1)):createCommentVNode("",!0)])],34),createVNode(loraDetail,{ref_key:"loraDetailRef",ref:W},null,512)],2))}},LoraManager=_export_sfc(_sfc_main$9,[["__scopeId","data-v-76624fc7"]]),_hoisted_1$8={class:"weilin_prompt_ui_prompt-box"},_hoisted_2$6={class:"center-container"},_hoisted_3$6={class:"action-item"},_hoisted_4$6=["title"],_hoisted_5$5={class:"action-text"},_hoisted_6$5={class:"action-item"},_hoisted_7$5={class:"action-text"},_hoisted_8$5={class:"action-item"},_hoisted_9$5=["title"],_hoisted_10$4={class:"action-text"},_hoisted_11$4={class:"action-item"},_hoisted_12$4=["title"],_hoisted_13$3={class:"action-text"},_hoisted_14$3={key:0,class:"action-item"},_hoisted_15$3=["title"],_hoisted_16$3={class:"action-text"},_hoisted_17$3={class:"action-item"},_hoisted_18$2=["title"],_hoisted_19$1={class:"action-text"},_hoisted_20$1={class:"action-item"},_hoisted_21$1=["title"],_hoisted_22$1={class:"action-text"},_hoisted_23$1={class:"action-item"},_hoisted_24$1=["title"],_hoisted_25$1={class:"action-text"},_hoisted_26$1={class:"action-item"},_hoisted_27$1=["title"],_hoisted_28$1={class:"action-text"},_hoisted_29$1={class:"action-item"},_hoisted_30$1=["title"],_hoisted_31$1={class:"action-text"},_hoisted_32$1={class:"action-item"},_hoisted_33$1=["title"],_hoisted_34$1={class:"action-text"},_hoisted_35$1={style:{position:"relative"}},_hoisted_36$1=["placeholder"],_hoisted_37$1=["onClick"],_hoisted_38$1={class:"tag"},_hoisted_39$1={class:"desc"},_hoisted_40$1={class:"prompt-input-translate-area"},_hoisted_41$1=["placeholder"],_hoisted_42$1=["title"],_hoisted_43$1={key:0,class:"tokens-container"},_hoisted_44$1=["draggable","onDragstart","onDragover","onDrop","onDblclick"],_hoisted_45$1={key:0,class:"newline-token"},_hoisted_46$1=["title"],_hoisted_47=["onMouseenter","onMouseleave"],_hoisted_48=["title"],_hoisted_49=["onMouseenter","onMouseleave"],_hoisted_50=["onClick"],_hoisted_51=["value","onInput","onBlur","onKeyup"],_hoisted_52={key:3,class:"translation-result"},_hoisted_53=["onClick","title"],_hoisted_54={class:"translated-text"},_hoisted_55=["title"],_hoisted_56={key:1,class:"line-break"},_hoisted_57={class:"tag-tips-content"},_hoisted_58=["innerHTML"],_hoisted_59={class:"weight-control"},_hoisted_60={class:"weight-label"},_hoisted_61=["title"],_hoisted_62={class:"bracket-btn-group"},_hoisted_63={class:"bracket-btn-container"},_hoisted_64={class:"vertical-btn-group"},_hoisted_65=["title"],_hoisted_66=["title"],_hoisted_67={class:"bracket-btn-container"},_hoisted_68={class:"vertical-btn-group"},_hoisted_69=["title"],_hoisted_70=["title"],_hoisted_71={class:"bracket-btn-container"},_hoisted_72={class:"vertical-btn-group"},_hoisted_73=["title"],_hoisted_74=["title"],_hoisted_75={class:"tag-manager-section"},_hoisted_76={class:"header-left"},_hoisted_77={class:"section-title"},_hoisted_78={class:"header-right"},_hoisted_79={class:"lora-manager-container"},_hoisted_80={class:"tag-manager-section"},_hoisted_81={class:"header-left"},_hoisted_82={class:"section-title"},_hoisted_83={class:"header-right"},_hoisted_84={class:"tag-manager-container"},prefix$2="weilin_prompt_ui_",_sfc_main$8={__name:"prompt_index",props:{promptManager:{type:String,default:"prompt_global"},hasPromptLoraStack:{type:Boolean,default:!1}},setup(e,{expose:t}){useTagStore();const{t:n}=useI18n(),r=ref(),a=ref(),o=ref({top:0,left:0}),s=e,l=ref(""),c=ref([]),u={},d=ref(null),f=ref(!1),m=ref({top:"0px",left:"0px"}),_=ref(!1),g=ref(null),v=ref(null),b=ref(null),y=ref([]),S=ref(!1),N=ref(!1),x=ref([]),C=ref(0),B=ref(null),L=ref(localStorage.getItem("weilin_prompt_ui_auto_box_width")||450),F=ref(localStorage.getItem("weilin_prompt_ui_auto_box_height")||350),z=ref(""),ee=ref(!1),W=ref({top:"0px",left:"0px"}),O=ref(null),ne=ref(null),le=ref(""),Se=()=>{S.value=!S.value},_e=()=>{S.value=!1},ue=()=>{g.value.open()},ce=ref(1),ye=()=>{if(d.value===null)return;let V=c.value[d.value].text;if(!H(V)){message$1({type:"warn",str:"message.noFinishKuo"});return}const Q=pe=>pe.startsWith("(")&&pe.endsWith(")")&&!pe.slice(1,-1).includes("(")&&!pe.slice(1,-1).includes(")")&&!pe.slice(1,-1).includes("[")&&!pe.slice(1,-1).includes("]")&&!pe.slice(1,-1).includes("{")&&!pe.slice(1,-1).includes("}")&&!pe.slice(1,-1).includes("<")&&!pe.slice(1,-1).includes(">"),se=pe=>{const we=/^([\(\[\{\<]*)(.*?)([\)\]\}\>]*)$/,Te=pe.match(we);if(!Te)return pe;const[,Me,Be,Ie]=Te;if(/[\(\[\{\<].*[\)\]\}\>]/.test(Be))return Me+se(Be)+Ie;const je=Be.replace(/:\d+(\.\d+)?$/,"");return ce.value===1?Me+je+Ie:Me+je+":"+ce.value+Ie};let fe=V;if(/[\(\[\{\<\)\]\}\>]/.test(V))ce.value===1&&Q(V)?fe=V.slice(1,-1).replace(/:\d+(\.\d+)?$/,""):fe=se(V);else{const pe=V.replace(/:\d+(\.\d+)?$/,"");ce.value===1?fe=pe:fe=`(${pe}:${ce.value})`}c.value[d.value].text=fe,E()},be=q=>{if(d.value===null)return;let Q=c.value[d.value].text;const se={"(":")","[":"]","{":"}","<":">"}[q];Q=`${q}${Q}${se}`,c.value[d.value].text=Q,T()},Ee=q=>{if(d.value===null)return;let Q=c.value[d.value].text;const se={"(":")","[":"]","{":"}","<":">"};Q.startsWith(q)&&Q.endsWith(se[q])&&(Q=Q.slice(1,-1),c.value[d.value].text=Q,T())},H=q=>{const V=[],Q={"(":")","[":"]","{":"}","<":">"};for(let se of q)if(Q[se])V.push(se);else if(Object.values(Q).includes(se)&&(V.length===0||Q[V.pop()]!==se))return!1;return V.length===0};onBeforeUpdate(()=>{for(const q in u)delete u[q]}),ref(!0),ref(!1);const R=q=>/[\p{L}]/u.test(q),A=q=>{const V=q.match(/([^:]+):[\d.]+/);return V?V[1]:q};let M=null;const G=async()=>{M&&clearTimeout(M),M=setTimeout(async()=>{if(!a.value)return;const q=a.value,V=q.selectionStart;await nextTick();const Q=q.value.substring(0,V),se=document.createElement("div");se.style.position="absolute",se.style.top="0",se.style.left="0",se.style.visibility="hidden",se.style.whiteSpace="pre-wrap",se.style.wordWrap="break-word",se.style.width=window.getComputedStyle(q).width,se.style.font=window.getComputedStyle(q).font,se.style.padding=window.getComputedStyle(q).padding;const fe=document.createTextNode(Q),pe=document.createElement("span");pe.textContent="|",se.appendChild(fe),se.appendChild(pe),q.parentNode.appendChild(se);const we=pe.getBoundingClientRect(),Te=q.parentNode.getBoundingClientRect();let Me=we.top-Te.top+we.height,Be=we.left-Te.left;if(await nextTick(),r.value){const Ie=r.value.offsetWidth,je=q.offsetWidth,We=q.getBoundingClientRect().left-Te.left;Be+Ie>We+je&&(Be=We+je-Ie),Be<We&&(Be=We),Be=Math.max(0,Math.min(Be,Te.width-Ie))}q.parentNode.removeChild(se),o.value={top:Me,left:Be},M=null},50)},te=ref(null),ge=q=>{if(!(q!=null&&q.target)||!a.value)return;const V=q.target.value,Q=q.target.selectionStart,se=q.target.selectionEnd,fe={comma:{enabled:localStorage.getItem("weilin_prompt_ui_comma_conversion")!=="false",pattern:/，/g,replace:","},period:{enabled:localStorage.getItem("weilin_prompt_ui_period_conversion")!=="false",pattern:/。/g,replace:"."},bracket:{enabled:localStorage.getItem("weilin_prompt_ui_bracket_conversion")!=="false",patterns:[{pattern:/【/g,replace:"["},{pattern:/】/g,replace:"]"},{pattern:/（/g,replace:"("},{pattern:/）/g,replace:")"}]},angleBracket:{enabled:localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")!=="false",patterns:[{pattern:/《/g,replace:"<"},{pattern:/》/g,replace:">"}]},underscore:{enabled:localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true",pattern:/_/g,replace:" "}};let pe=V.substring(0,Q),we=V;Object.values(fe).forEach(xe=>{xe.enabled&&(xe.pattern?(pe=pe.replace(xe.pattern,xe.replace),we=we.replace(xe.pattern,xe.replace)):xe.patterns&&xe.patterns.forEach(({pattern:Oe,replace:Ae})=>{pe=pe.replace(Oe,Ae),we=we.replace(Oe,Ae)}))}),l.value=we;const Te=pe.length,Me=se-Q,Be=Te+Me;nextTick(()=>{a.value&&(a.value.setSelectionRange(Te,Be),a.value.focus())});const Ie=we.substring(0,Te);let je=Te;for(;je>0&&!/[,\s]/.test(Ie[je-1]);)je--;const We=Ie.substring(je,Te).trim();O.value&&clearTimeout(O.value),O.value=setTimeout(()=>{We&&ct(We),E()},300)},ae=async()=>{let q=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",V=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",Q=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",se=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",fe=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true";localStorage.getItem("weilin_prompt_ui_comma_conversion")||(localStorage.setItem("weilin_prompt_ui_comma_conversion","true"),q=!0),localStorage.getItem("weilin_prompt_ui_period_conversion")||(localStorage.setItem("weilin_prompt_ui_period_conversion","true"),V=!0),localStorage.getItem("weilin_prompt_ui_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_bracket_conversion","true"),Q=!0),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion","true"),se=!0),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")||(localStorage.setItem("weilin_prompt_ui_underscore_to_bracket","false"),fe=!1),q&&(l.value=l.value.replace(/，/g,",")),V&&(l.value=l.value.replace(/。/g,".")),Q&&(l.value=l.value.replace(/【/g,"[").replace(/】/g,"]").replace(/（/g,"(").replace(/）/g,")")),se&&(l.value=l.value.replace(/《/g,"<").replace(/》/g,">")),fe&&(l.value=l.value.replace(/_/g," "));const pe=l.value;let we=[];const Te=c.value.map((xe,Oe)=>({token:xe,originalIndex:Oe,currentIndex:Oe})).filter(({token:xe})=>xe.isHidden);we=((xe,Oe=0)=>{let Ae=[],qe=Oe,He="",nt=[];for(;qe<xe.length;){const Ye=xe[qe];if(Ye===`
`){He.trim()&&(Ae.push(He.trim()),He=""),Ae.push(`
`),qe++;continue}nt.length===0&&Ye===","?(He.trim()&&Ae.push(He.trim()),He=""):He+=Ye,qe++}return He.trim()&&(nt.length===0?Ae.push(...He.split(",").filter(Boolean).map(Ye=>Ye.trim())):Ae.push(He.trim())),Ae})(pe);const Be=new Map;c.value.forEach((xe,Oe)=>{Be.set(Oe,xe)});const Ie=[];we.forEach(xe=>{if(xe===`
`)Ie.push({text:`
`,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:""});else if(xe.trim()){const Oe=xe.trim();let Ae=!1;for(const[qe,He]of Be)if(He.text===Oe&&!Ie.includes(He)){Ie.push(He),Be.delete(qe),Ae=!0;break}Ae||Ie.push({text:Oe,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:""})}}),Te.forEach(({token:xe,originalIndex:Oe})=>{let Ae=Oe;for(;Ae>Ie.length;)Ae--;Ae<0?Ie.push(xe):Ie.splice(Ae,0,xe)}),c.value=Ie,l.value=c.value.length>0?c.value.reduce((xe,Oe,Ae)=>{var ht;if(Oe.isHidden)return xe;if(Oe.text===`
`)return xe+Oe.text;if(xe===""){const _t=c.value.filter(vt=>!vt.isHidden).length===1;return Oe.text+(_t?",":"")}let qe=Ae+1;for(;qe<c.value.length&&((ht=c.value[qe])!=null&&ht.isHidden);)qe++;const He=qe>=c.value.length,nt=qe<c.value.length?c.value[qe]:null,Ye=nt&&nt.text===`
`||He,gt=Le(Ae);return gt!==-1&&c.value[gt].text===`
`?xe+Oe.text+(Ye?",":""):xe+", "+Oe.text+(Ye?",":"")},""):"",ne.value&&clearTimeout(ne.value),ne.value=setTimeout(()=>{T()},1e3),E();const je=20;let We=0;for(;We<c.value.length;){const xe=Math.min(We+je,c.value.length),Oe=[];for(let Ae=We;Ae<xe;Ae++)if(c.value[Ae].text.length>0&&!c.value[Ae].translate){let qe=c.value[Ae].text;const He=A(qe.trim());Oe.push(translatorApi.getTranslateLocal(He).then(nt=>{const Ye=nt;c.value[Ae].translate=Ye.translated.translate,c.value[Ae].color=Ye.translated.color}))}await Promise.all(Oe),We=xe}},ie=async()=>{let V=0;for(;V<c.value.length;){const Q=Math.min(V+20,c.value.length),se=[];for(let fe=V;fe<Q;fe++){const pe=c.value[fe];if(pe.translate&&/[a-zA-Z]/.test(pe.translate)){const we=pe.text,Te=new Promise(Me=>{localStorage.getItem("weilin_prompt_ui_translater_setting")=="network"?translate.request.translateText(we,function(Be){if(Be.result>0){const Ie=Be.text.map(je=>je.replace(/[\[\]“”]/g,"")).join(", ");c.value[fe].translate=Ie}Me()}):translatorApi.translaterText(we).then(Be=>{Be.text.length>0&&(c.value[fe].translate=Be.text),Me()})});se.push(Te)}}await Promise.all(se),V=Q}},he=ref(""),T=()=>{const q=l.value.replace(/[\s\t\n]+/g,"");if(y.value.length>0){if(q.length>0){const V=y.value.filter(fe=>!fe.hidden);let Q={prompt:l.value,lora:"",temp_prompt:c.value,temp_lora:y.value};V.length>0&&(Q.lora=V);const se=JSON.stringify(Q);he.value!=se&&(he.value=se,historyApi.saveHistory({tag:se}))}}else if(he.value!=l.value){const V={prompt:l.value,lora:"",temp_prompt:c.value,temp_lora:""},Q=JSON.stringify(V);q.length>0&&historyApi.saveHistory({tag:Q})}E()},E=()=>{if(y.value.length>0){he.value=l.value;const q=y.value.filter(se=>!se.hidden);let V={prompt:l.value,lora:"",temp_prompt:c.value,temp_lora:y.value};q.length>0&&(V.lora=q);const Q=JSON.stringify(V);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:Q},"*")}else{he.value=l.value;const q={prompt:l.value,lora:"",temp_prompt:c.value,temp_lora:""},V=JSON.stringify(q);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:V},"*")}},I=(q,V)=>{K.value&&(clearTimeout(K.value),K.value=null);const Q=V.target.getBoundingClientRect();m.value={top:`${Q.top-50}px`,left:`${Q.left+Q.width/2}px`},d.value=q;const se=c.value[q].text;ce.value=U(se),W.value={top:`${Q.bottom+window.scrollY+Q.height+10}px`,left:`${Q.left+Q.width/2}px`},ee.value=!0},U=q=>{const V=[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"<",close:">"}];for(const se of V)if(q.startsWith(se.open)&&q.endsWith(se.close))return U(q.slice(1,-1));const Q=q.match(/:(\d+(\.\d+)?)$/);return Q?parseFloat(Q[1]):1},K=ref(null),Z=q=>{K.value&&clearTimeout(K.value),K.value=setTimeout(()=>{f.value||$(),K.value=null},100),ee.value=!1},w=()=>{f.value=!1,Z(d.value)},$=()=>{f.value||(d.value=null)},D=()=>{if(d.value!==null){const q=d.value;j(q),d.value=null,f.value=!1}},j=q=>{const V=l.value;let Q=c.value[q],se=0,fe=-1;for(let pe=0;pe<q;pe++){let we=V.indexOf(c.value[pe].text,se);we!==-1&&(se=we+c.value[pe].text.length)}if(Q.text===`
`||Q.text==="	"){for(let pe=se;pe<V.length;pe++)if(V[pe]===Q.text){fe=pe;break}}else fe=V.indexOf(Q.text,se);if(fe!==-1){const pe=Q.text===`
`?" ":"",we=V.substring(0,fe)+pe+V.substring(fe+Q.text.length);l.value=we}c.value.splice(q,1),l.value=c.value.length>0?c.value.reduce((pe,we,Te)=>{var xe;if(we.isHidden)return pe;if(we.text===`
`)return pe+we.text;if(pe===""){const Oe=c.value.filter(Ae=>!Ae.isHidden).length===1;return we.text+(Oe?",":"")}let Me=Te+1;for(;Me<c.value.length&&((xe=c.value[Me])!=null&&xe.isHidden);)Me++;const Be=Me>=c.value.length,Ie=Me<c.value.length?c.value[Me]:null,je=Ie&&Ie.text===`
`||Be,We=Le(Te);return We!==-1&&c.value[We].text===`
`?pe+we.text+(je?",":""):pe+", "+we.text+(je?",":"")},""):"",T()},J=(q,V)=>{const Q=l.value;let se=0,fe=-1;for(let we=0;we<q;we++){let Te=Q.indexOf(c.value[we].text,se);Te!==-1&&(se=Te+c.value[we].text.length)}const pe=c.value[q].text;if(fe=Q.indexOf(pe,se),fe!==-1){const we=V.target.value,Te=Q.substring(0,fe)+we+Q.substring(fe+pe.length);l.value=Te,c.value[q]={...c.value[q],text:we},T()}},P=q=>{c.value[q].isPunctuation||(c.value[q].isEditing=!0,setTimeout(()=>{const V=u[q];if(V){V.focus();const Q=V.value.length;V.setSelectionRange(Q,Q),k(V),V.addEventListener("input",()=>k(V)),T()}}))},k=q=>{const V=document.createElement("span");V.style.visibility="hidden",V.style.position="absolute",V.style.whiteSpace="pre";const Q=window.getComputedStyle(q);V.style.font=Q.font,V.style.fontSize=Q.fontSize,V.style.fontFamily=Q.fontFamily,V.style.padding=Q.padding,V.style.border=Q.border,V.textContent=q.value||q.placeholder||"",document.body.appendChild(V);const se=V.offsetWidth;q.style.width=`${Math.max(se+4,20)}px`,document.body.removeChild(V)},Y=q=>{c.value[q].isEditing=!1};watch(c,q=>{ve()},{deep:!0}),watch(y,q=>{T()},{deep:!0});const de=()=>{_.value=!_.value,_.value&&nextTick(()=>{var V;const q=v.value.getBoundingClientRect();(V=b.value)==null||V.setPosition(q)})},me=()=>{_.value=!1},$e=q=>{var V,Q;v.value&&!v.value.contains(q.target)&&b.value&&!b.value.$el.contains(q.target)&&me(),(V=r.value)!=null&&V.contains&&((Q=a.value)!=null&&Q.contains)&&!r.value.contains(q.target)&&!a.value.contains(q.target)&&(N.value=!1)},Ve=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openTagManager_prompt"},"*")},Re=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openLoraManager"},"*")},ze=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openHistoryManager"},"*")},De=ref(!0),Ke=()=>{De.value=!De.value},Qe=ref(!1),Ue=()=>{Qe.value=!Qe.value},Pe=ref(null),rt=()=>{if(a.value){const q=a.value.clientHeight;localStorage.setItem("weilinPromptTextAreaHeight",q)}},at=()=>{const q=a.value;q&&(q.addEventListener("keyup",Xe),q.addEventListener("click",Xe),q.addEventListener("input",Xe))},Xe=()=>{N.value&&G()};onMounted(()=>{document.addEventListener("click",$e),window.addEventListener("message",Ze),ot(),at();const q=localStorage.getItem("weilinPromptTextAreaHeight");q&&a.value&&(a.value.style.height=`${q}px`),Pe.value=new ResizeObserver(()=>{rt()}),a.value&&Pe.value.observe(a.value)}),onBeforeUnmount(()=>{Pe.value&&Pe.value.disconnect()}),onUnmounted(()=>{document.removeEventListener("click",$e),te.value&&clearTimeout(te.value),window.removeEventListener("message",Ze);const q=a.value;q&&(q.removeEventListener("keyup",Xe),q.removeEventListener("click",Xe),q.removeEventListener("input",Xe))});const Ze=q=>{if(q.data.type==="weilin_prompt_ui_insertTag"){const V=l.value,Q=q.data.tagText;V===""?l.value=Q:(V.endsWith(" "),l.value=V+", "+Q+","),le.value=l.value,ae()}else if(q.data.type==="weilin_prompt_ui_user_history_tag"){const V=q.data.tagText;he.value=V,st(V)}else if(q.data.type!=="weilin_prompt_ui_refresh_all_data"){if(q.data.type==="weilin_prompt_ui_translate_setting")ot();else if(q.data.type==="weilin_prompt_ui_selectLora"&&q.data.lora.loraWorks!=null&&q.data.lora.loraWorks.length>0){const V=l.value,Q=q.data.lora.loraWorks;V===""?l.value=Q:(V.endsWith(" "),l.value=V+", "+Q+","),le.value=l.value,ae()}}},ot=async()=>{const q=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",V=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified";localStorage.getItem("weilin_prompt_ui_sourceLanguage")||localStorage.setItem("weilin_prompt_ui_sourceLanguage",q),localStorage.getItem("weilin_prompt_ui_targetLanguage")||localStorage.setItem("weilin_prompt_ui_targetLanguage",V),q!=="auto"&&translate.language.setLocal(q),translate.language.setDefaultTo(V)},Ge=(q,V)=>{localStorage.getItem("weilin_prompt_ui_translater_setting")=="network"?translate.request.translateText(q,function(Q){if(Q.result>0){const se=Q.text.map(fe=>fe.replace(/[\[\]“”]/g,"")).join(", ");V.translate=se}}):translatorApi.translaterText(q).then(Q=>{Q.text.length>0&&(V.translate=Q.text)})},it=()=>{if(localStorage.getItem("weilin_prompt_ui_translater_setting")=="network"){var q={from:translate.language.recognition(z.value).languageName,to:"english",texts:[z.value]};translate.request.translateText(q,function(Q){if(Q.result>0){const se=Q.text.map(fe=>fe.replace(/[\[\]“”]/g,"")).join(", ");c.value.push({text:se,translate:z.value,isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),z.value="",ve()}})}else translatorApi.translaterInputText(z.value).then(V=>{V.text.length>0&&(c.value.push({text:V.text,translate:z.value,isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),z.value="",ve())})},lt=()=>{setTimeout(()=>{N.value||(le.value=l.value,ae())},100)},ct=q=>{let V=q.replace(/[\[\](){}]/g,"").trim();const se=A(V).trim();if(!se){N.value=!1;return}if(se.length>20){N.value=!1;return}try{const fe=se.toLowerCase();autocompleteApi.getAutocomplete(String(fe)).then(async pe=>{x.value=pe.data,await G(),setTimeout(()=>{L.value=localStorage.getItem("weilin_prompt_ui_auto_box_width"),F.value=localStorage.getItem("weilin_prompt_ui_auto_box_height"),N.value=x.value.length>0,C.value=0},50)})}catch(fe){console.error("Autocomplete error:",fe),N.value=!1}},pt=q=>{N.value&&(q.key==="ArrowDown"?(q.preventDefault(),C.value=Math.min(C.value+1,x.value.length-1),ut()):q.key==="ArrowUp"?(q.preventDefault(),C.value=Math.max(C.value-1,0),ut()):q.key==="Tab"||q.key==="Enter"?(q.preventDefault(),dt(C.value)):q.key==="Escape"&&(q.preventDefault(),ft()))},ut=()=>{nextTick(()=>{if(B.value&&r.value){const q=r.value,V=B.value,Q=q.getBoundingClientRect(),se=V.getBoundingClientRect(),fe=se.top<Q.top,pe=se.bottom>Q.bottom;fe?q.scrollTop=q.scrollTop+(se.top-Q.top):pe&&(q.scrollTop=q.scrollTop+(se.bottom-Q.bottom))}})},dt=(q,V)=>{if(V&&(V.preventDefault(),V.stopPropagation()),!x.value[q])return;N.value=!1;const Q=a.value.selectionStart,se=a.value.selectionEnd,fe=l.value;let pe=x.value[q].text;localStorage.getItem("weilin_prompt_ui_comma_conversion")!=="false"&&(pe=pe.replace(/，/g,",")),localStorage.getItem("weilin_prompt_ui_period_conversion")!=="false"&&(pe=pe.replace(/。/g,".")),localStorage.getItem("weilin_prompt_ui_bracket_conversion")!=="false"&&(pe=pe.replace(/【/g,"[").replace(/】/g,"]").replace(/（/g,"(").replace(/）/g,")")),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")!=="false"&&(pe=pe.replace(/《/g,"<").replace(/》/g,">")),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true"&&(pe=pe.replace(/_/g," "));let we=Q,Te=se;for(;we>0&&!/[,\s]/.test(fe[we-1]);)we--;for(;Te<fe.length&&!/[,\s]/.test(fe[Te]);)Te++;const Me=fe.substring(0,we)+pe+fe.substring(Te),Be=we+pe.length;l.value=Me,le.value=Me,ae(),nextTick(()=>{a.value&&(a.value.selectionStart=Be,a.value.selectionEnd=Be)})},ft=()=>{N.value=!1},st=q=>{if(q.length>0)try{const V=JSON.parse(q);if(l.value=V.prompt,le.value=l.value,V.lora&&V.lora!=""&&(y.value=V.lora),V.temp_prompt&&V.temp_prompt!=""){const Q=V.temp_prompt;let se=!1;Q.tokens&&Q.tokens.length>0&&Q.tokens!=""&&(c.value=Q.tokens,se=!0),Q.lora&&Q.lora.length>0&&Q.lora!=""&&(y.value=Q.lora,se=!0),!se&&Q.length>0&&Q!=""&&(c.value=Q)}if(V.temp_lora&&V.temp_lora.length>0&&V.temp_lora!=""){const Q=V.temp_lora;y.value=Q}ae()}catch{message$1({type:"warn",str:"promptBox.settings.errorPrompt"})}},Je=ref(null),X=(q,V)=>{Je.value=q,V.dataTransfer.effectAllowed="move"},oe=(q,V)=>{if(V.preventDefault(),Je.value!==null&&Je.value!==q){const Q=c.value[Je.value],se=[...c.value];se.splice(Je.value,1),se.splice(q,0,Q),c.value=se,Je.value=q,ve()}},re=(q,V)=>{V.preventDefault(),Je.value=null,ve()},ve=()=>{l.value=c.value.length>0?c.value.reduce((q,V,Q)=>{var Me;if(V.isHidden)return q;if(V.text===`
`)return q+V.text;if(q===""){const Be=c.value.filter(Ie=>!Ie.isHidden).length===1;return V.text+(Be?",":"")}let se=Q+1;for(;se<c.value.length&&((Me=c.value[se])!=null&&Me.isHidden);)se++;const fe=se>=c.value.length,pe=se<c.value.length?c.value[se]:null,we=pe&&pe.text===`
`||fe,Te=Le(Q);return Te!==-1&&c.value[Te].text===`
`?q+V.text+(we?",":""):q+", "+V.text+(we?",":"")},""):"",E()},ke=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*")},Ne=()=>{window.open("https://github.com/weilin9999/WeiLin-Comfyui-Tools","_blank")},Ce=()=>{window.parent.postMessage({type:"weilin_prompt_ui_open_cloud_window"},"*")},Le=q=>{for(let V=q-1;V>=0;V--)if(!c.value[V].isHidden)return V;return-1},Fe=q=>{if(q>=0&&q<c.value.length){if(c.value[q].text===`
`||c.value[q].text==="	")return;c.value[q].isHidden=!c.value[q].isHidden,c.value[q].isHidden?c.value[q].hiddenHint=n("promptBox.hiddenHint"):c.value[q].hiddenHint="",ve()}},et=()=>{window.open("https://www.bilibili.com/list/288025756/?sid=4690314&spm_id_from=333.1387.0.0&oid=114342431298474&bvid=BV1txdfYxE7X","_blank")};return t({setPromptText:st}),(q,V)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[s.promptManager==="prompt"?(openBlock(),createBlock(LoraStack,{key:0,"is-open":S.value,"selected-loras":y.value,onClose:_e},null,8,["is-open","selected-loras"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$2}main-content`),style:normalizeStyle({width:S.value?"calc(100% - 300px)":"100%"})},[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$6,[createBaseVNode("button",{class:"language-switch-btn",onClick:withModifiers(de,["stop"]),ref_key:"langBtnRef",ref:v,title:unref(n)("controls.language")},[V[11]||(V[11]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"translate-icon"},[createBaseVNode("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"})],-1)),createBaseVNode("span",_hoisted_5$5,toDisplayString$1(unref(n)("controls.language")),1)],8,_hoisted_4$6),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[_.value?(openBlock(),createBlock(LanguageSwitcher,{key:0,ref_key:"languageSwitcherRef",ref:b,onClose:me},null,512)):createCommentVNode("",!0)]),_:1})]),createBaseVNode("div",_hoisted_6$5,[createVNode(ThemeSwitch,{title:unref(n)("controls.switchTheme")},{default:withCtx(({isDark:Q})=>[createBaseVNode("span",_hoisted_7$5,toDisplayString$1(unref(n)(Q?"controls.darkMode":"controls.lightMode")),1)]),_:1},8,["title"])]),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("button",{class:"settings-btn",onClick:ue,title:unref(n)("controls.settings")},[V[12]||(V[12]=createBaseVNode("svg",{class:"settings-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})],-1)),createBaseVNode("span",_hoisted_10$4,toDisplayString$1(unref(n)("controls.settings")),1)],8,_hoisted_9$5)]),createBaseVNode("div",_hoisted_11$4,[createBaseVNode("button",{class:"tag-manager-btn",onClick:Ve,title:unref(n)("controls.tagManager")},[V[13]||(V[13]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",_hoisted_13$3,toDisplayString$1(unref(n)("controls.tagManager")),1)],8,_hoisted_12$4)]),s.hasPromptLoraStack?(openBlock(),createElementBlock("div",_hoisted_14$3,[createBaseVNode("button",{class:"tag-manager-btn",onClick:Se,title:unref(n)("controls.loraStack")},[V[14]||(V[14]=createBaseVNode("svg",{sxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M902.5 485.1c-59-17.5-113.8-3.4-155 27.7V365.1c0-45.2-36.9-82.1-82.1-82.1H511.2c31.1-41.2 45.2-96 27.7-155C522.2 71.6 475 26.1 418 12 303.4-16.5 200.9 69.4 200.9 179.3c0 39.1 13.5 74.7 35.3 103.7H82.1C36.9 283 0 319.9 0 365.1v113.1c0 25.5 27.9 38.8 49.5 25.3 38.8-24.3 87.8-33.6 139.4-19.5 57 15.6 103.4 62.5 118.4 119.7 30.1 115.5-56.2 219.4-166.8 219.4-33.5 0-64.7-9.6-91.1-26.2C27.8 783.4 0 796.8 0 822.2v113.2c0 45.2 36.9 82.1 82.1 82.1h583.3c45.2 0 82.1-36.9 82.1-82.1V787.7c29 21.9 64.6 35.3 103.7 35.3 109.9 0 195.8-102.5 167.3-217.1-14.1-56.9-59.7-104.1-116-120.8z"})],-1)),createBaseVNode("span",_hoisted_16$3,toDisplayString$1(unref(n)("controls.loraStack")),1)],8,_hoisted_15$3)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_17$3,[createBaseVNode("button",{class:"tag-manager-btn",onClick:Re,title:unref(n)("controls.loraManager")},[V[15]||(V[15]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M129 128h350v80H209v224h270v80H129V128zM129 895V576h768v319H129z m80-239v159h608V656H209zM730 356c19.882 0 36-16.118 36-36s-16.118-36-36-36-36 16.118-36 36 16.118 36 36 36z"}),createBaseVNode("path",{d:"M578.517 214.386a32.002 32.002 0 0 0-16.01 27.731l0.058 155.918a31.998 31.998 0 0 0 16 27.701l135.156 78.033a32.002 32.002 0 0 0 31.99 0.006l135.058-77.909a32.002 32.002 0 0 0 16.01-27.731l-0.058-155.918a32 32 0 0 0-16-27.701l-135.157-78.033a31.998 31.998 0 0 0-31.989-0.005l-135.058 77.908z m67.002 58.058l84.033-48.591 84.181 48.715 0.034 95.24-84.034 48.591-84.18-48.714-0.034-95.241z"})],-1)),createBaseVNode("span",_hoisted_19$1,toDisplayString$1(unref(n)("controls.loraManager")),1)],8,_hoisted_18$2)]),createBaseVNode("div",_hoisted_20$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:ze,title:unref(n)("controls.history")},[V[16]||(V[16]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M653.7 85.83c-235.05 0-426.29 191.25-426.29 426.3s191.24 426.3 426.29 426.3c235.06 0 426.3-191.25 426.3-426.3S888.76 85.83 653.7 85.83z m0 779.98c-195.01 0-353.67-158.65-353.67-353.68S458.69 158.45 653.7 158.45c195.02 0 353.68 158.65 353.68 353.68S848.72 865.81 653.7 865.81z"}),createBaseVNode("path",{d:"M866.78 634.19L695.93 533.61V302.59c0-20.06-16.26-36.31-36.31-36.31s-36.31 16.26-36.31 36.31v253.66c0 17.06 11.8 31.26 27.66 35.16l178.98 105.36c17.28 10.17 39.54 4.41 49.71-12.87 10.17-17.28 4.4-39.54-12.88-49.71zM44.76 324.51h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31zM231.18 703.25H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.25-36.31-36.31-36.31zM36.31 550.19h118.8c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H36.31c-20.05 0-36.31 16.26-36.31 36.31 0 20.06 16.26 36.31 36.31 36.31z"})],-1)),createBaseVNode("span",_hoisted_22$1,toDisplayString$1(unref(n)("controls.history")),1)],8,_hoisted_21$1)]),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:ke,title:unref(n)("controls.aiChat")},[V[17]||(V[17]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}),createBaseVNode("path",{d:"M6 14h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"})],-1)),createBaseVNode("span",_hoisted_25$1,toDisplayString$1(unref(n)("controls.aiChat")),1)],8,_hoisted_24$1)]),createBaseVNode("div",_hoisted_26$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:Ne,title:unref(n)("controls.github")},[V[18]||(V[18]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})],-1)),createBaseVNode("span",_hoisted_28$1,toDisplayString$1(unref(n)("controls.github")),1)],8,_hoisted_27$1)]),createBaseVNode("div",_hoisted_29$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:Ce,title:unref(n)("controls.shareCloudData")},[V[19]||(V[19]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})],-1)),createBaseVNode("span",_hoisted_31$1,toDisplayString$1(unref(n)("controls.shareCloudData")),1)],8,_hoisted_30$1)]),createBaseVNode("div",_hoisted_32$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:et,title:unref(n)("controls.tutorialVideo")},[V[20]||(V[20]=createBaseVNode("svg",{t:"1745234292993",class:"tag-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1496",width:"128",height:"128"},[createBaseVNode("path",{d:"M204.288 63.488c-8.704 8.192-16.896 20.48-18.944 26.624-3.584 11.776 12.8 62.464 20.48 62.464S235.52 176.128 235.52 184.32c0 16.384-17.92 26.112-47.104 26.112-34.816 0-104.448 27.648-128.512 51.2-9.216 8.704-26.112 33.792-37.888 56.32L0 358.4v469.504l21.504 40.448c24.576 47.616 35.84 59.392 82.944 84.992l40.96 22.528h722.944l40.96-19.968c51.712-24.576 72.704-45.056 95.744-94.72l17.92-38.4v-231.424l0.512-231.424-17.92-36.352c-9.216-20.48-28.16-47.104-42.496-59.904-31.232-30.208-86.528-54.272-122.368-54.272-54.272 0-65.024-22.528-26.624-57.856 20.48-18.432 23.04-25.088 23.04-45.568 0-19.968-3.584-28.16-16.896-41.984-9.216-9.216-22.528-16.896-29.696-16.896-11.776 0-34.304 9.216-40.448 16.896-1.536 1.536-35.84 35.328-75.776 74.24l-73.216 71.168-83.456-0.512c-45.568 0-88.064-2.56-93.696-4.608-5.632-2.56-38.4-31.232-72.704-65.024C249.856 40.448 235.008 32.256 204.288 63.488z m652.8 262.656c5.12 0.512 19.968 9.216 31.744 20.48l21.504 19.968 1.536 217.088c1.024 197.12 0.512 218.112-8.704 236.032-14.336 27.136-34.816 40.448-65.536 41.984-14.336 0.512-173.568 0.512-353.28 0l-326.144-1.536-45.056-45.056V373.248l20.992-22.528c15.872-17.92 25.6-23.552 41.984-25.088 16.384-1.024 634.88-0.512 680.96 0.512z","p-id":"1497"}),createBaseVNode("path",{d:"M279.04 502.272c-20.48 22.016-20.992 25.088-20.992 66.56 0 39.936 1.024 44.544 17.92 64 29.184 33.28 55.808 32.256 84.48-2.56 11.264-12.8 12.8-22.016 13.312-64 0-47.104-0.512-48.64-19.968-68.096-27.136-27.648-47.616-26.112-74.752 4.096z m393.216-3.584c-18.944 18.944-19.968 20.992-19.968 69.12 0 47.616 0.512 49.664 18.432 67.072 24.576 23.552 35.84 26.624 58.368 13.824 29.184-16.896 39.936-43.52 36.864-90.624-2.56-35.328-4.608-41.984-22.016-59.904-25.088-25.6-45.568-25.6-71.68 0.512z","p-id":"1498"})],-1)),createBaseVNode("span",_hoisted_34$1,toDisplayString$1(unref(n)("controls.tutorialVideo")),1)],8,_hoisted_33$1)]),createVNode(SettingDialog,{ref_key:"settingDialog",ref:g},null,512)]),createBaseVNode("div",_hoisted_35$1,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":V[0]||(V[0]=Q=>l.value=Q),class:"input-area",onInput:ge,placeholder:unref(n)("promptBox.placeholder"),onKeydown:pt,onBlur:lt,rows:"6",ref_key:"inputAreaRef",ref:a},null,40,_hoisted_36$1),[[vModelText,l.value]]),createBaseVNode("div",{class:"autocomplete-container",ref_key:"autocompleteContainerRef",ref:r,style:normalizeStyle({top:`${o.value.top}px`,left:`${o.value.left}px`,display:N.value?"block":"none",width:`${L.value}px`,maxHeight:`${F.value}px`})},[createBaseVNode("button",{class:"close-autocomplete-btn",onClick:withModifiers(ft,["stop"])},"×"),(openBlock(!0),createElementBlock(Fragment,null,renderList(x.value,(Q,se)=>(openBlock(),createElementBlock("div",{key:se,class:normalizeClass(["autocomplete-item",{selected:se===C.value}]),onClick:withModifiers(fe=>dt(se,fe),["stop"]),ref_for:!0,ref:fe=>{fe&&se===C.value&&(B.value=fe)}},[createBaseVNode("span",_hoisted_38$1,toDisplayString$1(Q.text),1),createBaseVNode("span",_hoisted_39$1,toDisplayString$1(Q.desc),1)],10,_hoisted_37$1))),128))],4)]),createBaseVNode("div",_hoisted_40$1,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=Q=>z.value=Q),class:"prompt-input-translate-area-textarea",onKeyup:V[2]||(V[2]=withKeys(Q=>it(),["enter"])),placeholder:unref(n)("promptBox.translatePlaceholder")},null,40,_hoisted_41$1),[[vModelText,z.value]]),createBaseVNode("button",{class:"translate-btn",onClick:ie,title:unref(n)("promptBox.oneClickTranslate")},V[21]||(V[21]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),createBaseVNode("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)]),8,_hoisted_42$1)]),c.value.length>0?(openBlock(),createElementBlock("div",_hoisted_43$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(Q,se)=>(openBlock(),createElementBlock(Fragment,{key:"tag-item-"+se},[createBaseVNode("div",{class:"token-item-box",draggable:!Q.isEditing,onDragstart:fe=>X(se,fe),onDragover:withModifiers(fe=>oe(se,fe),["prevent"]),onDrop:fe=>re(se,fe),onDblclick:fe=>Fe(se),style:normalizeStyle({backgroundColor:Q.color})},[Q.text===`
`?(openBlock(),createElementBlock("div",_hoisted_45$1,[createBaseVNode("span",{class:"token-symbol",title:unref(n)("promptBox.newline")},"↵",8,_hoisted_46$1)])):Q.text==="	"?(openBlock(),createElementBlock("div",{key:1,class:"token-item tab-token",onMouseenter:fe=>I(se,fe),onMouseleave:fe=>Z()},[createBaseVNode("span",{class:"token-symbol",title:unref(n)("promptBox.tab")},"→",8,_hoisted_48)],40,_hoisted_47)):Q.text?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(["token-item",{punctuation:Q.isPunctuation}]),onMouseenter:fe=>I(se,fe),onMouseleave:fe=>Z()},[!Q.isEditing||Q.isPunctuation?(openBlock(),createElementBlock("span",{key:0,onClick:fe=>!Q.isPunctuation&&P(se)},toDisplayString$1(Q.text),9,_hoisted_50)):Q.isPunctuation?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:1,value:Q.text,onInput:fe=>J(se,fe),onBlur:fe=>Y(se),onKeyup:withKeys(fe=>Y(se),["enter"]),ref_for:!0,ref:fe=>{fe&&(u[se]=fe)}},null,40,_hoisted_51))],42,_hoisted_49)):createCommentVNode("",!0),Q.text!==`
`&&Q.text!=="	"?(openBlock(),createElementBlock("div",_hoisted_52,[R(Q.text)?(openBlock(),createElementBlock("div",{key:0,onClick:fe=>Ge(Q.text,Q),class:"translate-button",title:unref(n)("promptBox.translate")},V[22]||(V[22]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),createBaseVNode("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)]),8,_hoisted_53)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_54,toDisplayString$1(Q.translate?Q.translate:""),1)])):createCommentVNode("",!0)],44,_hoisted_44$1),Q.isHidden?(openBlock(),createElementBlock("span",{key:0,class:"hidden-hint",title:Q.hiddenHint},V[23]||(V[23]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[createBaseVNode("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),createBaseVNode("circle",{cx:"12",cy:"12",r:"3"})],-1)]),8,_hoisted_55)):createCommentVNode("",!0),Q.text===`
`?(openBlock(),createElementBlock("div",_hoisted_56)):createCommentVNode("",!0)],64))),128))])):createCommentVNode("",!0),ee.value?(openBlock(),createElementBlock("div",{key:1,class:"tag-tips-box",style:normalizeStyle(W.value)},[createBaseVNode("div",_hoisted_57,[createBaseVNode("p",{innerHTML:unref(n)("promptBox.tagTips")},null,8,_hoisted_58)])],4)):createCommentVNode("",!0),withDirectives(createBaseVNode("div",{class:"token-controls",style:normalizeStyle(m.value),onMouseenter:V[10]||(V[10]=Q=>f.value=!0),onMouseleave:w},[createBaseVNode("div",_hoisted_59,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":V[3]||(V[3]=Q=>ce.value=Q),step:"0.1",min:"0.1",max:"2",class:"weight-input",onChange:ye},null,544),[[vModelText,ce.value]]),createBaseVNode("span",_hoisted_60,toDisplayString$1(unref(n)("promptBox.weight")),1)]),createBaseVNode("button",{onClick:D,class:"delete-btn",title:unref(n)("promptBox.delete")},V[24]||(V[24]=[createBaseVNode("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_61),createBaseVNode("div",_hoisted_62,[createBaseVNode("div",_hoisted_63,[V[25]||(V[25]=createBaseVNode("div",{class:"bracket-btn"}," () ",-1)),createBaseVNode("div",_hoisted_64,[createBaseVNode("button",{class:"vertical-btn",onClick:V[4]||(V[4]=Q=>be("(")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_65),createBaseVNode("button",{class:"vertical-btn",onClick:V[5]||(V[5]=Q=>Ee("(")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_66)])]),createBaseVNode("div",_hoisted_67,[V[26]||(V[26]=createBaseVNode("div",{class:"bracket-btn"}," [] ",-1)),createBaseVNode("div",_hoisted_68,[createBaseVNode("button",{class:"vertical-btn",onClick:V[6]||(V[6]=Q=>be("[")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_69),createBaseVNode("button",{class:"vertical-btn",onClick:V[7]||(V[7]=Q=>Ee("[")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_70)])]),createBaseVNode("div",_hoisted_71,[V[27]||(V[27]=createBaseVNode("div",{class:"bracket-btn"}," {} ",-1)),createBaseVNode("div",_hoisted_72,[createBaseVNode("button",{class:"vertical-btn",onClick:V[8]||(V[8]=Q=>be("{")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_73),createBaseVNode("button",{class:"vertical-btn",onClick:V[9]||(V[9]=Q=>Ee("{")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_74)])])])],36),[[vShow,d.value!==null&&c.value[d.value]]]),createBaseVNode("div",_hoisted_75,[createBaseVNode("div",{class:"tag-manager-header",onClick:Ue},[createBaseVNode("div",_hoisted_76,[V[28]||(V[28]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M129 128h350v80H209v224h270v80H129V128zM129 895V576h768v319H129z m80-239v159h608V656H209zM730 356c19.882 0 36-16.118 36-36s-16.118-36-36-36-36 16.118-36 36 16.118 36 36 36z"}),createBaseVNode("path",{d:"M578.517 214.386a32.002 32.002 0 0 0-16.01 27.731l0.058 155.918a31.998 31.998 0 0 0 16 27.701l135.156 78.033a32.002 32.002 0 0 0 31.99 0.006l135.058-77.909a32.002 32.002 0 0 0 16.01-27.731l-0.058-155.918a32 32 0 0 0-16-27.701l-135.157-78.033a31.998 31.998 0 0 0-31.989-0.005l-135.058 77.908z m67.002 58.058l84.033-48.591 84.181 48.715 0.034 95.24-84.034 48.591-84.18-48.714-0.034-95.241z"})],-1)),createBaseVNode("span",_hoisted_77,toDisplayString$1(unref(n)("controls.loraManager")),1)]),createBaseVNode("div",_hoisted_78,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["collapse-icon",{"is-collapsed":!Qe.value}]),viewBox:"0 0 24 24"},V[29]||(V[29]=[createBaseVNode("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"},null,-1)]),2))])]),withDirectives(createBaseVNode("div",_hoisted_79,[createVNode(LoraManager)],512),[[vShow,Qe.value]])]),createBaseVNode("div",_hoisted_80,[createBaseVNode("div",{class:"tag-manager-header",onClick:Ke},[createBaseVNode("div",_hoisted_81,[V[30]||(V[30]=createBaseVNode("svg",{class:"tag-icon",viewBox:"0 0 24 24"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",_hoisted_82,toDisplayString$1(unref(n)("controls.tagManager")),1)]),createBaseVNode("div",_hoisted_83,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["collapse-icon",{"is-collapsed":!De.value}]),viewBox:"0 0 24 24"},V[31]||(V[31]=[createBaseVNode("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"},null,-1)]),2))])]),withDirectives(createBaseVNode("div",_hoisted_84,[createVNode(TagManager)],512),[[vShow,De.value]])])],6)]))}},PromptBox=_export_sfc(_sfc_main$8,[["__scopeId","data-v-6e01fff2"]]),_hoisted_1$7={class:"container"},_hoisted_2$5={class:"tab-container"},_hoisted_3$5={key:0},_hoisted_4$5={class:"search-container"},_hoisted_5$4=["placeholder"],_hoisted_6$4=["title"],_hoisted_7$4=["title","disabled"],_hoisted_8$4=["title"],_hoisted_9$4={class:"history-list"},_hoisted_10$3={class:"action-buttons"},_hoisted_11$3=["onClick","title"],_hoisted_12$3=["onClick","title"],_hoisted_13$2=["onClick","title"],_hoisted_14$2=["value"],_hoisted_15$2={key:1},_hoisted_16$2={class:"search-container"},_hoisted_17$2=["placeholder"],_hoisted_18$1=["title"],_hoisted_19=["title"],_hoisted_20=["title","disabled"],_hoisted_21=["title"],_hoisted_22={class:"history-list"},_hoisted_23={key:0,class:"favor-name"},_hoisted_24={class:"action-buttons"},_hoisted_25=["onClick","title"],_hoisted_26=["onClick","title"],_hoisted_27=["onClick","title"],_hoisted_28=["value"],_hoisted_29={key:2,class:"dialog-overlay"},_hoisted_30={class:"dialog-header"},_hoisted_31={class:"dialog-body"},_hoisted_32={class:"form-group"},_hoisted_33=["placeholder"],_hoisted_34={class:"form-group"},_hoisted_35=["placeholder"],_hoisted_36={class:"form-group"},_hoisted_37={class:"color-picker"},_hoisted_38={class:"color-controls"},_hoisted_39={class:"alpha-control"},_hoisted_40={class:"alpha-value"},_hoisted_41={class:"dialog-footer"},_hoisted_42={key:3,class:"dialog-overlay"},_hoisted_43={class:"dialog-header"},_hoisted_44={class:"dialog-body"},_hoisted_45={class:"confirm-message"},_hoisted_46={class:"dialog-footer"},_sfc_main$7={__name:"history_index",setup(e){const{t}=useI18n(),n=ref(""),r=ref([]),a=ref([]),o=ref([]),s=ref([]),l=ref("history"),c=ref([]),u=ref(!1),d=ref(!1),f=ref(!1),m=ref({hex:"rgba(255, 123, 2, .4)",alpha:100}),_=ref({name:"",tag:"",color:"rgba(255, 123, 2, .4)"}),g=ref(!1),v=ref(0),b=ae=>({hex:"#FFFFFF",alpha:0}),y=ae=>{const{hex:ie,alpha:he}=b();m.value={hex:ie,alpha:he}},S=()=>{f.value=!1,_.value={id:"",name:"",tag:"",backgroundColor:"transparent"},y(),u.value=!0},N=ae=>{const ie=ae.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(ie){const[,he,T,E,I]=ie,U=`#${((1<<24)+(parseInt(he)<<16)+(parseInt(T)<<8)+parseInt(E)).toString(16).slice(1)}`,K=I?Math.round(parseFloat(I)*100):100;return{hex:U,alpha:K}}return{hex:"#FF7B02",alpha:50}},x=ae=>{f.value=!0,_.value={...ae},m.value=N(ae.color),u.value=!0},C=()=>{const ae=_e(m.value.hex,m.value.alpha);_.value.color=ae},B=()=>{u.value=!1,_.value={name:"",tag:"",color:"rgba(255, 123, 2, .4)"},f.value=!1},L=ref(""),F=ref(null),z=computed(()=>{if(!F.value)return"";switch(L.value){case"history":return t("history.deleteHistoryConfirm",{name:F.value.tag});case"favorite":return t("history.deleteFavoriteConfirm",{name:F.value.tag});case"deleteSelected":return t("history.confirmDeleteSelected");case"deleteSelectedFavorite":return t("history.confirmDeleteSelected");default:return""}}),ee=ae=>{L.value="history",F.value=ae,d.value=!0},W=ae=>{L.value="favorite",F.value=ae,d.value=!0},O=()=>{g.value=!1,v.value=0,L.value="deleteSelected",F.value=c.value,d.value=!0},ne=()=>{g.value=!1,v.value=0,L.value="deleteSelectedFavorite",F.value=c.value,d.value=!0},le=async()=>{try{switch(L.value){case"history":historyApi.deleteHistory(F.value.id_index).then(ae=>{ye(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})});break;case"favorite":historyApi.deleteFavorite(F.value.id_index).then(ae=>{be(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})});break;case"deleteSelected":historyApi.batchDeleteHistory(c.value).then(ae=>{ye(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})});break;case"deleteSelectedFavorite":historyApi.batchDeleteFavorite(F.value).then(ae=>{be(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})});break}ue()}catch{message$1({type:"warn",str:"message.networkError"})}},Se=ae=>{ae.target.checked?l.value==="history"?c.value=r.value.map(ie=>ie.id_index):c.value=o.value.map(ie=>ie.id_index):c.value=[]},_e=(ae,ie)=>{const he=parseInt(ae.slice(1,3),16),T=parseInt(ae.slice(3,5),16),E=parseInt(ae.slice(5,7),16);return`rgba(${he}, ${T}, ${E}, ${ie/100})`},ue=()=>{d.value=!1,L.value="",F.value=null},ce=()=>{if(!_.value.tag){message$1({type:"warn",str:"history.dialog.tag_placeholder"});return}f.value?historyApi.editFavorite({id_index:_.value.id_index,name:_.value.name,tag:_.value.tag,color:_.value.color}).then(ae=>{be(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.editSuccess"})}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})}):historyApi.addFavorite({name:_.value.name,tag:_.value.tag,color:_.value.color}).then(ae=>{be(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.addSuccess"})}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})}),B()},ye=()=>{historyApi.getHistory({}).then(ae=>{r.value=ae.data,a.value=r.value}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})})},be=()=>{historyApi.getFavorite().then(ae=>{o.value=ae.data,s.value=o.value}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})})},Ee=()=>{a.value=r.value.filter(ae=>ae.tag.includes(n.value))},H=()=>{s.value=o.value.filter(ae=>ae.tag.includes(n.value))},R=()=>{ye()},A=()=>{be()},M=ae=>{historyApi.addFavorite({tag:ae.tag}).then(ie=>{ie.code===200?(window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),be(),message$1({type:"success",str:"message.addFavoriteSuccess"})):message$1({type:"success",str:"message.addFavoriteIsExist"})}).catch(ie=>{message$1({type:"warn",str:"message.networkError"})})},G=ae=>{window.postMessage({type:"weilin_prompt_ui_user_history_tag",tagText:ae.tag},"*")},te=()=>{c.value=[],g.value=!0},ge=()=>{c.value=[],g.value=!1,v.value=0};return onMounted(()=>{ye(),be()}),(ae,ie)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("h1",null,toDisplayString$1(l.value==="history"?unref(t)("history.title"):unref(t)("history.favorites")),1),createBaseVNode("div",_hoisted_2$5,[createBaseVNode("button",{class:normalizeClass([{active:l.value==="history"},"tab-button"]),onClick:ie[0]||(ie[0]=he=>l.value="history")},toDisplayString$1(unref(t)("history.history")),3),createBaseVNode("button",{class:normalizeClass([{active:l.value==="favorites"},"tab-button"]),onClick:ie[1]||(ie[1]=he=>l.value="favorites")},toDisplayString$1(unref(t)("history.favorites")),3)]),l.value==="history"?(openBlock(),createElementBlock("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("button",{class:"refresh-btn",onClick:R},ie[14]||(ie[14]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ie[2]||(ie[2]=he=>n.value=he),placeholder:unref(t)("history.search_placeholder"),onInput:Ee,class:"search-input"},null,40,_hoisted_5$4),[[vModelText,n.value]]),g.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ie[3]||(ie[3]=he=>v.value=he),value:1,class:"tag-checkbox",onChange:Se},null,544)),[[vModelCheckbox,v.value]]):createCommentVNode("",!0),g.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"bulk-delete-btn",onClick:te,title:unref(t)("history.bulk_delete")},ie[15]||(ie[15]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_6$4)),g.value?(openBlock(),createElementBlock("button",{key:2,class:"bulk-delete-btn",onClick:O,title:unref(t)("history.sure_delete"),disabled:c.value.length===0},ie[16]||(ie[16]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)]),8,_hoisted_7$4)):createCommentVNode("",!0),g.value?(openBlock(),createElementBlock("button",{key:3,class:"bulk-delete-btn",onClick:ge,title:unref(t)("history.cancel_delete")},ie[17]||(ie[17]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),createBaseVNode("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)]),8,_hoisted_8$4)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_9$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,he=>(openBlock(),createElementBlock("li",{key:he.id_index,class:"history-item"},[createBaseVNode("span",null,toDisplayString$1(he.tag),1),createBaseVNode("div",_hoisted_10$3,[createBaseVNode("button",{onClick:T=>M(he),class:"favorite-btn",title:unref(t)("history.add_to_favorites")},ie[18]||(ie[18]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"favorite-icon"},[createBaseVNode("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)]),8,_hoisted_11$3),createBaseVNode("button",{onClick:T=>ee(he),class:"delete-favorite-btn",title:unref(t)("history.delete_history")},ie[19]||(ie[19]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_12$3),createBaseVNode("button",{onClick:T=>G(he),class:"use-btn",title:unref(t)("history.use_item")},ie[20]||(ie[20]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[createBaseVNode("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)]),8,_hoisted_13$2),g.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ie[4]||(ie[4]=T=>c.value=T),value:he.id_index,class:"tag-checkbox"},null,8,_hoisted_14$2)),[[vModelCheckbox,c.value]]):createCommentVNode("",!0)])]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_15$2,[createBaseVNode("div",_hoisted_16$2,[createBaseVNode("button",{class:"refresh-btn",onClick:A},ie[21]||(ie[21]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ie[5]||(ie[5]=he=>n.value=he),placeholder:unref(t)("history.search_placeholder"),onInput:H,class:"search-input"},null,40,_hoisted_17$2),[[vModelText,n.value]]),g.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ie[6]||(ie[6]=he=>v.value=he),value:1,class:"tag-checkbox",onChange:Se},null,544)),[[vModelCheckbox,v.value]]):createCommentVNode("",!0),createBaseVNode("button",{class:"add-his-btn",onClick:S,title:unref(t)("history.add_new")},ie[22]||(ie[22]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"add-icon"},[createBaseVNode("path",{d:"M19 11h-6V5c0-.55-.45-1-1-1s-1 .45-1 1v6H5c-.55 0-1 .45-1 1s.45 1 1 1h6v6c0 .55.45 1 1 1s1-.45 1-1v-6h6c.55 0 1-.45 1-1s-.45-1-1-1z"})],-1)]),8,_hoisted_18$1),g.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"bulk-delete-btn",onClick:te,title:unref(t)("history.bulk_delete")},ie[23]||(ie[23]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_19)),g.value?(openBlock(),createElementBlock("button",{key:2,class:"bulk-delete-btn",onClick:ne,title:unref(t)("history.sure_delete"),disabled:c.value.length===0},ie[24]||(ie[24]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)]),8,_hoisted_20)):createCommentVNode("",!0),g.value?(openBlock(),createElementBlock("button",{key:3,class:"bulk-delete-btn",onClick:ge,title:unref(t)("history.cancel_delete")},ie[25]||(ie[25]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),createBaseVNode("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)]),8,_hoisted_21)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_22,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,he=>(openBlock(),createElementBlock("li",{key:he.id_index,class:"history-item"},[createBaseVNode("div",{class:"favor-name-box",style:normalizeStyle({backgroundColor:he.color||"transparent"})},[he.name.length>0?(openBlock(),createElementBlock("span",_hoisted_23,toDisplayString$1(he.name),1)):createCommentVNode("",!0)],4),createBaseVNode("span",null,toDisplayString$1(he.tag),1),createBaseVNode("div",_hoisted_24,[createBaseVNode("button",{onClick:T=>x(he),class:"delete-favorite-btn",title:unref(t)("history.edit_favorite")},ie[26]||(ie[26]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M200.59 626.48v129.5h129.5l381.93-381.93-129.5-129.5-381.93 381.93z m611.56-352.57c13.45-13.41 13.48-35.18 0.07-48.62l-0.07-0.07-80.81-80.81c-13.41-13.45-35.18-13.48-48.62-0.07l-0.07 0.07-63.19 63.19 129.5 129.5 63.19-63.19zM131.52 824.96h759.71c23.02 0 34.53 11.51 34.53 34.53 0 23.02-11.51 34.53-34.53 34.53H131.52c-23.02 0-34.53-11.51-34.53-34.53 0-23.02 11.51-34.53 34.53-34.53z","p-id":"2346"})],-1)]),8,_hoisted_25),createBaseVNode("button",{onClick:T=>W(he),class:"delete-favorite-btn",title:unref(t)("history.delete_favorite")},ie[27]||(ie[27]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_26),createBaseVNode("button",{onClick:T=>G(he),class:"use-btn",title:unref(t)("history.use_favorite")},ie[28]||(ie[28]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[createBaseVNode("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)]),8,_hoisted_27),g.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ie[7]||(ie[7]=T=>c.value=T),value:he.id_index,class:"tag-checkbox"},null,8,_hoisted_28)),[[vModelCheckbox,c.value]]):createCommentVNode("",!0)])]))),128))])])),u.value?(openBlock(),createElementBlock("div",_hoisted_29,[createBaseVNode("div",{class:"dialog-content",onMousedown:ie[12]||(ie[12]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_30,[createBaseVNode("h2",null,toDisplayString$1(f.value?unref(t)("history.dialog.edit_tag"):unref(t)("history.dialog.add_tag")),1),createBaseVNode("button",{class:"close-btn",onClick:B},"×")]),createBaseVNode("div",_hoisted_31,[createBaseVNode("div",_hoisted_32,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.name")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ie[8]||(ie[8]=he=>_.value.name=he),placeholder:unref(t)("history.dialog.name_placeholder")},null,8,_hoisted_33),[[vModelText,_.value.name]])]),createBaseVNode("div",_hoisted_34,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.tag")),1),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ie[9]||(ie[9]=he=>_.value.tag=he),placeholder:unref(t)("history.dialog.tag_placeholder"),rows:"4"},"                        ",8,_hoisted_35),[[vModelText,_.value.tag]])]),createBaseVNode("div",_hoisted_36,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.background_color")),1),createBaseVNode("div",_hoisted_37,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:ae.previewColor})},null,4),createBaseVNode("div",_hoisted_38,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":ie[10]||(ie[10]=he=>m.value.hex=he),onInput:C,class:"color-input"},null,544),[[vModelText,m.value.hex]]),createBaseVNode("div",_hoisted_39,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":ie[11]||(ie[11]=he=>m.value.alpha=he),min:"0",max:"100",onInput:C,class:"alpha-slider"},null,544),[[vModelText,m.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_40,toDisplayString$1(m.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_41,[createBaseVNode("button",{class:"cancel-btn",onClick:B},toDisplayString$1(unref(t)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:ce},toDisplayString$1(unref(t)("common.confirm")),1)])],32)])):createCommentVNode("",!0),d.value?(openBlock(),createElementBlock("div",_hoisted_42,[createBaseVNode("div",{class:"dialog-content confirm-dialog",onMousedown:ie[13]||(ie[13]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_43,[createBaseVNode("h2",null,toDisplayString$1(unref(t)("common.confirmDelete")),1),createBaseVNode("button",{class:"close-btn",onClick:ue},"×")]),createBaseVNode("div",_hoisted_44,[createBaseVNode("p",_hoisted_45,toDisplayString$1(z.value),1)]),createBaseVNode("div",_hoisted_46,[createBaseVNode("button",{class:"cancel-btn",onClick:ue},toDisplayString$1(unref(t)("common.cancel")),1),createBaseVNode("button",{class:"delete-btn",onClick:le},toDisplayString$1(unref(t)("common.delete")),1)])],32)])):createCommentVNode("",!0)]))}},HistoryManager=_export_sfc(_sfc_main$7,[["__scopeId","data-v-e4496da5"]]),_hoisted_1$6={key:0,class:"drop-zone"},_hoisted_2$4={key:1,class:"preview-container"},_hoisted_3$4=["srcdoc"],_hoisted_4$4={class:"action-buttons"},STORAGE_PREFIX$1="weilin_tools_",_sfc_main$6={__name:"tranToWeb",emits:["close","update"],setup(e,{expose:t,emit:n}){const{t:r}=useI18n(),a=ref(!1),o=ref(""),s=ref(null),l={tranToWeb:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},u=ref((()=>{try{const C=localStorage.getItem(`${STORAGE_PREFIX$1}tranToWebState`);if(C){const B=JSON.parse(C),L={...l};return B.tranToWeb&&(L.tranToWeb={...l.tranToWeb,...B.tranToWeb}),L}}catch(C){console.error("Error loading window states:",C)}return{...l}})());watch(u,C=>{try{localStorage.setItem(`${STORAGE_PREFIX$1}tranToWebState`,JSON.stringify(C))}catch(B){console.error("Error saving window states:",B)}},{deep:!0}),onMounted(()=>{windowManager.registerWindow("tranToWeb")}),onUnmounted(()=>{windowManager.unregisterWindow("tranToWeb")});const d=C=>{a.value=!1},f=(C,B)=>{u.value[C]&&(u.value[C].position={...B})},m=(C,B)=>{u.value[C]&&(u.value[C].size={...B})},_=()=>{a.value=!0,windowManager.setActiveWindow("tranToWeb")},g=C=>{C.dataTransfer.dropEffect="copy"},v=C=>{const B=C.dataTransfer.files[0];B&&B.type.startsWith("image/")&&y(B)},b=C=>{const B=C.clipboardData.items;for(let L=0;L<B.length;L++)if(B[L].type.startsWith("image/")){const F=B[L].getAsFile();y(F);break}},y=C=>{const B=new FileReader;B.onload=L=>{const F=L.target.result,z=btoa(F);s.value=z,S()},B.readAsDataURL(C)},S=()=>{o.value=`
        <!DOCTYPE html>
        <html>
        <head>
            <title>WeiLin Comfyui Tools - Image to HTML</title>
            <style>
                body { margin: 0; padding: 0; }
                img { max-width: 100%; height: auto; }
            </style>
            <script>
                window.onload = function() {
                    // 解密图片数据
                    try {
                        const encryptedData = "${s.value}";
                        const originalData = atob(encryptedData);
                        document.getElementById('decrypted-img').src = originalData;
                        document.getElementById('decrypted-img').style.display = 'block';
                    } catch(e) {
                        console.error('解密失败:', e);
                        document.body.innerHTML = '<p>图片解密失败</p>';
                    }
                };
            <\/script>
        </head>
        <body>
            <img id="decrypted-img" style="display:none;" />
        </body>
        </html>
    `},N=()=>{const C=new Blob([o.value],{type:"text/html"}),B=URL.createObjectURL(C),L=document.createElement("a");L.href=B,L.download="image-to-html.html",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(B)},x=()=>{o.value="",s.value=null};return t({open:_}),(C,B)=>a.value?(openBlock(),createBlock(DraggableWindow,{key:0,title:unref(r)("utils.tranToWeb"),position:u.value.tranToWeb.position,size:u.value.tranToWeb.size,"z-index":unref(windowManager).getZIndex("tranToWeb"),"onUpdate:position":B[0]||(B[0]=L=>f("tranToWeb",L)),"onUpdate:size":B[1]||(B[1]=L=>m("tranToWeb",L)),onActive:B[2]||(B[2]=L=>unref(windowManager).setActiveWindow("tranToWeb")),onClose:B[3]||(B[3]=L=>d())},{default:withCtx(()=>[createBaseVNode("div",{class:"utils_tran_web__content",onDragover:withModifiers(g,["prevent"]),onDrop:withModifiers(v,["prevent"]),onPaste:b},[o.value?(openBlock(),createElementBlock("div",_hoisted_2$4,[createBaseVNode("iframe",{srcdoc:o.value,class:"html-preview"},null,8,_hoisted_3$4),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("button",{onClick:N},toDisplayString$1(unref(r)("utils.downloadHtml")),1),createBaseVNode("button",{onClick:x},toDisplayString$1(unref(r)("utils.clear")),1)])])):(openBlock(),createElementBlock("div",_hoisted_1$6,toDisplayString$1(unref(r)("utils.dropOrPasteImage")),1))],32)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0)}},tranToWeb=_export_sfc(_sfc_main$6,[["__scopeId","data-v-b3bee18b"]]),_hoisted_1$5=["onMouseenter","onMouseleave","onMousedown","onMouseup"],_sfc_main$5={__name:"FloatingBall",setup(e){const{t}=useI18n(),n=ref(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1),r=ref(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66);(n.value<1||r.value<66)&&(n.value=1,r.value=66,localStorage.setItem("weilin_prompt_ui_floatingBallCount",n.value),localStorage.setItem("weilin_prompt_ui_floatingBallSize",r.value)),localStorage.getItem("weilin_prompt_ui_floatingBallCount")||localStorage.setItem("weilin_prompt_ui_floatingBallCount",n.value),localStorage.getItem("weilin_prompt_ui_floatingBallSize")||localStorage.setItem("weilin_prompt_ui_floatingBallSize",r.value);const a=ref([]),o=ref([]),s=ref([]),l=ref([]);for(let S=0;S<n.value;S++){s.value[S]=!1,o.value[S]=!1;const N=window.innerWidth,x=window.innerHeight,C=r.value,B=10,L=Math.floor(N/(C+B)),F=Math.floor(S/L);let ee=20+S%L*(C+B),W=x-100-F*(C+B);ee=Math.max(0,ee),ee=Math.min(ee,N-C),W=Math.max(0,W),W=Math.min(W,x-C),a.value[S]={x:ee,y:W,width:C+"px",height:C+"px"},l.value[S]={left:`${a.value[S].x}px`,top:`${a.value[S].y}px`,width:`${C}px`,height:`${C}px`}}const c=(S,N)=>{S.target.closest(".weilin_prompt_ui_floating-ball")&&(o.value[N]=!0,document.addEventListener("mousemove",C=>u(C,N)),document.addEventListener("mouseup",C=>d(C,N)))},u=(S,N)=>{if(o.value[N]){const x=window.innerWidth,C=window.innerHeight,B=r.value;let L=S.clientX-B/2,F=S.clientY-B/2;L=Math.max(0,L),L=Math.min(L,x-B),F=Math.max(0,F),F=Math.min(F,C-B),a.value[N]={x:L,y:F,width:B+"px",height:B+"px"},l.value[N]={left:`${a.value[N].x}px`,top:`${a.value[N].y}px`,width:`${B}px`,height:`${B}px`}}},d=(S,N)=>{o.value[N]=!1,document.removeEventListener("mousemove",x=>u(x,N)),document.removeEventListener("mouseup",x=>d(x,N))},f=()=>{},m=S=>{switch(S){case"item1":window.parent.postMessage({type:"weilin_prompt_ui_open_global_prompt_box"},"*");break;case"item2":window.parent.postMessage({type:"weilin_prompt_ui_open_global_tag_manager"},"*");break;case"item3":window.parent.postMessage({type:"weilin_prompt_ui_open_global_lora_manager"},"*");break;case"item4":window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*");break;case"item5":window.parent.postMessage({type:"weilin_prompt_ui_restore_window"},"*");break;case"item6":window.parent.postMessage({type:"weilin_prompt_ui_open_node_list_window"},"*");break;case"item7":g();break}},_=ref(),g=()=>{_.value.open()},v=S=>{if(S.data.type==="weilin_prompt_ui_floating_ball_setting"){n.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1,r.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66,s.value=[],o.value=[],a.value=[],l.value=[];for(let N=0;N<n.value;N++){s.value[N]=!1,o.value[N]=!1;const x=window.innerWidth,C=window.innerHeight,B=r.value,L=10,F=Math.floor(x/(B+L)),z=Math.floor(N/F);let W=20+N%F*(B+L),O=C-100-z*(B+L);W=Math.max(0,W),W=Math.min(W,x-B),O=Math.max(0,O),O=Math.min(O,C-B),a.value[N]={x:W,y:O,width:B+"px",height:B+"px"},l.value[N]={left:`${a.value[N].x}px`,top:`${a.value[N].y}px`,width:`${B}px`,height:`${B}px`}}}},b=S=>{s.value[S]=!0},y=S=>{s.value[S]=!1};return onMounted(()=>{window.addEventListener("message",v)}),onUnmounted(()=>{window.removeEventListener("message",v),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)}),(S,N)=>(openBlock(),createElementBlock(Fragment,null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,x=>(openBlock(),createElementBlock("div",{class:"weilin_prompt_ui_floating-ball",style:normalizeStyle(l.value[x-1]),onMouseenter:C=>b(x-1),onMouseleave:C=>y(x-1),onMousedown:C=>c(C,x-1),onMouseup:C=>d(C,x-1),key:"floating-ball-"+x},[createBaseVNode("div",{class:"weilin_prompt_ui_ball-content",onClick:f},[renderSlot(S.$slots,"default",{},void 0,!0)]),s.value[x-1]?(openBlock(),createElementBlock("div",{key:0,class:"weilin_prompt_ui_menu-container",onMousedown:N[7]||(N[7]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:N[0]||(N[0]=C=>m("item1"))},toDisplayString$1(unref(t)("floatingBall.promptBox")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:N[1]||(N[1]=C=>m("item2"))},toDisplayString$1(unref(t)("floatingBall.tagManager")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:N[2]||(N[2]=C=>m("item3"))},toDisplayString$1(unref(t)("floatingBall.loraManager")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:N[3]||(N[3]=C=>m("item4"))},toDisplayString$1(unref(t)("floatingBall.aiWindow")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:N[4]||(N[4]=C=>m("item6"))},toDisplayString$1(unref(t)("floatingBall.openNodeListWindow")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:N[5]||(N[5]=C=>m("item7"))},toDisplayString$1(unref(t)("floatingBall.tranToWeb")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:N[6]||(N[6]=C=>m("item5"))},toDisplayString$1(unref(t)("floatingBall.restoreWindow")),1)],32)):createCommentVNode("",!0)],44,_hoisted_1$5))),128)),createVNode(tranToWeb,{ref_key:"tranToWebRef",ref:_},null,512)],64))}},FloatingBall=_export_sfc(_sfc_main$5,[["__scopeId","data-v-4b3f84fb"]]),_hoisted_1$4={class:"ai-chat-window"},_hoisted_2$3={class:"history-sidebar"},_hoisted_3$3={class:"history-list"},_hoisted_4$3=["onClick"],_hoisted_5$3={key:0},_hoisted_6$3=["onKeyup","onBlur"],_hoisted_7$3={class:"item-actions"},_hoisted_8$3=["onClick"],_hoisted_9$3=["onClick"],_hoisted_10$2={class:"chat-main"},_hoisted_11$2={class:"message-list"},_hoisted_12$2={class:"message-content"},_hoisted_13$1={key:0,class:"message assistant"},_hoisted_14$1={class:"message-content"},_hoisted_15$1={class:"input-area"},_hoisted_16$1=["placeholder","onKeydown"],_hoisted_17$1=["disabled"],_sfc_main$4={__name:"ai_window",setup(e){const{t}=useI18n(),n=ref([]),r=ref(-1),a=ref(""),o=ref(!1),s=ref({}),l=ref(!1),c=ref(""),u=C=>{var B;n.value[C]&&(l.value=!0,c.value=((B=n.value[C])==null?void 0:B.title)||`对话 ${C+1}`,r.value=C)},d=C=>{n.value[C]&&(c.value.trim()&&(n.value[C].title=c.value.trim(),y()),l.value=!1)},f=()=>{l.value=!1},m=()=>{openaiApi.getOpenAiSetting().then(C=>{s.value=C.data}).catch(C=>{message$1({type:"warn",str:"message.networkError"})})};onMounted(()=>{m()});const _=computed(()=>n.value[r.value]||{messages:[]}),g=C=>{r.value=C},v=()=>{o.value=!0;const C={title:`对话 ${n.value.length+1}`,messages:[],createdAt:new Date().toISOString()};return n.value.push(C),r.value=n.value.length-1,y(),o.value=!1,C},b=()=>{const C=localStorage.getItem("aiChatHistory");C&&(n.value=JSON.parse(C))},y=()=>{localStorage.setItem("aiChatHistory",JSON.stringify(n.value))};onMounted(()=>{m(),b()});const S=async()=>{if(!a.value.trim()||o.value)return;(n.value.length===0||r.value===-1)&&v();const C={role:"user",content:a.value,timestamp:new Date().toISOString()};_.value.messages.push(C),y(),a.value="";const B={role:"assistant",content:"",timestamp:new Date().toISOString()};_.value.messages.push(B),y(),o.value=!0;try{await x({messages:_.value.messages},L=>{const F=_.value.messages[_.value.messages.length-1];F.content+=L.content,y()},L=>{console.error("Error:",L);const F=_.value.messages[_.value.messages.length-1];F.content="抱歉，出错了，请稍后再试。",y()},()=>{o.value=!1,y()})}catch(L){console.error("Error:",L),o.value=!1;const F=_.value.messages[_.value.messages.length-1];F.content="请求失败，请检查网络连接。",y()}},N=C=>{n.value.splice(C,1),r.value===C&&(r.value=Math.max(0,C-1)),y()},x=async(C,B,L,F)=>{var z,ee;try{const W=await fetch(s.value.base_url+"/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.value.api_key}`},body:JSON.stringify({model:s.value.model,messages:C.messages,stream:!0})});if(!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const O=W.body.getReader(),ne=new TextDecoder;let le="";for(;;){const{done:Se,value:_e}=await O.read();if(Se){F();break}le+=ne.decode(_e,{stream:!0});const ue=le.split(`
`);le=ue.pop();for(const ce of ue)if(ce.trim()!==""){if(ce==="data: [DONE]"){F();return}try{const ye=ce.replace(/^data: /,""),Ee=((ee=(z=JSON.parse(ye).choices[0])==null?void 0:z.delta)==null?void 0:ee.content)||"";Ee&&B({content:Ee})}catch{console.error("Failed to parse message:",ce)}}}}catch(W){L(W)}};return(C,B)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("button",{class:"new-chat-btn",onClick:v},toDisplayString$1(unref(t)("aiWindow.newChat")),1),createBaseVNode("div",_hoisted_3$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(L,F)=>(openBlock(),createElementBlock("div",{key:F,class:normalizeClass(["history-item",{active:r.value===F}]),onClick:z=>g(F)},[!l.value||r.value!==F?(openBlock(),createElementBlock("span",_hoisted_5$3,toDisplayString$1((L==null?void 0:L.title)||unref(t)("aiWindow.chatName")+` ${F+1}`),1)):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":B[0]||(B[0]=z=>c.value=z),onKeyup:[withKeys(z=>d(F),["enter"]),withKeys(f,["esc"])],onBlur:z=>d(F),class:"rename-input"},null,40,_hoisted_6$3)),[[vModelText,c.value]]),createBaseVNode("div",_hoisted_7$3,[createBaseVNode("button",{class:"rename-btn",onClick:withModifiers(z=>u(F),["stop"])},"✎",8,_hoisted_8$3),l.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"delete-btn",onClick:withModifiers(z=>N(F),["stop"])},"×",8,_hoisted_9$3))])],10,_hoisted_4$3))),128))])]),createBaseVNode("div",_hoisted_10$2,[createBaseVNode("div",_hoisted_11$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value.messages,(L,F)=>(openBlock(),createElementBlock("div",{key:F,class:normalizeClass(["message",L.role])},[createBaseVNode("div",_hoisted_12$2,[createBaseVNode("pre",null,toDisplayString$1(L.content),1)])],2))),128)),o.value?(openBlock(),createElementBlock("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14$1,[createBaseVNode("pre",null,toDisplayString$1(unref(t)("aiWindow.thinking")),1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$1,[withDirectives(createBaseVNode("textarea",{class:"ai-chat-textarea","onUpdate:modelValue":B[1]||(B[1]=L=>a.value=L),placeholder:unref(t)("aiWindow.inputMessage"),onKeydown:withKeys(withModifiers(S,["exact","prevent"]),["enter"])},null,40,_hoisted_16$1),[[vModelText,a.value]]),createBaseVNode("button",{class:"ai-chat-btn",onClick:S,disabled:o.value},toDisplayString$1(unref(t)("aiWindow.send")),9,_hoisted_17$1)])])]))}},AiWindow=_export_sfc(_sfc_main$4,[["__scopeId","data-v-0cea2906"]]),_hoisted_1$3={class:"lora-info"},_hoisted_2$2={class:"lora-header"},_hoisted_3$2=["title"],_hoisted_4$2={class:"lora-weights"},_hoisted_5$2={class:"weight-item"},_hoisted_6$2=["title"],_hoisted_7$2={class:"weight-item"},_hoisted_8$2={class:"center-box"},_hoisted_9$2=["onClick"],prefix$1="weilin_prompt_ui_",_sfc_main$3={__name:"index",setup(e){const{t}=useI18n(),n=ref([]);window.addEventListener("message",a=>{a.data.type==="weilin_prompt_ui_update_node_list_info"&&(n.value=a.data.nodeList)});const r=a=>{window.postMessage({type:"weilin_prompt_ui_prompt_open_node_wit_seed",seed:a},"*")};return onMounted(()=>{window.postMessage({type:"weilin_prompt_ui_prompt_get_node_list_info"},"*")}),(a,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$1}lora-stack`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,s=>(openBlock(),createElementBlock("div",{key:s.id,class:"lora-item"},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("span",{class:"lora-name",title:s.title},"#"+toDisplayString$1(s.id)+" - "+toDisplayString$1(s.title),9,_hoisted_3$2)]),createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[createBaseVNode("div",{class:"text-label",title:s.text},toDisplayString$1(s.text),9,_hoisted_6$2)]),createBaseVNode("div",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[createBaseVNode("button",{onClick:l=>r(s.seed),class:"open-button"},toDisplayString$1(unref(t)("nodeListWindow.openPromptUI")),9,_hoisted_9$2)])])])])]))),128))],2)],2)],2)],2))}},NodeListWindow=_export_sfc(_sfc_main$3,[["__scopeId","data-v-0c15a742"]]),cloudApi={getTreeFromCloud:async e=>await request({url:"/cloud/get/tree",method:"post",data:{path:e}}),getLocalInstallPackage:async()=>await request({url:"/cloud/get/local/package",method:"post",data:{}}),installSelectPackage:async(e,t)=>await request({url:"/cloud/download/file",method:"post",timeout:0,data:{paths:t,path:e}})},_hoisted_1$2={class:"cloud-manager"},_hoisted_2$1={class:"toolbar"},_hoisted_3$1={class:"current-path"},_hoisted_4$1={class:"file-list"},_hoisted_5$1={class:"file-info"},_hoisted_6$1={class:"file-name"},_hoisted_7$1={class:"file-type"},_hoisted_8$1={class:"file-actions"},_hoisted_9$1=["onClick"],_hoisted_10$1={key:1,class:"install-container"},_hoisted_11$1={key:0,class:"installed-badge"},_hoisted_12$1=["onClick","disabled"],_sfc_main$2={__name:"index",setup(e){const{t}=useI18n(),n=ref([]),r=ref("tags"),a=ref("tags"),o=ref([]),s=async v=>{try{const b=await cloudApi.getTreeFromCloud(v);n.value=b.data}catch(b){console.error("获取文件树失败:",b),message$1({type:"warn",str:"message.networkError"})}},l=async()=>{try{const v=await cloudApi.getLocalInstallPackage();o.value=v.data||[]}catch(v){console.error("获取已安装包列表失败:",v),message$1({type:"warn",str:"message.networkError"})}},c=v=>o.value.some(b=>b===v),u=async v=>{try{const b=n.value.find(y=>y.path===v);b&&(b.isInstalling=!0,await cloudApi.installSelectPackage(a.value,[v]).then(()=>{l(),message$1({type:"success",str:"message.installPackageSuccess"})}))}catch(b){console.error("安装包失败:",b),message$1({type:"warn",str:"message.installPackageFail"})}finally{const b=n.value.find(y=>y.path===v);b&&(b.isInstalling=!1)}},d=()=>{const v=r.value.split("/");v.length>1&&(r.value=v.slice(0,-1).join("/"),s(r.value))},f=()=>{s(r.value),l()},m=v=>{r.value=v,s(v)},_=()=>{a.value="tags",r.value="tags",s(r.value)},g=()=>{a.value="danbooru",r.value="danbooru",s(r.value)};return onMounted(()=>{s(r.value),l()}),(v,b)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("button",{class:"refresh-btn",onClick:f},b[0]||(b[0]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),createBaseVNode("button",{class:"database-btn",onClick:_},[b[1]||(b[1]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",null,toDisplayString$1(unref(t)("cloudWindow.tagDatabase")),1)]),createBaseVNode("button",{class:"database-btn",onClick:g},[b[2]||(b[2]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4v4z"})],-1)),createBaseVNode("span",null,toDisplayString$1(unref(t)("cloudWindow.danbooruDatabase")),1)]),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("span",null,toDisplayString$1(unref(t)("cloudWindow.currentPath"))+": "+toDisplayString$1(a.value=="tags"?unref(t)("cloudWindow.tagDatabase"):unref(t)("cloudWindow.danbooruDatabase")),1)])]),createBaseVNode("div",_hoisted_4$1,[r.value!=="tags"&&r.value!=="danbooru"?(openBlock(),createElementBlock("button",{key:0,class:"back-btn",onClick:d},[b[3]||(b[3]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})],-1)),createTextVNode(" "+toDisplayString$1(unref(t)("cloudWindow.back")),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,y=>(openBlock(),createElementBlock("div",{key:y.path,class:"file-item"},[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("span",_hoisted_6$1,toDisplayString$1(y.name),1),createBaseVNode("span",_hoisted_7$1,toDisplayString$1(y.type=="dir"?"文件夹":y.type=="file"?"文件":"其它未知文件"),1)]),createBaseVNode("div",_hoisted_8$1,[y.type==="dir"?(openBlock(),createElementBlock("button",{key:0,onClick:S=>m(y.path),class:"open-btn"},toDisplayString$1(unref(t)("cloudWindow.open")),9,_hoisted_9$1)):y.type==="file"?(openBlock(),createElementBlock("div",_hoisted_10$1,[c(y.path)?(openBlock(),createElementBlock("span",_hoisted_11$1,toDisplayString$1(unref(t)("cloudWindow.installed")),1)):(openBlock(),createElementBlock("button",{key:1,onClick:S=>u(y.path),class:"install-btn",disabled:y.isInstalling},toDisplayString$1(y.isInstalling?unref(t)("cloudWindow.installing"):unref(t)("cloudWindow.install")),9,_hoisted_12$1))])):createCommentVNode("",!0)])]))),128))])]))}},CloudWindow=_export_sfc(_sfc_main$2,[["__scopeId","data-v-508c00b0"]]),_hoisted_1$1={class:"header-actions"},_hoisted_2=["title"],_hoisted_3={class:"lora-info"},_hoisted_4={class:"lora-header"},_hoisted_5=["title"],_hoisted_6={class:"lora-actions"},_hoisted_7=["onClick","title"],_hoisted_8=["onClick","title"],_hoisted_9={class:"lora-weights"},_hoisted_10={class:"weight-item"},_hoisted_11=["onUpdate:modelValue"],_hoisted_12={class:"weight-item"},_hoisted_13=["onUpdate:modelValue"],_hoisted_14={class:"lora-footer"},_hoisted_15=["onClick","title"],_hoisted_16={viewBox:"0 0 24 24",width:"14",height:"14"},_hoisted_17={key:0,d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},_hoisted_18={key:1,d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},prefix="weilin_prompt_ui_",_sfc_main$1={__name:"lora_stack",setup(e,{expose:t}){const{t:n}=useI18n(),r=ref([]),a=ref(""),o=()=>{window.postMessage({type:"weilin_prompt_ui_openLoraManager_addLora_stack",seed:a.value},"*")},s=_=>{_.hidden=!_.hidden},l=_=>{r.value.find(g=>g.name===_.name)||r.value.push({name:_.name,weight:1,text_encoder_weight:1,..._})},c=_=>{const g=r.value.findIndex(v=>v.name===_.name);g>-1&&r.value.splice(g,1)},u=ref(),d=_=>{u.value.open({name:_.lora})};window.addEventListener("message",_=>{_.data.type==="weilin_prompt_ui_selectLora_stack_"+a.value&&l(_.data.lora)});const f=(_,g)=>{if(a.value=g,_.length>0)try{const v=JSON.parse(_);if(v.lora&&v.lora!=""&&(r.value=v.lora),v.temp_lora&&v.temp_lora.length>0&&v.temp_lora!=""){const b=v.temp_lora;r.value=b}}catch{message$1({type:"warn",str:"promptBox.settings.errorPrompt"})}};watch(r,_=>{m()},{deep:!0});const m=()=>{if(r.value.length>0){const _=r.value.filter(b=>!b.hidden);let g={lora:"",temp_lora:r.value};_.length>0&&(g.lora=_);const v=JSON.stringify(g);window.postMessage({type:"weilin_prompt_ui_prompt_finish_lora_stack_"+a.value,data:v},"*")}else{const g=JSON.stringify({lora:"",temp_lora:""});window.postMessage({type:"weilin_prompt_ui_prompt_finish_lora_stack_"+a.value,data:g},"*")}};return t({initLoraStack:f}),(_,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix}lora-stack`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-header`)},[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("button",{class:normalizeClass(`${prefix}add-btn`),onClick:o,title:unref(n)("controls.addLora")},g[0]||(g[0]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1)]),10,_hoisted_2)])],2),createBaseVNode("div",{class:normalizeClass(`${prefix}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,v=>(openBlock(),createElementBlock("div",{key:v.name,class:normalizeClass(["lora-item",{"hidden-lora":v.hidden}])},[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("span",{class:"lora-name",title:v.name},toDisplayString$1(v.name),9,_hoisted_5),createBaseVNode("div",_hoisted_6,[createBaseVNode("button",{class:"look-on-btn",onClick:b=>d(v),title:unref(n)("controls.lookOnLora")},g[1]||(g[1]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"14",height:"14"},[createBaseVNode("path",{d:"M576.5 930.2H163.1c-52.9 0-96-43.1-96-96v-672c0-52.9 43.1-96 96-96h672c52.9 0 96 43.1 96 96V577c0 17.7-14.3 32-32 32s-32-14.3-32-32V162.2c0-17.6-14.4-32-32-32h-672c-17.6 0-32 14.4-32 32v672c0 17.6 14.4 32 32 32h413.4c17.7 0 32 14.3 32 32s-14.3 32-32 32z","p-id":"3466"}),createBaseVNode("path",{d:"M692.4 322.3H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h446.7c17.7 0 32 14.3 32 32s-14.3 32-32 32zM388.5 530.2H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.6-14.3 32-31.9 32zM388.5 738H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.7-14.3 32-31.9 32z","p-id":"3467"}),createBaseVNode("path",{d:"M624.1 792.5c-94.8 0-172-77.2-172-172s77.2-172 172-172 172 77.2 172 172-77.1 172-172 172z m0-280c-59.6 0-108 48.4-108 108s48.4 108 108 108 108-48.4 108-108-48.4-108-108-108z","p-id":"3468"}),createBaseVNode("path",{d:"M820.8 864.2L710.5 753.9c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L866 818.9c12.5 12.5 12.5 32.8 0 45.3s-32.7 12.5-45.2 0z","p-id":"3469"})],-1)]),8,_hoisted_7),createBaseVNode("button",{class:"remove-btn",onClick:b=>c(v),title:unref(n)("controls.removeLora")},g[2]||(g[2]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_8)])]),createBaseVNode("div",_hoisted_9,[createBaseVNode("div",_hoisted_10,[createBaseVNode("label",null,toDisplayString$1(unref(n)("loraManager.modelWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":b=>v.weight=b,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_11),[[vModelText,v.weight]])]),createBaseVNode("div",_hoisted_12,[createBaseVNode("label",null,toDisplayString$1(unref(n)("loraManager.textEncoderWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":b=>v.text_encoder_weight=b,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_13),[[vModelText,v.text_encoder_weight]])])]),createBaseVNode("div",_hoisted_14,[createBaseVNode("button",{class:"hide-btn",onClick:b=>s(v),title:v.hidden?unref(n)("lora.showLora"):unref(n)("lora.hideLora")},[(openBlock(),createElementBlock("svg",_hoisted_16,[v.hidden?(openBlock(),createElementBlock("path",_hoisted_18)):(openBlock(),createElementBlock("path",_hoisted_17))])),createTextVNode(" "+toDisplayString$1(v.hidden?unref(n)("lora.showLora"):unref(n)("lora.hideLora")),1)],8,_hoisted_15)])])],2))),128))],2)],2)],2),createVNode(loraDetail,{ref_key:"loraDetailLoraStackRef",ref:u},null,512)],2))}},LoraStackWindow=_export_sfc(_sfc_main$1,[["__scopeId","data-v-f18911a7"]]),_hoisted_1={id:"weilin_comfyui_tools_prompt_ui_div"},STORAGE_PREFIX="weilin_tools_",_sfc_main={__name:"App",setup(e){const t=useTagStore(),n=ref(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true");localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")||(localStorage.setItem("weilin_prompt_ui_floatingBallEnabled","true"),n.value=!0);const{t:r}=useI18n(),a=ref(""),o=ref("look"),s=ref("manager"),l=ref("prompt_global"),c=ref(!1),u=`${STORAGE_PREFIX}theme`,d=ref(localStorage.getItem(u)==="dark"),f=ref(""),m={prompt:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:600,height:500}},tag:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,is_default_close:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,is_default_close:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,is_default_close:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:300,height:600}},cloud_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:800,height:600}},lora_stack_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:300,height:600}}},_=()=>{try{const W=localStorage.getItem(`${STORAGE_PREFIX}windowStates`);if(W){const O=JSON.parse(W),ne={...m};for(const le in O)le in ne&&(ne[le]={...m[le],...O[le],visible:O[le].is_default_close?!1:O[le].visible});return ne}}catch(W){console.error("Error loading window states:",W)}return{...m}},g=ref(_());watch(g,W=>{try{localStorage.setItem(`${STORAGE_PREFIX}windowStates`,JSON.stringify(W))}catch(O){console.error("Error saving window states:",O)}},{deep:!0}),onMounted(()=>{Object.keys(g.value).forEach(W=>{windowManager.registerWindow(W)}),v(),window.addEventListener("message",z),ee()});const v=()=>{let W=localStorage.getItem(u);W||(localStorage.setItem(u,"dark"),W="dark",d.value=!0),d.value=W==="dark";const O=document.getElementById("weilin_comfyui_tools_prompt_ui_div");O&&O.setAttribute("data-theme",d.value?"dark":"light")};onUnmounted(()=>{Object.keys(g.value).forEach(W=>{windowManager.unregisterWindow(W)}),window.removeEventListener("message",z)});const b=W=>{W==="prompt"&&(a.value=""),g.value[W].visible=!1},y=(W,O)=>{g.value[W]&&(g.value[W].position={...O})},S=(W,O)=>{g.value[W]&&(g.value[W].size={...O})},N=()=>{const W={loraDetail:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}}},O={prompt:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:600,height:400}},tag:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,is_default_close:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,is_default_close:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,is_default_close:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:400,height:800}},cloud_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:800,height:600}},lora_stack_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:300,height:600}}};localStorage.setItem(`${STORAGE_PREFIX}windowStates`,JSON.stringify(O)),localStorage.setItem(`${STORAGE_PREFIX}loraDetailState`,JSON.stringify(W)),g.value=_()};(()=>{translatorApi.getTranslateSetting().then(W=>{localStorage.setItem("weilin_prompt_ui_translater_setting",W.data)}).catch(W=>{message({type:"warn",str:"message.getTranslaterFail"})})})();const C=ref(),B=ref(),L=ref(),F=ref(),z=W=>{W.data.type==="weilin_prompt_ui_openTagManager"?(s.value="manager",g.value.tag.visible=!0,windowManager.setActiveWindow("tag")):W.data.type==="weilin_prompt_ui_openTagManager_prompt"?(s.value="prompt",g.value.tag.visible=!0,windowManager.setActiveWindow("tag")):W.data.type==="weilin_prompt_ui_openPromptBox"?(a.value=W.data.id,l.value="prompt",g.value.prompt.visible=!0,c.value=!1,W.data.node==="WeiLinPromptUI"&&(c.value=!0),nextTick(()=>{C.value.setPromptText(W.data.prompt)}),windowManager.setActiveWindow("prompt")):W.data.type==="weilin_prompt_ui_openLoraManager"?(o.value="look",g.value.lora.visible=!0,windowManager.setActiveWindow("lora")):W.data.type==="weilin_prompt_ui_openLoraManager_addLora"?(o.value="addLora",g.value.lora.visible=!0,nextTick(()=>{L.value.openSetSeed(0,"")}),windowManager.setActiveWindow("lora")):W.data.type==="weilin_prompt_ui_openLoraManager_addLora_stack"?(o.value="addLora",g.value.lora.visible=!0,nextTick(()=>{L.value.openSetSeed(1,W.data.seed)}),windowManager.setActiveWindow("lora")):W.data.type==="weilin_prompt_ui_openLoraManager_addLora_stack_node"?(o.value="addLora",g.value.lora.visible=!0,nextTick(()=>{L.value.openSetSeed(2,W.data.seed)}),windowManager.setActiveWindow("lora")):W.data.type==="weilin_prompt_ui_openHistoryManager"?(g.value.history.visible=!0,windowManager.setActiveWindow("history")):W.data.type==="weilin_prompt_ui_openAiWindow"?(g.value.ai_window.visible=!0,windowManager.setActiveWindow("ai_window")):W.data.type==="weilin_prompt_ui_open_node_list_window"?(g.value.node_list_window.visible=!0,windowManager.setActiveWindow("node_list_window")):W.data.type==="weilin_prompt_ui_prompt_finish_prompt"?window.postMessage({type:"weilin_prompt_ui_prompt_update_prompt_"+a.value,data:W.data.data},"*"):W.data.type==="weilin_prompt_ui_open_global_prompt_box"?(l.value="prompt_global",a.value="global",g.value.prompt.visible=!0,c.value=!1,nextTick(()=>{C.value.setPromptText(f.value)}),windowManager.setActiveWindow("prompt")):W.data.type==="weilin_prompt_ui_open_global_tag_manager"?(s.value="manager",g.value.tag.visible=!0,windowManager.setActiveWindow("tag")):W.data.type==="weilin_prompt_ui_open_global_lora_manager"?(o.value="look",g.value.lora.visible=!0,windowManager.setActiveWindow("lora")):W.data.type==="weilin_prompt_ui_prompt_update_prompt_global"?f.value=W.data.data:W.data.type==="weilin_prompt_ui_floating_ball_setting"?n.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true":W.data.type==="weilin_prompt_ui_restore_window"?N():W.data.type==="weilin_prompt_ui_open_cloud_window"?(g.value.cloud_window.visible=!0,windowManager.setActiveWindow("cloud_window")):W.data.type==="weilin_prompt_ui_open_node_lora_stack_window"?(g.value.lora_stack_window.visible=!0,nextTick(()=>{B.value.initLoraStack(W.data.prompt,W.data.seed)}),windowManager.setActiveWindow("lora_stack_window")):W.data.type==="weilin_prompt_ui_openLoraDetail"&&F.value.open({name:W.data.lora})},ee=async()=>{try{const W=await tagsApi.getTagsList();t.setCategories(W.data)}catch(W){console.error("获取标签列表失败:",W)}};return(W,O)=>(openBlock(),createElementBlock("div",_hoisted_1,[g.value.prompt.visible?(openBlock(),createBlock(DraggableWindow,{key:0,name:"promptBox",title:l.value==="prompt"?unref(r)("promptBox.windowTitle"):unref(r)("promptBox.windowTitleGlobal"),position:g.value.prompt.position,size:g.value.prompt.size,"z-index":unref(windowManager).getZIndex("prompt"),"onUpdate:position":O[0]||(O[0]=ne=>y("prompt",ne)),"onUpdate:size":O[1]||(O[1]=ne=>S("prompt",ne)),onActive:O[2]||(O[2]=ne=>unref(windowManager).setActiveWindow("prompt")),onClose:O[3]||(O[3]=ne=>b("prompt"))},{default:withCtx(()=>[createVNode(PromptBox,{promptManager:l.value,hasPromptLoraStack:c.value,ref_key:"promptBoxRef",ref:C},null,8,["promptManager","hasPromptLoraStack"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),g.value.tag.visible?(openBlock(),createBlock(DraggableWindow,{key:1,name:"tagManager",title:unref(r)("tagManager.windowTitle"),position:g.value.tag.position,size:g.value.tag.size,"z-index":unref(windowManager).getZIndex("tag"),"onUpdate:position":O[4]||(O[4]=ne=>y("tag",ne)),"onUpdate:size":O[5]||(O[5]=ne=>S("tag",ne)),onActive:O[6]||(O[6]=ne=>unref(windowManager).setActiveWindow("tag")),onClose:O[7]||(O[7]=ne=>b("tag"))},{default:withCtx(()=>[createVNode(TagManager,{tagManager:s.value},null,8,["tagManager"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),g.value.lora.visible?(openBlock(),createBlock(DraggableWindow,{key:2,name:"loraManager",title:unref(r)("loraManager.windowTitle"),position:g.value.lora.position,size:g.value.lora.size,"z-index":unref(windowManager).getZIndex("lora"),"onUpdate:position":O[8]||(O[8]=ne=>y("lora",ne)),"onUpdate:size":O[9]||(O[9]=ne=>S("lora",ne)),onActive:O[10]||(O[10]=ne=>unref(windowManager).setActiveWindow("lora")),onClose:O[11]||(O[11]=ne=>b("lora"))},{default:withCtx(()=>[createVNode(LoraManager,{loraManager:o.value,ref_key:"loraManagerRef",ref:L},null,8,["loraManager"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),g.value.history.visible?(openBlock(),createBlock(DraggableWindow,{key:3,name:"historyManager",title:unref(r)("history.windowTitle"),position:g.value.history.position,size:g.value.history.size,"z-index":unref(windowManager).getZIndex("history"),"onUpdate:position":O[12]||(O[12]=ne=>y("history",ne)),"onUpdate:size":O[13]||(O[13]=ne=>S("history",ne)),onActive:O[14]||(O[14]=ne=>unref(windowManager).setActiveWindow("history")),onClose:O[15]||(O[15]=ne=>b("history"))},{default:withCtx(()=>[createVNode(HistoryManager)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),g.value.ai_window.visible?(openBlock(),createBlock(DraggableWindow,{key:4,name:"aiWindow",title:unref(r)("aiWindow.windowTitle"),position:g.value.ai_window.position,size:g.value.ai_window.size,"z-index":unref(windowManager).getZIndex("ai_window"),"onUpdate:position":O[16]||(O[16]=ne=>y("ai_window",ne)),"onUpdate:size":O[17]||(O[17]=ne=>S("ai_window",ne)),onActive:O[18]||(O[18]=ne=>unref(windowManager).setActiveWindow("ai_window")),onClose:O[19]||(O[19]=ne=>b("ai_window"))},{default:withCtx(()=>[createVNode(AiWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),g.value.node_list_window.visible?(openBlock(),createBlock(DraggableWindow,{key:5,name:"nodeListWindow",title:unref(r)("nodeListWindow.windowTitle"),position:g.value.node_list_window.position,size:g.value.node_list_window.size,"z-index":unref(windowManager).getZIndex("node_list_window"),"onUpdate:position":O[20]||(O[20]=ne=>y("node_list_window",ne)),"onUpdate:size":O[21]||(O[21]=ne=>S("node_list_window",ne)),onActive:O[22]||(O[22]=ne=>unref(windowManager).setActiveWindow("node_list_window")),onClose:O[23]||(O[23]=ne=>b("node_list_window"))},{default:withCtx(()=>[createVNode(NodeListWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),g.value.cloud_window.visible?(openBlock(),createBlock(DraggableWindow,{key:6,name:"cloudWindow",title:unref(r)("cloudWindow.windowTitle"),position:g.value.cloud_window.position,size:g.value.cloud_window.size,"z-index":unref(windowManager).getZIndex("cloud_window"),"onUpdate:position":O[24]||(O[24]=ne=>y("cloud_window",ne)),"onUpdate:size":O[25]||(O[25]=ne=>S("cloud_window",ne)),onActive:O[26]||(O[26]=ne=>unref(windowManager).setActiveWindow("cloud_window")),onClose:O[27]||(O[27]=ne=>b("cloud_window"))},{default:withCtx(()=>[createVNode(CloudWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),g.value.lora_stack_window.visible?(openBlock(),createBlock(DraggableWindow,{key:7,name:"loraStackWindow",title:unref(r)("controls.loraStack"),position:g.value.lora_stack_window.position,size:g.value.lora_stack_window.size,"z-index":unref(windowManager).getZIndex("lora_stack_window"),"onUpdate:position":O[28]||(O[28]=ne=>y("lora_stack_window",ne)),"onUpdate:size":O[29]||(O[29]=ne=>S("lora_stack_window",ne)),onActive:O[30]||(O[30]=ne=>unref(windowManager).setActiveWindow("lora_stack_window")),onClose:O[31]||(O[31]=ne=>b("lora_stack_window"))},{default:withCtx(()=>[createVNode(LoraStackWindow,{ref_key:"loraStackRef",ref:B},null,512)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),n.value?(openBlock(),createBlock(FloatingBall,{key:8},{default:withCtx(()=>O[32]||(O[32]=[createTextVNode("WeiLin")])),_:1})):createCommentVNode("",!0),createVNode(loraDetail,{ref_key:"loraDetailLoraStackRef",ref:F},null,512)]))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-3a5c2ccf"]]);var clipboard$1={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */var clipboard=clipboard$1.exports,hasRequiredClipboard;function requireClipboard(){return hasRequiredClipboard||(hasRequiredClipboard=1,function(e,t){(function(r,a){e.exports=a()})(clipboard,function(){return function(){var n={686:function(o,s,l){l.d(s,{default:function(){return Ee}});var c=l(279),u=l.n(c),d=l(370),f=l.n(d),m=l(817),_=l.n(m);function g(H){try{return document.execCommand(H)}catch{return!1}}var v=function(R){var A=_()(R);return g("cut"),A},b=v;function y(H){var R=document.documentElement.getAttribute("dir")==="rtl",A=document.createElement("textarea");A.style.fontSize="12pt",A.style.border="0",A.style.padding="0",A.style.margin="0",A.style.position="absolute",A.style[R?"right":"left"]="-9999px";var M=window.pageYOffset||document.documentElement.scrollTop;return A.style.top="".concat(M,"px"),A.setAttribute("readonly",""),A.value=H,A}var S=function(R,A){var M=y(R);A.container.appendChild(M);var G=_()(M);return g("copy"),M.remove(),G},N=function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},M="";return typeof R=="string"?M=S(R,A):R instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(R==null?void 0:R.type)?M=S(R.value,A):(M=_()(R),g("copy")),M},x=N;function C(H){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(A){return typeof A}:C=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},C(H)}var B=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=R.action,M=A===void 0?"copy":A,G=R.container,te=R.target,ge=R.text;if(M!=="copy"&&M!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(te!==void 0)if(te&&C(te)==="object"&&te.nodeType===1){if(M==="copy"&&te.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(M==="cut"&&(te.hasAttribute("readonly")||te.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ge)return x(ge,{container:G});if(te)return M==="cut"?b(te):x(te,{container:G})},L=B;function F(H){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function(A){return typeof A}:F=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},F(H)}function z(H,R){if(!(H instanceof R))throw new TypeError("Cannot call a class as a function")}function ee(H,R){for(var A=0;A<R.length;A++){var M=R[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(H,M.key,M)}}function W(H,R,A){return R&&ee(H.prototype,R),A&&ee(H,A),H}function O(H,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(R&&R.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),R&&ne(H,R)}function ne(H,R){return ne=Object.setPrototypeOf||function(M,G){return M.__proto__=G,M},ne(H,R)}function le(H){var R=ue();return function(){var M=ce(H),G;if(R){var te=ce(this).constructor;G=Reflect.construct(M,arguments,te)}else G=M.apply(this,arguments);return Se(this,G)}}function Se(H,R){return R&&(F(R)==="object"||typeof R=="function")?R:_e(H)}function _e(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ce(H){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},ce(H)}function ye(H,R){var A="data-clipboard-".concat(H);if(R.hasAttribute(A))return R.getAttribute(A)}var be=function(H){O(A,H);var R=le(A);function A(M,G){var te;return z(this,A),te=R.call(this),te.resolveOptions(G),te.listenClick(M),te}return W(A,[{key:"resolveOptions",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof G.action=="function"?G.action:this.defaultAction,this.target=typeof G.target=="function"?G.target:this.defaultTarget,this.text=typeof G.text=="function"?G.text:this.defaultText,this.container=F(G.container)==="object"?G.container:document.body}},{key:"listenClick",value:function(G){var te=this;this.listener=f()(G,"click",function(ge){return te.onClick(ge)})}},{key:"onClick",value:function(G){var te=G.delegateTarget||G.currentTarget,ge=this.action(te)||"copy",ae=L({action:ge,container:this.container,target:this.target(te),text:this.text(te)});this.emit(ae?"success":"error",{action:ge,text:ae,trigger:te,clearSelection:function(){te&&te.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(G){return ye("action",G)}},{key:"defaultTarget",value:function(G){var te=ye("target",G);if(te)return document.querySelector(te)}},{key:"defaultText",value:function(G){return ye("text",G)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(G){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return x(G,te)}},{key:"cut",value:function(G){return b(G)}},{key:"isSupported",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],te=typeof G=="string"?[G]:G,ge=!!document.queryCommandSupported;return te.forEach(function(ae){ge=ge&&!!document.queryCommandSupported(ae)}),ge}}]),A}(u()),Ee=be},828:function(o){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var l=Element.prototype;l.matches=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector}function c(u,d){for(;u&&u.nodeType!==s;){if(typeof u.matches=="function"&&u.matches(d))return u;u=u.parentNode}}o.exports=c},438:function(o,s,l){var c=l(828);function u(m,_,g,v,b){var y=f.apply(this,arguments);return m.addEventListener(g,y,b),{destroy:function(){m.removeEventListener(g,y,b)}}}function d(m,_,g,v,b){return typeof m.addEventListener=="function"?u.apply(null,arguments):typeof g=="function"?u.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(y){return u(y,_,g,v,b)}))}function f(m,_,g,v){return function(b){b.delegateTarget=c(b.target,_),b.delegateTarget&&v.call(m,b)}}o.exports=d},879:function(o,s){s.node=function(l){return l!==void 0&&l instanceof HTMLElement&&l.nodeType===1},s.nodeList=function(l){var c=Object.prototype.toString.call(l);return l!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in l&&(l.length===0||s.node(l[0]))},s.string=function(l){return typeof l=="string"||l instanceof String},s.fn=function(l){var c=Object.prototype.toString.call(l);return c==="[object Function]"}},370:function(o,s,l){var c=l(879),u=l(438);function d(g,v,b){if(!g&&!v&&!b)throw new Error("Missing required arguments");if(!c.string(v))throw new TypeError("Second argument must be a String");if(!c.fn(b))throw new TypeError("Third argument must be a Function");if(c.node(g))return f(g,v,b);if(c.nodeList(g))return m(g,v,b);if(c.string(g))return _(g,v,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(g,v,b){return g.addEventListener(v,b),{destroy:function(){g.removeEventListener(v,b)}}}function m(g,v,b){return Array.prototype.forEach.call(g,function(y){y.addEventListener(v,b)}),{destroy:function(){Array.prototype.forEach.call(g,function(y){y.removeEventListener(v,b)})}}}function _(g,v,b){return u(document.body,g,v,b)}o.exports=d},817:function(o){function s(l){var c;if(l.nodeName==="SELECT")l.focus(),c=l.value;else if(l.nodeName==="INPUT"||l.nodeName==="TEXTAREA"){var u=l.hasAttribute("readonly");u||l.setAttribute("readonly",""),l.select(),l.setSelectionRange(0,l.value.length),u||l.removeAttribute("readonly"),c=l.value}else{l.hasAttribute("contenteditable")&&l.focus();var d=window.getSelection(),f=document.createRange();f.selectNodeContents(l),d.removeAllRanges(),d.addRange(f),c=d.toString()}return c}o.exports=s},279:function(o){function s(){}s.prototype={on:function(l,c,u){var d=this.e||(this.e={});return(d[l]||(d[l]=[])).push({fn:c,ctx:u}),this},once:function(l,c,u){var d=this;function f(){d.off(l,f),c.apply(u,arguments)}return f._=c,this.on(l,f,u)},emit:function(l){var c=[].slice.call(arguments,1),u=((this.e||(this.e={}))[l]||[]).slice(),d=0,f=u.length;for(d;d<f;d++)u[d].fn.apply(u[d].ctx,c);return this},off:function(l,c){var u=this.e||(this.e={}),d=u[l],f=[];if(d&&c)for(var m=0,_=d.length;m<_;m++)d[m].fn!==c&&d[m].fn._!==c&&f.push(d[m]);return f.length?u[l]=f:delete u[l],this}},o.exports=s,o.exports.TinyEmitter=s}},r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={exports:{}};return n[o](s,s.exports,a),s.exports}return function(){a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,{a:s}),s}}(),function(){a.d=function(o,s){for(var l in s)a.o(s,l)&&!a.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})}}(),function(){a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),a(686)}().default})}(clipboard$1)),clipboard$1.exports}var clipboardExports=requireClipboard();const Clipboard=getDefaultExportFromCjs(clipboardExports),VueClipboard=e=>({toClipboard(t,n){return new Promise((r,a)=>{const o=document.createElement("button"),s=new Clipboard(o,{text:()=>t,action:()=>"copy",container:n!==void 0?n:document.body});s.on("success",l=>{s.destroy(),r(l)}),s.on("error",l=>{s.destroy(),a(l)}),document.body.appendChild(o),o.click(),document.body.removeChild(o)})}}),suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){warnKeyDropped(e);return}return t}function warnKeyDropped(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function destr(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(suspectProtoRx.test(e)||suspectConstructorRx.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function get(e,t){if(e==null)return;let n=e;for(let r=0;r<t.length;r++){if(n==null||n[t[r]]==null)return;n=n[t[r]]}return n}function set(e,t,n){if(n.length===0)return t;const r=n[0];return n.length>1&&(t=set(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,r)?Number.isInteger(Number(n[1]))?[]:{}:e[r],t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(e)?e.slice()[r]:Object.assign({},e,{[r]:t})}function unset(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const r in e)n[r]=e[r];return delete n[t[0]],n}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const r in e)n[r]=e[r];return n}return set(e,unset(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function deepPickUnsafe(e,t){return t.map(n=>n.split(".")).map(n=>[n,get(e,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>set(n,r[1],r[0]),{})}function deepOmitUnsafe(e,t){return t.map(n=>n.split(".")).reduce((n,r)=>unset(n,r),e)}function hydrateStore(e,{storage:t,serializer:n,key:r,debug:a,pick:o,omit:s,beforeHydrate:l,afterHydrate:c},u,d=!0){try{d&&(l==null||l(u));const f=t.getItem(r);if(f){const m=n.deserialize(f),_=o?deepPickUnsafe(m,o):m,g=s?deepOmitUnsafe(_,s):_;e.$patch(g)}d&&(c==null||c(u))}catch(f){a&&console.error("[pinia-plugin-persistedstate]",f)}}function persistState(e,{storage:t,serializer:n,key:r,debug:a,pick:o,omit:s}){try{const l=o?deepPickUnsafe(e,o):e,c=s?deepOmitUnsafe(l,s):l,u=n.serialize(c);t.setItem(r,u)}catch(l){a&&console.error("[pinia-plugin-persistedstate]",l)}}function createPersistence(e,t,n){const{pinia:r,store:a,options:{persist:o=n}}=e;if(!o)return;if(!(a.$id in r.state.value)){const c=r._s.get(a.$id.replace("__hot:",""));c&&Promise.resolve().then(()=>c.$persist());return}const l=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(t);a.$hydrate=({runHooks:c=!0}={})=>{l.forEach(u=>{hydrateStore(a,u,e,c)})},a.$persist=()=>{l.forEach(c=>{persistState(a.$state,c)})},l.forEach(c=>{hydrateStore(a,c,e),a.$subscribe((u,d)=>persistState(d,c),{detached:!0})})}function createPersistedState(e={}){return function(t){createPersistence(t,n=>({key:(e.key?e.key:r=>r)(n.key??t.store.$id),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:r=>JSON.stringify(r),deserialize:r=>destr(r)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}),e.auto??!1)}}var src_default=createPersistedState();const{toClipboard}=VueClipboard(),div=document.createElement("div");div.id="weilin_comfyui_tools_prompt_ui_div";const body=document.querySelector("body");body.appendChild(div);const pinia=createPinia();pinia.use(src_default);const app=createApp(App);app.use(pinia),app.use(i18n),initI18n(),app.config.globalProperties.$copyText=toClipboard,app.mount(div),console.log("WeiLin Prompt UI is running - version "+version),console.log("WeiLin 节点插件已运行 - 版本 "+version)});
//# sourceMappingURL=main.entry.js.map
