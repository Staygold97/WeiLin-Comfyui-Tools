(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn$1=(e,t)=>hasOwnProperty$3.call(e,t),isArray$2=Array.isArray,isMap=e=>toTypeString$1(e)==="[object Map]",isSet=e=>toTypeString$1(e)==="[object Set]",isDate$2=e=>toTypeString$1(e)==="[object Date]",isFunction$2=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$2=e=>e!==null&&typeof e=="object",isPromise$1=e=>(isObject$2(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject$3=e=>toTypeString$1(e)==="[object Object]",isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},def=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$2(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=isString$2(s)?parseStringStyle(s):normalizeStyle(s);if(r)for(const a in r)t[a]=r[a]}return t}else if(isString$2(e)||isObject$2(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const s=n.split(propertyDelimiterRE);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$2(e))t=e;else if(isArray$2(e))for(let n=0;n<e.length;n++){const s=normalizeClass(e[n]);s&&(t+=s+" ")}else if(isObject$2(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=looseEqual(e[s],t[s]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate$2(e),s=isDate$2(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=isSymbol(e),s=isSymbol(t),n||s)return e===t;if(n=isArray$2(e),s=isArray$2(t),n||s)return n&&s?looseCompareArrays(e,t):!1;if(n=isObject$2(e),s=isObject$2(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,a=Object.keys(t).length;if(r!==a)return!1;for(const o in e){const i=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(i&&!l||!i&&l||!looseEqual(e[o],t[o]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(n=>looseEqual(n,t))}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString$1=e=>isString$2(e)?e:e==null?"":isArray$2(e)||isObject$2(e)&&(e.toString===objectToString$1||!isFunction$2(e.toString))?isRef$1(e)?toDisplayString$1(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],a)=>(n[stringifySymbol(s,a)+" =>"]=r,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject$2(t)&&!isArray$2(t)&&!isPlainObject$3(t)?String(t):t,stringifySymbol=(e,t="")=>{var n;return isSymbol(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function effectScope(e){return new EffectScope(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(e)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),removeSub(s),removeDep(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion))return;e.globalVersion=globalVersion;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!isDirty(e)){e.flags&=-3;return}const n=activeSub,s=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const r=e.fn(e._value);(t.version===0||hasChanged(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{activeSub=n,shouldTrack=s,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)removeSub(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=activeSub;activeSub=void 0;try{t()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=s)}return n}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)addSub(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeSub){let s=targetMap.get(e);s||targetMap.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Dep),r.map=s,r.key=n),r.track()}}function trigger(e,t,n,s,r,a){const o=targetMap.get(e);if(!o){globalVersion++;return}const i=l=>{l&&l.trigger()};if(startBatch(),t==="clear")o.forEach(i);else{const l=isArray$2(e),u=l&&isIntegerKey(n);if(l&&n==="length"){const c=Number(s);o.forEach((d,f)=>{(f==="length"||f===ARRAY_ITERATE_KEY||!isSymbol(f)&&f>=c)&&i(d)})}else switch((n!==void 0||o.has(void 0))&&i(o.get(n)),u&&i(o.get(ARRAY_ITERATE_KEY)),t){case"add":l?u&&i(o.get("length")):(i(o.get(ITERATE_KEY)),isMap(e)&&i(o.get(MAP_KEY_ITERATE_KEY)));break;case"delete":l||(i(o.get(ITERATE_KEY)),isMap(e)&&i(o.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&i(o.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(e,t){const n=targetMap.get(e);return n&&n.get(t)}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray$2(t)?reactiveReadArray(t):t))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,t){return apply$1(this,"every",e,t,void 0,arguments)},filter(e,t){return apply$1(this,"filter",e,t,n=>n.map(toReactive),arguments)},find(e,t){return apply$1(this,"find",e,t,toReactive,arguments)},findIndex(e,t){return apply$1(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply$1(this,"findLast",e,t,toReactive,arguments)},findLastIndex(e,t){return apply$1(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply$1(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply$1(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply$1(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,t,n){const s=shallowReadArray(e),r=s[t]();return s!==e&&!isShallow(e)&&(r._next=r.next,r.next=()=>{const a=r._next();return a.value&&(a.value=n(a.value)),a}),r}const arrayProto=Array.prototype;function apply$1(e,t,n,s,r,a){const o=shallowReadArray(e),i=o!==e&&!isShallow(e),l=o[t];if(l!==arrayProto[t]){const d=l.apply(e,a);return i?toReactive(d):d}let u=n;o!==e&&(i?u=function(d,f){return n.call(this,toReactive(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(o,u,s);return i&&r?r(c):c}function reduce(e,t,n,s){const r=shallowReadArray(e);let a=n;return r!==e&&(isShallow(e)?n.length>3&&(a=function(o,i,l){return n.call(this,o,i,l,e)}):a=function(o,i,l){return n.call(this,o,toReactive(i),l,e)}),r[t](a,...s)}function searchProxy(e,t,n){const s=toRaw(e);track(s,"iterate",ARRAY_ITERATE_KEY);const r=s[t](...n);return(r===-1||r===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),s[t](...n)):r}function noTracking(e,t,n=[]){pauseTracking(),startBatch();const s=toRaw(e)[t].apply(e,n);return endBatch(),resetTracking(),s}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty$2(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return a;if(n==="__v_raw")return s===(r?a?shallowReadonlyMap:readonlyMap:a?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=isArray$2(t);if(!r){let l;if(o&&(l=arrayInstrumentations[n]))return l;if(n==="hasOwnProperty")return hasOwnProperty$2}const i=Reflect.get(t,n,isRef(t)?t:s);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(r||track(t,"get",n),a)?i:isRef(i)?o&&isIntegerKey(n)?i:i.value:isObject$2(i)?r?readonly(i):reactive(i):i}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,s,r){let a=t[n];if(!this._isShallow){const l=isReadonly(a);if(!isShallow(s)&&!isReadonly(s)&&(a=toRaw(a),s=toRaw(s)),!isArray$2(t)&&isRef(a)&&!isRef(s))return l?!1:(a.value=s,!0)}const o=isArray$2(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn$1(t,n),i=Reflect.set(t,n,s,isRef(t)?t:r);return t===toRaw(r)&&(o?hasChanged(s,a)&&trigger(t,"set",n,s):trigger(t,"add",n,s)),i}deleteProperty(t,n){const s=hasOwn$1(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&trigger(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),s}ownKeys(t){return track(t,"iterate",isArray$2(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,n){return function(...s){const r=this.__v_raw,a=toRaw(r),o=isMap(a),i=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...s),c=n?toShallow:t?toReadonly:toReactive;return!t&&track(a,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:i?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const n={get(r){const a=this.__v_raw,o=toRaw(a),i=toRaw(r);e||(hasChanged(r,i)&&track(o,"get",r),track(o,"get",i));const{has:l}=getProto(o),u=t?toShallow:e?toReadonly:toReactive;if(l.call(o,r))return u(a.get(r));if(l.call(o,i))return u(a.get(i));a!==o&&a.get(r)},get size(){const r=this.__v_raw;return!e&&track(toRaw(r),"iterate",ITERATE_KEY),Reflect.get(r,"size",r)},has(r){const a=this.__v_raw,o=toRaw(a),i=toRaw(r);return e||(hasChanged(r,i)&&track(o,"has",r),track(o,"has",i)),r===i?a.has(r):a.has(r)||a.has(i)},forEach(r,a){const o=this,i=o.__v_raw,l=toRaw(i),u=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),i.forEach((c,d)=>r.call(a,u(c),u(d),o))}};return extend$1(n,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(r){!t&&!isShallow(r)&&!isReadonly(r)&&(r=toRaw(r));const a=toRaw(this);return getProto(a).has.call(a,r)||(a.add(r),trigger(a,"add",r,r)),this},set(r,a){!t&&!isShallow(a)&&!isReadonly(a)&&(a=toRaw(a));const o=toRaw(this),{has:i,get:l}=getProto(o);let u=i.call(o,r);u||(r=toRaw(r),u=i.call(o,r));const c=l.call(o,r);return o.set(r,a),u?hasChanged(a,c)&&trigger(o,"set",r,a):trigger(o,"add",r,a),this},delete(r){const a=toRaw(this),{has:o,get:i}=getProto(a);let l=o.call(a,r);l||(r=toRaw(r),l=o.call(a,r)),i&&i.call(a,r);const u=a.delete(r);return l&&trigger(a,"delete",r,void 0),u},clear(){const r=toRaw(this),a=r.size!==0,o=r.clear();return a&&trigger(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=createIterableMethod(r,e,t)}),n}function createInstrumentationGetter(e,t){const n=createInstrumentations(e,t);return(s,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(hasOwn$1(n,r)&&r in s?n:s,r,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,n,s,r){if(!isObject$2(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=r.get(e);if(a)return a;const o=getTargetType(e);if(o===0)return e;const i=new Proxy(e,o===2?s:n);return r.set(e,i),i}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn$1(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||isShallow(t)||isReadonly(t);t=s?t:toRaw(t),hasChanged(t,n)&&(this._rawValue=t,this._value=s?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>t==="__v_raw"?e:unref(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return isRef(r)&&!isRef(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(e,t,n){const s=e[t];return isRef(s)?s:new ObjectRefImpl(e,t,n)}class ComputedRefImpl{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,n=!1){let s,r;return isFunction$2(e)?s=e:(s=e.get,r=e.set),new ComputedRefImpl(s,r,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,n=activeWatcher){if(n){let s=cleanupMap.get(n);s||cleanupMap.set(n,s=[]),s.push(e)}}function watch$1(e,t,n=EMPTY_OBJ){const{immediate:s,deep:r,once:a,scheduler:o,augmentJob:i,call:l}=n,u=m=>r?m:isShallow(m)||r===!1||r===0?traverse(m,1):traverse(m);let c,d,f,y,v=!1,w=!1;if(isRef(e)?(d=()=>e.value,v=isShallow(e)):isReactive(e)?(d=()=>u(e),v=!0):isArray$2(e)?(w=!0,v=e.some(m=>isReactive(m)||isShallow(m)),d=()=>e.map(m=>{if(isRef(m))return m.value;if(isReactive(m))return u(m);if(isFunction$2(m))return l?l(m,2):m()})):isFunction$2(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){pauseTracking();try{f()}finally{resetTracking()}}const m=activeWatcher;activeWatcher=c;try{return l?l(e,3,[y]):e(y)}finally{activeWatcher=m}}:d=NOOP,t&&r){const m=d,$=r===!0?1/0:r;d=()=>traverse(m(),$)}const S=getCurrentScope(),g=()=>{c.stop(),S&&S.active&&remove(S.effects,c)};if(a&&t){const m=t;t=(...$)=>{m(...$),g()}}let N=w?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const x=m=>{if(!(!(c.flags&1)||!c.dirty&&!m))if(t){const $=c.run();if(r||v||(w?$.some((E,k)=>hasChanged(E,N[k])):hasChanged($,N))){f&&f();const E=activeWatcher;activeWatcher=c;try{const k=[$,N===INITIAL_WATCHER_VALUE?void 0:w&&N[0]===INITIAL_WATCHER_VALUE?[]:N,y];l?l(t,3,k):t(...k),N=$}finally{activeWatcher=E}}}else c.run()};return i&&i(x),c=new ReactiveEffect(d),c.scheduler=o?()=>o(x,!1):x,y=m=>onWatcherCleanup(m,!1,c),f=c.onStop=()=>{const m=cleanupMap.get(c);if(m){if(l)l(m,4);else for(const $ of m)$();cleanupMap.delete(c)}},t?s?x(!0):N=c.run():o?o(x.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function traverse(e,t=1/0,n){if(t<=0||!isObject$2(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,isRef(e))traverse(e.value,t,n);else if(isArray$2(e))for(let s=0;s<e.length;s++)traverse(e[s],t,n);else if(isSet(e)||isMap(e))e.forEach(s=>{traverse(s,t,n)});else if(isPlainObject$3(e)){for(const s in e)traverse(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&traverse(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,s=n&&n.appContext.config.warnHandler,r=getComponentTrace();if(s)callWithErrorHandling(s,n,11,[e+t.map(a=>{var o,i;return(i=(o=a.toString)==null?void 0:o.call(a))!=null?i:JSON.stringify(a)}).join(""),n&&n.proxy,r.map(({vnode:a})=>`at <${formatComponentName(n,a.type)}>`).join(`
`),r]);else{const a=[`[Vue warn]: ${e}`,...t];r.length&&a.push(`
`,...formatTrace(r)),console.warn(...a)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function formatTrace(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,r=` at <${formatComponentName(e.component,e.type,s)}`,a=">"+n;return e.props?[r,...formatProps(e.props),a]:[r+a]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...formatProp(s,e[s]))}),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString$2(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction$2(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,s){try{return s?e(...s):e()}catch(r){handleError(r,t,n)}}function callWithAsyncErrorHandling(e,t,n,s){if(isFunction$2(e)){const r=callWithErrorHandling(e,t,n,s);return r&&isPromise$1(r)&&r.catch(a=>{handleError(a,t,n)}),r}if(isArray$2(e)){const r=[];for(let a=0;a<e.length;a++)r.push(callWithAsyncErrorHandling(e[a],t,n,s));return r}}function handleError(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||EMPTY_OBJ;if(t){let i=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}i=i.parent}if(a){pauseTracking(),callWithErrorHandling(a,null,10,[e,l,u]),resetTracking();return}}logError(e,n,r,s,o)}function logError(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const s=t+n>>>1,r=queue[s],a=getId(r);a<e||a===e&&r.flags&2?t=s+1:n=s}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),n=queue[queue.length-1];!n||!(e.flags&2)&&t>=getId(n)?queue.push(e):queue.splice(findInsertionIndex(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,n=flushIndex+1){for(;n<queue.length;n++){const s=queue[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;queue.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,s)=>getId(n)-getId(s));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&setBlockTracking(-1);const a=setCurrentRenderingInstance(t);let o;try{o=e(...r)}finally{setCurrentRenderingInstance(a),s._d&&setBlockTracking(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function withDirectives(e,t){if(currentRenderingInstance===null)return e;const n=getComponentPublicInstance(currentRenderingInstance),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[a,o,i,l=EMPTY_OBJ]=t[r];a&&(isFunction$2(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(o),s.push({dir:a,instance:n,value:o,oldValue:void 0,arg:i,modifiers:l}))}return e}function invokeDirectiveHook(e,t,n,s){const r=e.dirs,a=t&&t.dirs;for(let o=0;o<r.length;o++){const i=r[o];a&&(i.oldValue=a[o].value);let l=i.dir[s];l&&(pauseTracking(),callWithAsyncErrorHandling(l,n,8,[e.el,i,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTeleportDeferred=e=>e&&(e.defer||e.defer===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,isTargetMathML=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,resolveTarget=(e,t)=>{const n=e&&e.to;return isString$2(n)?t?t(n):null:n},TeleportImpl={name:"Teleport",__isTeleport:!0,process(e,t,n,s,r,a,o,i,l,u){const{mc:c,pc:d,pbc:f,o:{insert:y,querySelector:v,createText:w,createComment:S}}=u,g=isTeleportDisabled(t.props);let{shapeFlag:N,children:x,dynamicChildren:m}=t;if(e==null){const $=t.el=w(""),E=t.anchor=w("");y($,n,s),y(E,n,s);const k=(A,ne)=>{N&16&&(r&&r.isCE&&(r.ce._teleportTarget=A),c(x,A,ne,r,a,o,i,l))},R=()=>{const A=t.target=resolveTarget(t.props,v),ne=prepareAnchor(A,t,w,y);A&&(o!=="svg"&&isTargetSVG(A)?o="svg":o!=="mathml"&&isTargetMathML(A)&&(o="mathml"),g||(k(A,ne),updateCssVars(t,!1)))};g&&(k(n,E),updateCssVars(t,!0)),isTeleportDeferred(t.props)?queuePostRenderEffect(()=>{R(),t.el.__isMounted=!0},a):R()}else{if(isTeleportDeferred(t.props)&&!e.el.__isMounted){queuePostRenderEffect(()=>{TeleportImpl.process(e,t,n,s,r,a,o,i,l,u),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const $=t.anchor=e.anchor,E=t.target=e.target,k=t.targetAnchor=e.targetAnchor,R=isTeleportDisabled(e.props),A=R?n:E,ne=R?$:k;if(o==="svg"||isTargetSVG(E)?o="svg":(o==="mathml"||isTargetMathML(E))&&(o="mathml"),m?(f(e.dynamicChildren,m,A,r,a,o,i),traverseStaticChildren(e,t,!0)):l||d(e,t,A,ne,r,a,o,i,!1),g)R?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):moveTeleport(t,n,$,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const se=t.target=resolveTarget(t.props,v);se&&moveTeleport(t,se,null,u,0)}else R&&moveTeleport(t,E,k,u,1);updateCssVars(t,g)}},remove(e,t,n,{um:s,o:{remove:r}},a){const{shapeFlag:o,children:i,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(r(u),r(c)),a&&r(l),o&16){const y=a||!isTeleportDisabled(f);for(let v=0;v<i.length;v++){const w=i[v];s(w,t,n,y,!!w.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,n,{o:{insert:s},m:r},a=2){a===0&&s(e.targetAnchor,t,n);const{el:o,anchor:i,shapeFlag:l,children:u,props:c}=e,d=a===2;if(d&&s(o,t,n),(!d||isTeleportDisabled(c))&&l&16)for(let f=0;f<u.length;f++)r(u[f],t,n,2);d&&s(i,t,n)}function hydrateTeleport(e,t,n,s,r,a,{o:{nextSibling:o,parentNode:i,querySelector:l,insert:u,createText:c}},d){const f=t.target=resolveTarget(t.props,l);if(f){const y=isTeleportDisabled(t.props),v=f._lpa||f.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,i(e),n,s,r,a),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let w=v;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")t.targetStart=w;else if(w.data==="teleport anchor"){t.targetAnchor=w,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}w=o(w)}t.targetAnchor||prepareAnchor(f,t,c,u),d(v&&o(v),t,f,n,s,r,a)}updateCssVars(t,y)}return t.anchor&&o(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e,t){const n=e.ctx;if(n&&n.ut){let s,r;for(t?(s=e.el,r=e.anchor):(s=e.targetStart,r=e.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function prepareAnchor(e,t,n,s){const r=t.targetStart=n(""),a=t.targetAnchor=n("");return r[TeleportEndKey]=a,e&&(s(r,e),s(a,e)),a}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=e=>{const t=e.subTree;return t.component?recursiveGetSubtree(t.component):t},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const n=getCurrentInstance(),s=useTransitionState();return()=>{const r=t.default&&getTransitionRawChildren(t.default(),!0);if(!r||!r.length)return;const a=findNonCommentChild(r),o=toRaw(e),{mode:i}=o;if(s.isLeaving)return emptyPlaceholder(a);const l=getInnerChild$1(a);if(!l)return emptyPlaceholder(a);let u=resolveTransitionHooks(l,o,s,n,d=>u=d);l.type!==Comment&&setTransitionHooks(l,u);let c=n.subTree&&getInnerChild$1(n.subTree);if(c&&c.type!==Comment&&!isSameVNodeType(l,c)&&recursiveGetSubtree(n).type!==Comment){let d=resolveTransitionHooks(c,o,s,n);if(setTransitionHooks(c,d),i==="out-in"&&l.type!==Comment)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},emptyPlaceholder(a);i==="in-out"&&l.type!==Comment?d.delayLeave=(f,y,v)=>{const w=getLeavingNodesForType(s,c);w[String(c.key)]=c,f[leaveCbKey]=()=>{y(),f[leaveCbKey]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function findNonCommentChild(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Comment){t=n;break}}return t}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function resolveTransitionHooks(e,t,n,s,r){const{appear:a,mode:o,persisted:i=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:y,onAfterLeave:v,onLeaveCancelled:w,onBeforeAppear:S,onAppear:g,onAfterAppear:N,onAppearCancelled:x}=t,m=String(e.key),$=getLeavingNodesForType(n,e),E=(A,ne)=>{A&&callWithAsyncErrorHandling(A,s,9,ne)},k=(A,ne)=>{const se=ne[1];E(A,ne),isArray$2(A)?A.every(X=>X.length<=1)&&se():A.length<=1&&se()},R={mode:o,persisted:i,beforeEnter(A){let ne=l;if(!n.isMounted)if(a)ne=S||l;else return;A[leaveCbKey]&&A[leaveCbKey](!0);const se=$[m];se&&isSameVNodeType(e,se)&&se.el[leaveCbKey]&&se.el[leaveCbKey](),E(ne,[A])},enter(A){let ne=u,se=c,X=d;if(!n.isMounted)if(a)ne=g||u,se=N||c,X=x||d;else return;let ue=!1;const ie=A[enterCbKey]=ye=>{ue||(ue=!0,ye?E(X,[A]):E(se,[A]),R.delayedLeave&&R.delayedLeave(),A[enterCbKey]=void 0)};ne?k(ne,[A,ie]):ie()},leave(A,ne){const se=String(e.key);if(A[enterCbKey]&&A[enterCbKey](!0),n.isUnmounting)return ne();E(f,[A]);let X=!1;const ue=A[leaveCbKey]=ie=>{X||(X=!0,ne(),ie?E(w,[A]):E(v,[A]),A[leaveCbKey]=void 0,$[se]===e&&delete $[se])};$[se]=e,y?k(y,[A,ue]):ue()},clone(A){const ne=resolveTransitionHooks(A,t,n,s,r);return r&&r(ne),ne}};return R}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getInnerChild$1(e){if(!isKeepAlive(e))return isTeleport(e.type)&&e.children?findNonCommentChild(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&isFunction$2(n.default))return n.default()}}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let s=[],r=0;for(let a=0;a<e.length;a++){let o=e[a];const i=n==null?o.key:String(n)+String(o.key!=null?o.key:a);o.type===Fragment?(o.patchFlag&128&&r++,s=s.concat(getTransitionRawChildren(o.children,t,i))):(t||o.type!==Comment)&&s.push(i!=null?cloneVNode(o,{key:i}):o)}if(r>1)for(let a=0;a<s.length;a++)s[a].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction$2(e)?extend$1({name:e.name},t,{setup:e}):e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,t,n,s,r=!1){if(isArray$2(e)){e.forEach((v,w)=>setRef(v,t&&(isArray$2(t)?t[w]:t),n,s,r));return}if(isAsyncWrapper(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&setRef(e,t,n,s.component.subTree);return}const a=s.shapeFlag&4?getComponentPublicInstance(s.component):s.el,o=r?null:a,{i,r:l}=e,u=t&&t.r,c=i.refs===EMPTY_OBJ?i.refs={}:i.refs,d=i.setupState,f=toRaw(d),y=d===EMPTY_OBJ?()=>!1:v=>hasOwn$1(f,v);if(u!=null&&u!==l&&(isString$2(u)?(c[u]=null,y(u)&&(d[u]=null)):isRef(u)&&(u.value=null)),isFunction$2(l))callWithErrorHandling(l,i,12,[o,c]);else{const v=isString$2(l),w=isRef(l);if(v||w){const S=()=>{if(e.f){const g=v?y(l)?d[l]:c[l]:l.value;r?isArray$2(g)&&remove(g,a):isArray$2(g)?g.includes(a)||g.push(a):v?(c[l]=[a],y(l)&&(d[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else v?(c[l]=o,y(l)&&(d[l]=o)):w&&(l.value=o,e.k&&(c[e.k]=o))};o?(S.id=-1,queuePostRenderEffect(S,n)):S()}}}getGlobalThis$1().requestIdleCallback,getGlobalThis$1().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(injectHook(t,s,n),n){let r=n.parent;for(;r&&r.parent;)isKeepAlive(r.parent.vnode)&&injectToKeepAliveRoot(s,t,n,r),r=r.parent}}function injectToKeepAliveRoot(e,t,n,s){const r=injectHook(t,e,s,!0);onUnmounted(()=>{remove(s[t],r)},n)}function injectHook(e,t,n=currentInstance,s=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{pauseTracking();const i=setCurrentInstance(n),l=callWithAsyncErrorHandling(t,n,e,o);return i(),resetTracking(),l});return s?r.unshift(a):r.push(a),a}}const createHook=e=>(t,n=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...s)=>t(...s),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(e,t,n,s){let r;const a=n,o=isArray$2(e);if(o||isString$2(e)){const i=o&&isReactive(e);let l=!1;i&&(l=!isShallow(e),e=shallowReadArray(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?toReactive(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,a)}else if(isObject$2(e))if(e[Symbol.iterator])r=Array.from(e,(i,l)=>t(i,l,void 0,a));else{const i=Object.keys(e);r=new Array(i.length);for(let l=0,u=i.length;l<u;l++){const c=i[l];r[l]=t(e[c],c,l,a)}}else r=[];return r}function renderSlot(e,t,n={},s,r){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return t!=="default"&&(n.name=t),openBlock(),createBlock(Fragment,null,[createVNode("slot",n,s)],64);let a=e[t];a&&a._c&&(a._d=!1),openBlock();const o=a&&ensureValidVNode(a(n)),i=n.key||o&&o.key,l=createBlock(Fragment,{key:(i&&!isSymbol(i)?i:`_${t}`)+""},o||[],o&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function ensureValidVNode(e){return e.some(t=>isVNode$1(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn$1(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:a,accessCache:o,type:i,appContext:l}=e;let u;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return a[t]}else{if(hasSetupBinding(s,t))return o[t]=1,s[t];if(r!==EMPTY_OBJ&&hasOwn$1(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&hasOwn$1(u,t))return o[t]=3,a[t];if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return o[t]=4,n[t];shouldCacheAccess&&(o[t]=0)}}const c=publicPropertiesMap[t];let d,f;if(c)return t==="$attrs"&&track(e.attrs,"get",""),c(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,hasOwn$1(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:a}=e;return hasSetupBinding(r,t)?(r[t]=n,!0):s!==EMPTY_OBJ&&hasOwn$1(s,t)?(s[t]=n,!0):hasOwn$1(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:a}},o){let i;return!!n[o]||e!==EMPTY_OBJ&&hasOwn$1(e,o)||hasSetupBinding(t,o)||(i=a[0])&&hasOwn$1(i,o)||hasOwn$1(s,o)||hasOwn$1(publicPropertiesMap,o)||hasOwn$1(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function normalizePropsOrEmits(e){return isArray$2(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,s=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:o,watch:i,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:y,updated:v,activated:w,deactivated:S,beforeDestroy:g,beforeUnmount:N,destroyed:x,unmounted:m,render:$,renderTracked:E,renderTriggered:k,errorCaptured:R,serverPrefetch:A,expose:ne,inheritAttrs:se,components:X,directives:ue,filters:ie}=t;if(u&&resolveInjections(u,s,null),o)for(const ce in o){const z=o[ce];isFunction$2(z)&&(s[ce]=z.bind(n))}if(r){const ce=r.call(n,n);isObject$2(ce)&&(e.data=reactive(ce))}if(shouldCacheAccess=!0,a)for(const ce in a){const z=a[ce],G=isFunction$2(z)?z.bind(n,n):isFunction$2(z.get)?z.get.bind(n,n):NOOP,ge=!isFunction$2(z)&&isFunction$2(z.set)?z.set.bind(n):NOOP,j=computed({get:G,set:ge});Object.defineProperty(s,ce,{enumerable:!0,configurable:!0,get:()=>j.value,set:V=>j.value=V})}if(i)for(const ce in i)createWatcher(i[ce],s,n,ce);if(l){const ce=isFunction$2(l)?l.call(n):l;Reflect.ownKeys(ce).forEach(z=>{provide(z,ce[z])})}c&&callHook$1(c,e,"c");function me(ce,z){isArray$2(z)?z.forEach(G=>ce(G.bind(n))):z&&ce(z.bind(n))}if(me(onBeforeMount,d),me(onMounted,f),me(onBeforeUpdate,y),me(onUpdated,v),me(onActivated,w),me(onDeactivated,S),me(onErrorCaptured,R),me(onRenderTracked,E),me(onRenderTriggered,k),me(onBeforeUnmount,N),me(onUnmounted,m),me(onServerPrefetch,A),isArray$2(ne))if(ne.length){const ce=e.exposed||(e.exposed={});ne.forEach(z=>{Object.defineProperty(ce,z,{get:()=>n[z],set:G=>n[z]=G})})}else e.exposed||(e.exposed={});$&&e.render===NOOP&&(e.render=$),se!=null&&(e.inheritAttrs=se),X&&(e.components=X),ue&&(e.directives=ue),A&&markAsyncBoundary(e)}function resolveInjections(e,t,n=NOOP){isArray$2(e)&&(e=normalizeInject(e));for(const s in e){const r=e[s];let a;isObject$2(r)?"default"in r?a=inject(r.from||s,r.default,!0):a=inject(r.from||s):a=inject(r),isRef(a)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[s]=a}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$2(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,s){let r=s.includes(".")?createPathGetter(n,s):()=>n[s];if(isString$2(e)){const a=t[e];isFunction$2(a)&&watch(r,a)}else if(isFunction$2(e))watch(r,e.bind(n));else if(isObject$2(e))if(isArray$2(e))e.forEach(a=>createWatcher(a,t,n,s));else{const a=isFunction$2(e.handler)?e.handler.bind(n):t[e.handler];isFunction$2(a)&&watch(r,a,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,i=a.get(t);let l;return i?l=i:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(u=>mergeOptions(l,u,o,!0)),mergeOptions(l,t,o)),isObject$2(t)&&a.set(t,l),l}function mergeOptions(e,t,n,s=!1){const{mixins:r,extends:a}=t;a&&mergeOptions(e,a,n,!0),r&&r.forEach(o=>mergeOptions(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const i=internalOptionMergeStrats[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$1(isFunction$2(e)?e.call(this,this):e,isFunction$2(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$1(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$2(e)&&isArray$2(t)?[...new Set([...e,...t])]:extend$1(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend$1(Object.create(null),e);for(const s in t)n[s]=mergeAsArray(e[s],t[s]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(s,r=null){isFunction$2(s)||(s=extend$1({},s)),r!=null&&!isObject$2(r)&&(r=null);const a=createAppContext(),o=new WeakSet,i=[];let l=!1;const u=a.app={_uid:uid$1++,_component:s,_props:r,_container:null,_context:a,_instance:null,version:version$1,get config(){return a.config},set config(c){},use(c,...d){return o.has(c)||(c&&isFunction$2(c.install)?(o.add(c),c.install(u,...d)):isFunction$2(c)&&(o.add(c),c(u,...d))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,d){return d?(a.components[c]=d,u):a.components[c]},directive(c,d){return d?(a.directives[c]=d,u):a.directives[c]},mount(c,d,f){if(!l){const y=u._ceVNode||createVNode(s,r);return y.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(y,c,f),l=!0,u._container=c,c.__vue_app__=u,getComponentPublicInstance(y.component)}},onUnmount(c){i.push(c)},unmount(){l&&(callWithAsyncErrorHandling(i,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return a.provides[c]=d,u},runWithContext(c){const d=currentApp;currentApp=u;try{return c()}finally{currentApp=d}}};return u}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const s=currentInstance.parent&&currentInstance.parent.provides;s===n&&(n=currentInstance.provides=Object.create(s)),n[e]=t}}function inject(e,t,n=!1){const s=currentInstance||currentRenderingInstance;if(s||currentApp){const r=currentApp?currentApp._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&isFunction$2(t)?t.call(s&&s.proxy):t}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,n,s=!1){const r={},a=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,r,a);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:shallowReactive(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function updateProps(e,t,n,s){const{props:r,attrs:a,vnode:{patchFlag:o}}=e,i=toRaw(r),[l]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(isEmitListener(e.emitsOptions,f))continue;const y=t[f];if(l)if(hasOwn$1(a,f))y!==a[f]&&(a[f]=y,u=!0);else{const v=camelize(f);r[v]=resolvePropValue(l,i,v,y,e,!1)}else y!==a[f]&&(a[f]=y,u=!0)}}}else{setFullProps(e,t,r,a)&&(u=!0);let c;for(const d in i)(!t||!hasOwn$1(t,d)&&((c=hyphenate(d))===d||!hasOwn$1(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=resolvePropValue(l,i,d,void 0,e,!0)):delete r[d]);if(a!==i)for(const d in a)(!t||!hasOwn$1(t,d))&&(delete a[d],u=!0)}u&&trigger(e.attrs,"set","")}function setFullProps(e,t,n,s){const[r,a]=e.propsOptions;let o=!1,i;if(t)for(let l in t){if(isReservedProp(l))continue;const u=t[l];let c;r&&hasOwn$1(r,c=camelize(l))?!a||!a.includes(c)?n[c]=u:(i||(i={}))[c]=u:isEmitListener(e.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(a){const l=toRaw(n),u=i||EMPTY_OBJ;for(let c=0;c<a.length;c++){const d=a[c];n[d]=resolvePropValue(r,l,d,u[d],e,!hasOwn$1(u,d))}}return o}function resolvePropValue(e,t,n,s,r,a){const o=e[n];if(o!=null){const i=hasOwn$1(o,"default");if(i&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&isFunction$2(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=setCurrentInstance(r);s=u[n]=l.call(null,t),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(a&&!i?s=!1:o[1]&&(s===""||s===hyphenate(n))&&(s=!0))}return s}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,n=!1){const s=n?mixinPropsCache:t.propsCache,r=s.get(e);if(r)return r;const a=e.props,o={},i=[];let l=!1;if(!isFunction$2(e)){const c=d=>{l=!0;const[f,y]=normalizePropsOptions(d,t,!0);extend$1(o,f),y&&i.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return isObject$2(e)&&s.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(a))for(let c=0;c<a.length;c++){const d=camelize(a[c]);validatePropName(d)&&(o[d]=EMPTY_OBJ)}else if(a)for(const c in a){const d=camelize(c);if(validatePropName(d)){const f=a[c],y=o[d]=isArray$2(f)||isFunction$2(f)?{type:f}:extend$1({},f),v=y.type;let w=!1,S=!0;if(isArray$2(v))for(let g=0;g<v.length;++g){const N=v[g],x=isFunction$2(N)&&N.name;if(x==="Boolean"){w=!0;break}else x==="String"&&(S=!1)}else w=isFunction$2(v)&&v.name==="Boolean";y[0]=w,y[1]=S,(w||hasOwn$1(y,"default"))&&i.push(d)}}const u=[o,i];return isObject$2(e)&&s.set(e,u),u}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const s=withCtx((...r)=>normalizeSlotValue(t(...r)),n);return s._c=!1,s},normalizeObjectSlots=(e,t,n)=>{const s=e._ctx;for(const r in e){if(isInternalKey(r))continue;const a=e[r];if(isFunction$2(a))t[r]=normalizeSlot(r,a,s);else if(a!=null){const o=normalizeSlotValue(a);t[r]=()=>o}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},assignSlots=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},initSlots=(e,t,n)=>{const s=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const r=t._;r?(assignSlots(s,t,n),n&&def(s,"_",r,!0)):normalizeObjectSlots(t,s)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,n)=>{const{vnode:s,slots:r}=e;let a=!0,o=EMPTY_OBJ;if(s.shapeFlag&32){const i=t._;i?n&&i===1?a=!1:assignSlots(r,t,n):(a=!t.$stable,normalizeObjectSlots(t,r)),o=t}else t&&(normalizeVNodeSlots(e,t),o={default:1});if(a)for(const i in r)!isInternalKey(i)&&o[i]==null&&delete r[i]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis$1();n.__VUE__=!0;const{insert:s,remove:r,patchProp:a,createElement:o,createText:i,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:y=NOOP,insertStaticContent:v}=e,w=(C,T,M,Q=null,U=null,Y=null,_=void 0,b=null,B=!!T.dynamicChildren)=>{if(C===T)return;C&&!isSameVNodeType(C,T)&&(Q=Z(C),V(C,U,Y,!0),C=null),T.patchFlag===-2&&(B=!1,T.dynamicChildren=null);const{type:L,ref:re,shapeFlag:q}=T;switch(L){case Text:S(C,T,M,Q);break;case Comment:g(C,T,M,Q);break;case Static:C==null&&N(T,M,Q,_);break;case Fragment:X(C,T,M,Q,U,Y,_,b,B);break;default:q&1?$(C,T,M,Q,U,Y,_,b,B):q&6?ue(C,T,M,Q,U,Y,_,b,B):(q&64||q&128)&&L.process(C,T,M,Q,U,Y,_,b,B,Ee)}re!=null&&U&&setRef(re,C&&C.ref,Y,T||C,!T)},S=(C,T,M,Q)=>{if(C==null)s(T.el=i(T.children),M,Q);else{const U=T.el=C.el;T.children!==C.children&&u(U,T.children)}},g=(C,T,M,Q)=>{C==null?s(T.el=l(T.children||""),M,Q):T.el=C.el},N=(C,T,M,Q)=>{[C.el,C.anchor]=v(C.children,T,M,Q,C.el,C.anchor)},x=({el:C,anchor:T},M,Q)=>{let U;for(;C&&C!==T;)U=f(C),s(C,M,Q),C=U;s(T,M,Q)},m=({el:C,anchor:T})=>{let M;for(;C&&C!==T;)M=f(C),r(C),C=M;r(T)},$=(C,T,M,Q,U,Y,_,b,B)=>{T.type==="svg"?_="svg":T.type==="math"&&(_="mathml"),C==null?E(T,M,Q,U,Y,_,b,B):A(C,T,U,Y,_,b,B)},E=(C,T,M,Q,U,Y,_,b)=>{let B,L;const{props:re,shapeFlag:q,transition:I,dirs:P}=C;if(B=C.el=o(C.type,Y,re&&re.is,re),q&8?c(B,C.children):q&16&&R(C.children,B,null,Q,U,resolveChildrenNamespace(C,Y),_,b),P&&invokeDirectiveHook(C,null,Q,"created"),k(B,C,C.scopeId,_,Q),re){for(const _e in re)_e!=="value"&&!isReservedProp(_e)&&a(B,_e,null,re[_e],Y,Q);"value"in re&&a(B,"value",null,re.value,Y),(L=re.onVnodeBeforeMount)&&invokeVNodeHook(L,Q,C)}P&&invokeDirectiveHook(C,null,Q,"beforeMount");const le=needTransition(U,I);le&&I.beforeEnter(B),s(B,T,M),((L=re&&re.onVnodeMounted)||le||P)&&queuePostRenderEffect(()=>{L&&invokeVNodeHook(L,Q,C),le&&I.enter(B),P&&invokeDirectiveHook(C,null,Q,"mounted")},U)},k=(C,T,M,Q,U)=>{if(M&&y(C,M),Q)for(let Y=0;Y<Q.length;Y++)y(C,Q[Y]);if(U){let Y=U.subTree;if(T===Y||isSuspense(Y.type)&&(Y.ssContent===T||Y.ssFallback===T)){const _=U.vnode;k(C,_,_.scopeId,_.slotScopeIds,U.parent)}}},R=(C,T,M,Q,U,Y,_,b,B=0)=>{for(let L=B;L<C.length;L++){const re=C[L]=b?cloneIfMounted(C[L]):normalizeVNode(C[L]);w(null,re,T,M,Q,U,Y,_,b)}},A=(C,T,M,Q,U,Y,_)=>{const b=T.el=C.el;let{patchFlag:B,dynamicChildren:L,dirs:re}=T;B|=C.patchFlag&16;const q=C.props||EMPTY_OBJ,I=T.props||EMPTY_OBJ;let P;if(M&&toggleRecurse(M,!1),(P=I.onVnodeBeforeUpdate)&&invokeVNodeHook(P,M,T,C),re&&invokeDirectiveHook(T,C,M,"beforeUpdate"),M&&toggleRecurse(M,!0),(q.innerHTML&&I.innerHTML==null||q.textContent&&I.textContent==null)&&c(b,""),L?ne(C.dynamicChildren,L,b,M,Q,resolveChildrenNamespace(T,U),Y):_||z(C,T,b,null,M,Q,resolveChildrenNamespace(T,U),Y,!1),B>0){if(B&16)se(b,q,I,M,U);else if(B&2&&q.class!==I.class&&a(b,"class",null,I.class,U),B&4&&a(b,"style",q.style,I.style,U),B&8){const le=T.dynamicProps;for(let _e=0;_e<le.length;_e++){const ve=le[_e],Ne=q[ve],$e=I[ve];($e!==Ne||ve==="value")&&a(b,ve,Ne,$e,U,M)}}B&1&&C.children!==T.children&&c(b,T.children)}else!_&&L==null&&se(b,q,I,M,U);((P=I.onVnodeUpdated)||re)&&queuePostRenderEffect(()=>{P&&invokeVNodeHook(P,M,T,C),re&&invokeDirectiveHook(T,C,M,"updated")},Q)},ne=(C,T,M,Q,U,Y,_)=>{for(let b=0;b<T.length;b++){const B=C[b],L=T[b],re=B.el&&(B.type===Fragment||!isSameVNodeType(B,L)||B.shapeFlag&70)?d(B.el):M;w(B,L,re,null,Q,U,Y,_,!0)}},se=(C,T,M,Q,U)=>{if(T!==M){if(T!==EMPTY_OBJ)for(const Y in T)!isReservedProp(Y)&&!(Y in M)&&a(C,Y,T[Y],null,U,Q);for(const Y in M){if(isReservedProp(Y))continue;const _=M[Y],b=T[Y];_!==b&&Y!=="value"&&a(C,Y,b,_,U,Q)}"value"in M&&a(C,"value",T.value,M.value,U)}},X=(C,T,M,Q,U,Y,_,b,B)=>{const L=T.el=C?C.el:i(""),re=T.anchor=C?C.anchor:i("");let{patchFlag:q,dynamicChildren:I,slotScopeIds:P}=T;P&&(b=b?b.concat(P):P),C==null?(s(L,M,Q),s(re,M,Q),R(T.children||[],M,re,U,Y,_,b,B)):q>0&&q&64&&I&&C.dynamicChildren?(ne(C.dynamicChildren,I,M,U,Y,_,b),(T.key!=null||U&&T===U.subTree)&&traverseStaticChildren(C,T,!0)):z(C,T,M,re,U,Y,_,b,B)},ue=(C,T,M,Q,U,Y,_,b,B)=>{T.slotScopeIds=b,C==null?T.shapeFlag&512?U.ctx.activate(T,M,Q,_,B):ie(T,M,Q,U,Y,_,B):ye(C,T,B)},ie=(C,T,M,Q,U,Y,_)=>{const b=C.component=createComponentInstance(C,Q,U);if(isKeepAlive(C)&&(b.ctx.renderer=Ee),setupComponent(b,!1,_),b.asyncDep){if(U&&U.registerDep(b,me,_),!C.el){const B=b.subTree=createVNode(Comment);g(null,B,T,M)}}else me(b,C,T,M,U,Y,_)},ye=(C,T,M)=>{const Q=T.component=C.component;if(shouldUpdateComponent(C,T,M))if(Q.asyncDep&&!Q.asyncResolved){ce(Q,T,M);return}else Q.next=T,Q.update();else T.el=C.el,Q.vnode=T},me=(C,T,M,Q,U,Y,_)=>{const b=()=>{if(C.isMounted){let{next:q,bu:I,u:P,parent:le,vnode:_e}=C;{const Ae=locateNonHydratedAsyncRoot(C);if(Ae){q&&(q.el=_e.el,ce(C,q,_)),Ae.asyncDep.then(()=>{C.isUnmounted||b()});return}}let ve=q,Ne;toggleRecurse(C,!1),q?(q.el=_e.el,ce(C,q,_)):q=_e,I&&invokeArrayFns(I),(Ne=q.props&&q.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ne,le,q,_e),toggleRecurse(C,!0);const $e=renderComponentRoot(C),Be=C.subTree;C.subTree=$e,w(Be,$e,d(Be.el),Z(Be),C,U,Y),q.el=$e.el,ve===null&&updateHOCHostEl(C,$e.el),P&&queuePostRenderEffect(P,U),(Ne=q.props&&q.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ne,le,q,_e),U)}else{let q;const{el:I,props:P}=T,{bm:le,m:_e,parent:ve,root:Ne,type:$e}=C,Be=isAsyncWrapper(T);toggleRecurse(C,!1),le&&invokeArrayFns(le),!Be&&(q=P&&P.onVnodeBeforeMount)&&invokeVNodeHook(q,ve,T),toggleRecurse(C,!0);{Ne.ce&&Ne.ce._injectChildStyle($e);const Ae=C.subTree=renderComponentRoot(C);w(null,Ae,M,Q,C,U,Y),T.el=Ae.el}if(_e&&queuePostRenderEffect(_e,U),!Be&&(q=P&&P.onVnodeMounted)){const Ae=T;queuePostRenderEffect(()=>invokeVNodeHook(q,ve,Ae),U)}(T.shapeFlag&256||ve&&isAsyncWrapper(ve.vnode)&&ve.vnode.shapeFlag&256)&&C.a&&queuePostRenderEffect(C.a,U),C.isMounted=!0,T=M=Q=null}};C.scope.on();const B=C.effect=new ReactiveEffect(b);C.scope.off();const L=C.update=B.run.bind(B),re=C.job=B.runIfDirty.bind(B);re.i=C,re.id=C.uid,B.scheduler=()=>queueJob(re),toggleRecurse(C,!0),L()},ce=(C,T,M)=>{T.component=C;const Q=C.vnode.props;C.vnode=T,C.next=null,updateProps(C,T.props,Q,M),updateSlots(C,T.children,M),pauseTracking(),flushPreFlushCbs(C),resetTracking()},z=(C,T,M,Q,U,Y,_,b,B=!1)=>{const L=C&&C.children,re=C?C.shapeFlag:0,q=T.children,{patchFlag:I,shapeFlag:P}=T;if(I>0){if(I&128){ge(L,q,M,Q,U,Y,_,b,B);return}else if(I&256){G(L,q,M,Q,U,Y,_,b,B);return}}P&8?(re&16&&de(L,U,Y),q!==L&&c(M,q)):re&16?P&16?ge(L,q,M,Q,U,Y,_,b,B):de(L,U,Y,!0):(re&8&&c(M,""),P&16&&R(q,M,Q,U,Y,_,b,B))},G=(C,T,M,Q,U,Y,_,b,B)=>{C=C||EMPTY_ARR,T=T||EMPTY_ARR;const L=C.length,re=T.length,q=Math.min(L,re);let I;for(I=0;I<q;I++){const P=T[I]=B?cloneIfMounted(T[I]):normalizeVNode(T[I]);w(C[I],P,M,null,U,Y,_,b,B)}L>re?de(C,U,Y,!0,!1,q):R(T,M,Q,U,Y,_,b,B,q)},ge=(C,T,M,Q,U,Y,_,b,B)=>{let L=0;const re=T.length;let q=C.length-1,I=re-1;for(;L<=q&&L<=I;){const P=C[L],le=T[L]=B?cloneIfMounted(T[L]):normalizeVNode(T[L]);if(isSameVNodeType(P,le))w(P,le,M,null,U,Y,_,b,B);else break;L++}for(;L<=q&&L<=I;){const P=C[q],le=T[I]=B?cloneIfMounted(T[I]):normalizeVNode(T[I]);if(isSameVNodeType(P,le))w(P,le,M,null,U,Y,_,b,B);else break;q--,I--}if(L>q){if(L<=I){const P=I+1,le=P<re?T[P].el:Q;for(;L<=I;)w(null,T[L]=B?cloneIfMounted(T[L]):normalizeVNode(T[L]),M,le,U,Y,_,b,B),L++}}else if(L>I)for(;L<=q;)V(C[L],U,Y,!0),L++;else{const P=L,le=L,_e=new Map;for(L=le;L<=I;L++){const K=T[L]=B?cloneIfMounted(T[L]):normalizeVNode(T[L]);K.key!=null&&_e.set(K.key,L)}let ve,Ne=0;const $e=I-le+1;let Be=!1,Ae=0;const Re=new Array($e);for(L=0;L<$e;L++)Re[L]=0;for(L=P;L<=q;L++){const K=C[L];if(Ne>=$e){V(K,U,Y,!0);continue}let J;if(K.key!=null)J=_e.get(K.key);else for(ve=le;ve<=I;ve++)if(Re[ve-le]===0&&isSameVNodeType(K,T[ve])){J=ve;break}J===void 0?V(K,U,Y,!0):(Re[J-le]=L+1,J>=Ae?Ae=J:Be=!0,w(K,T[J],M,null,U,Y,_,b,B),Ne++)}const H=Be?getSequence(Re):EMPTY_ARR;for(ve=H.length-1,L=$e-1;L>=0;L--){const K=le+L,J=T[K],be=K+1<re?T[K+1].el:Q;Re[L]===0?w(null,J,M,be,U,Y,_,b,B):Be&&(ve<0||L!==H[ve]?j(J,M,be,2):ve--)}}},j=(C,T,M,Q,U=null)=>{const{el:Y,type:_,transition:b,children:B,shapeFlag:L}=C;if(L&6){j(C.component.subTree,T,M,Q);return}if(L&128){C.suspense.move(T,M,Q);return}if(L&64){_.move(C,T,M,Ee);return}if(_===Fragment){s(Y,T,M);for(let q=0;q<B.length;q++)j(B[q],T,M,Q);s(C.anchor,T,M);return}if(_===Static){x(C,T,M);return}if(Q!==2&&L&1&&b)if(Q===0)b.beforeEnter(Y),s(Y,T,M),queuePostRenderEffect(()=>b.enter(Y),U);else{const{leave:q,delayLeave:I,afterLeave:P}=b,le=()=>s(Y,T,M),_e=()=>{q(Y,()=>{le(),P&&P()})};I?I(Y,le,_e):_e()}else s(Y,T,M)},V=(C,T,M,Q=!1,U=!1)=>{const{type:Y,props:_,ref:b,children:B,dynamicChildren:L,shapeFlag:re,patchFlag:q,dirs:I,cacheIndex:P}=C;if(q===-2&&(U=!1),b!=null&&setRef(b,null,M,C,!0),P!=null&&(T.renderCache[P]=void 0),re&256){T.ctx.deactivate(C);return}const le=re&1&&I,_e=!isAsyncWrapper(C);let ve;if(_e&&(ve=_&&_.onVnodeBeforeUnmount)&&invokeVNodeHook(ve,T,C),re&6)ae(C.component,M,Q);else{if(re&128){C.suspense.unmount(M,Q);return}le&&invokeDirectiveHook(C,null,T,"beforeUnmount"),re&64?C.type.remove(C,T,M,Ee,Q):L&&!L.hasOnce&&(Y!==Fragment||q>0&&q&64)?de(L,T,M,!1,!0):(Y===Fragment&&q&384||!U&&re&16)&&de(B,T,M),Q&&F(C)}(_e&&(ve=_&&_.onVnodeUnmounted)||le)&&queuePostRenderEffect(()=>{ve&&invokeVNodeHook(ve,T,C),le&&invokeDirectiveHook(C,null,T,"unmounted")},M)},F=C=>{const{type:T,el:M,anchor:Q,transition:U}=C;if(T===Fragment){te(M,Q);return}if(T===Static){m(C);return}const Y=()=>{r(M),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(C.shapeFlag&1&&U&&!U.persisted){const{leave:_,delayLeave:b}=U,B=()=>_(M,Y);b?b(C.el,Y,B):B()}else Y()},te=(C,T)=>{let M;for(;C!==T;)M=f(C),r(C),C=M;r(T)},ae=(C,T,M)=>{const{bum:Q,scope:U,job:Y,subTree:_,um:b,m:B,a:L}=C;invalidateMount(B),invalidateMount(L),Q&&invokeArrayFns(Q),U.stop(),Y&&(Y.flags|=8,V(_,C,T,M)),b&&queuePostRenderEffect(b,T),queuePostRenderEffect(()=>{C.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},de=(C,T,M,Q=!1,U=!1,Y=0)=>{for(let _=Y;_<C.length;_++)V(C[_],T,M,Q,U)},Z=C=>{if(C.shapeFlag&6)return Z(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const T=f(C.anchor||C.el),M=T&&T[TeleportEndKey];return M?f(M):T};let ee=!1;const he=(C,T,M)=>{C==null?T._vnode&&V(T._vnode,null,null,!0):w(T._vnode||null,C,T,null,null,null,M),T._vnode=C,ee||(ee=!0,flushPreFlushCbs(),flushPostFlushCbs(),ee=!1)},Ee={p:w,um:V,m:j,r:F,mt:ie,mc:R,pc:z,pbc:ne,n:Z,o:e};return{render:he,hydrate:void 0,createApp:createAppAPI(he)}}function resolveChildrenNamespace({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const s=e.children,r=t.children;if(isArray$2(s)&&isArray$2(r))for(let a=0;a<s.length;a++){const o=s[a];let i=r[a];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[a]=cloneIfMounted(r[a]),i.el=o.el),!n&&i.patchFlag!==-2&&traverseStaticChildren(o,i)),i.type===Text&&(i.el=o.el)}}function getSequence(e){const t=e.slice(),n=[0];let s,r,a,o,i;const l=e.length;for(s=0;s<l;s++){const u=e[s];if(u!==0){if(r=n[n.length-1],e[r]<u){t[s]=r,n.push(s);continue}for(a=0,o=n.length-1;a<o;)i=a+o>>1,e[n[i]]<u?a=i+1:o=i;u<e[n[a]]&&(a>0&&(t[s]=n[a-1]),n[a]=s)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,n=EMPTY_OBJ){const{immediate:s,deep:r,flush:a,once:o}=n,i=extend$1({},n),l=t&&s||!t&&a!=="post";let u;if(isInSSRComponentSetup){if(a==="sync"){const y=useSSRContext();u=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=NOOP,y.resume=NOOP,y.pause=NOOP,y}}const c=currentInstance;i.call=(y,v,w)=>callWithAsyncErrorHandling(y,c,v,w);let d=!1;a==="post"?i.scheduler=y=>{queuePostRenderEffect(y,c&&c.suspense)}:a!=="sync"&&(d=!0,i.scheduler=(y,v)=>{v?y():queueJob(y)}),i.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,c&&(y.id=c.uid,y.i=c))};const f=watch$1(e,t,i);return isInSSRComponentSetup&&(u?u.push(f):l&&f()),f}function instanceWatch(e,t,n){const s=this.proxy,r=isString$2(e)?e.includes(".")?createPathGetter(s,e):()=>s[e]:e.bind(s,s);let a;isFunction$2(t)?a=t:(a=t.handler,n=t);const o=setCurrentInstance(this),i=doWatch(r,a.bind(s),n);return o(),i}function createPathGetter(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||EMPTY_OBJ;let r=n;const a=t.startsWith("update:"),o=a&&getModelModifiers(s,t.slice(7));o&&(o.trim&&(r=n.map(c=>isString$2(c)?c.trim():c)),o.number&&(r=n.map(looseToNumber)));let i,l=s[i=toHandlerKey(t)]||s[i=toHandlerKey(camelize(t))];!l&&a&&(l=s[i=toHandlerKey(hyphenate(t))]),l&&callWithAsyncErrorHandling(l,e,6,r);const u=s[i+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,callWithAsyncErrorHandling(u,e,6,r)}}function normalizeEmitsOptions(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const a=e.emits;let o={},i=!1;if(!isFunction$2(e)){const l=u=>{const c=normalizeEmitsOptions(u,t,!0);c&&(i=!0,extend$1(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!i?(isObject$2(e)&&s.set(e,null),null):(isArray$2(a)?a.forEach(l=>o[l]=null):extend$1(o,a),isObject$2(e)&&s.set(e,o),o)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(e,t[0].toLowerCase()+t.slice(1))||hasOwn$1(e,hyphenate(t))||hasOwn$1(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[a],slots:o,attrs:i,emit:l,render:u,renderCache:c,props:d,data:f,setupState:y,ctx:v,inheritAttrs:w}=e,S=setCurrentRenderingInstance(e);let g,N;try{if(n.shapeFlag&4){const m=r||s,$=m;g=normalizeVNode(u.call($,m,c,d,y,f,v)),N=i}else{const m=t;g=normalizeVNode(m.length>1?m(d,{attrs:i,slots:o,emit:l}):m(d,null)),N=t.props?i:getFunctionalFallthrough(i)}}catch(m){blockStack.length=0,handleError(m,e,1),g=createVNode(Comment)}let x=g;if(N&&w!==!1){const m=Object.keys(N),{shapeFlag:$}=x;m.length&&$&7&&(a&&m.some(isModelListener)&&(N=filterModelListeners(N,a)),x=cloneVNode(x,N,!1,!0))}return n.dirs&&(x=cloneVNode(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(x,n.transition),g=x,setCurrentRenderingInstance(S),g}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const s in e)(!isModelListener(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function shouldUpdateComponent(e,t,n){const{props:s,children:r,component:a}=e,{props:o,children:i,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?hasPropsChanged(s,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==s[f]&&!isEmitListener(u,f))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:s===o?!1:s?o?hasPropsChanged(s,o,u):!0:!!o;return!1}function hasPropsChanged(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const a=s[r];if(t[a]!==e[a]&&!isEmitListener(n,a))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$2(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,s,r,a){return setupBlock(createBaseVNode(e,t,n,s,r,a,!0))}function createBlock(e,t,n,s,r){return setupBlock(createVNode(e,t,n,s,r,!0))}function isVNode$1(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString$2(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,s=0,r=null,a=e===Fragment?0:1,o=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return i?(normalizeChildren(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=isString$2(n)?8:16),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,s=0,r=null,a=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode$1(e)){const i=cloneVNode(e,t,!0);return n&&normalizeChildren(i,n),isBlockTreeEnabled>0&&!a&&currentBlock&&(i.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=i:currentBlock.push(i)),i.patchFlag=-2,i}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:i,style:l}=t;i&&!isString$2(i)&&(t.class=normalizeClass(i)),isObject$2(l)&&(isProxy(l)&&!isArray$2(l)&&(l=extend$1({},l)),t.style=normalizeStyle(l))}const o=isString$2(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$2(e)?2:0;return createBaseVNode(e,t,n,s,r,o,a,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend$1({},e):e:null}function cloneVNode(e,t,n=!1,s=!1){const{props:r,ref:a,patchFlag:o,children:i,transition:l}=e,u=t?mergeProps(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&normalizeKey(u),ref:t&&t.ref?n&&a?isArray$2(a)?a.concat(normalizeRef(t)):[a,normalizeRef(t)]:normalizeRef(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&setTransitionHooks(c,l.clone(c)),c}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):isVNode$1(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(isArray$2(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),normalizeChildren(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!isInternalObject(t)?t._ctx=currentRenderingInstance:r===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),s&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=normalizeClass([t.class,s.class]));else if(r==="style")t.style=normalizeStyle([t.style,s.style]);else if(isOn(r)){const a=t[r],o=s[r];o&&a!==o&&!(isArray$2(a)&&a.includes(o))&&(t[r]=a?[].concat(a,o):o)}else r!==""&&(t[r]=s[r])}return t}function invokeVNodeHook(e,t,n,s=null){callWithAsyncErrorHandling(e,t,7,[n,s])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||emptyAppContext,a={uid:uid++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(s,r),emitsOptions:normalizeEmitsOptions(s,r),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=emit.bind(null,a),e.ce&&e.ce(a),a}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis$1(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),a=>{r.length>1?r.forEach(o=>o(a)):r[0](a)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,n=!1){t&&setInSSRSetupState(t);const{props:s,children:r}=e.vnode,a=isStatefulComponent(e);initProps(e,s,a,t),initSlots(e,r,n);const o=a?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),o}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:s}=n;if(s){pauseTracking();const r=e.setupContext=s.length>1?createSetupContext(e):null,a=setCurrentInstance(e),o=callWithErrorHandling(s,e,0,[e.props,r]),i=isPromise$1(o);if(resetTracking(),a(),(i||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),i){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then(l=>{handleSetupResult(e,l)}).catch(l=>{handleError(l,e,0)});e.asyncDep=o}else handleSetupResult(e,o)}else finishComponentSetup(e)}function handleSetupResult(e,t,n){isFunction$2(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$2(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,n){const s=e.type;e.render||(e.render=s.render||NOOP);{const r=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),r()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$2(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let s=getComponentName(t);if(!s&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(s=r[1])}if(!s&&e&&e.parent){const r=a=>{for(const o in a)if(a[o]===t)return o};s=r(e.components||e.parent.type.components)||r(e.appContext.components)}return s?classify(s):n?"App":"Anonymous"}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const s=arguments.length;return s===2?isObject$2(t)&&!isArray$2(t)?isVNode$1(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&isVNode$1(n)&&(n=[n]),createVNode(e,t,n))}const version$1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):n?doc.createElement(e,{is:n}):doc.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,a){const o=n?n.previousSibling:t.lastChild;if(r&&(r===a||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const i=templateContainer.content;if(s==="svg"||s==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=e=>(e.displayName="Transition",e.props=TransitionPropsValidators,e),Transition=decorate$1((e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t)),callHook=(e,t=[])=>{isArray$2(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$2(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const X in e)X in DOMTransitionPropsValidators||(t[X]=e[X]);if(e.css===!1)return t;const{name:n="v",type:s,duration:r,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:c=i,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,v=normalizeDuration(r),w=v&&v[0],S=v&&v[1],{onBeforeEnter:g,onEnter:N,onEnterCancelled:x,onLeave:m,onLeaveCancelled:$,onBeforeAppear:E=g,onAppear:k=N,onAppearCancelled:R=x}=t,A=(X,ue,ie,ye)=>{X._enterCancelled=ye,removeTransitionClass(X,ue?c:i),removeTransitionClass(X,ue?u:o),ie&&ie()},ne=(X,ue)=>{X._isLeaving=!1,removeTransitionClass(X,d),removeTransitionClass(X,y),removeTransitionClass(X,f),ue&&ue()},se=X=>(ue,ie)=>{const ye=X?k:N,me=()=>A(ue,X,ie);callHook(ye,[ue,me]),nextFrame(()=>{removeTransitionClass(ue,X?l:a),addTransitionClass(ue,X?c:i),hasExplicitCallback(ye)||whenTransitionEnds(ue,s,w,me)})};return extend$1(t,{onBeforeEnter(X){callHook(g,[X]),addTransitionClass(X,a),addTransitionClass(X,o)},onBeforeAppear(X){callHook(E,[X]),addTransitionClass(X,l),addTransitionClass(X,u)},onEnter:se(!1),onAppear:se(!0),onLeave(X,ue){X._isLeaving=!0;const ie=()=>ne(X,ue);addTransitionClass(X,d),X._enterCancelled?(addTransitionClass(X,f),forceReflow()):(forceReflow(),addTransitionClass(X,f)),nextFrame(()=>{X._isLeaving&&(removeTransitionClass(X,d),addTransitionClass(X,y),hasExplicitCallback(m)||whenTransitionEnds(X,s,S,ie))}),callHook(m,[X,ie])},onEnterCancelled(X){A(X,!1,void 0,!0),callHook(x,[X])},onAppearCancelled(X){A(X,!0,void 0,!0),callHook(R,[X])},onLeaveCancelled(X){ne(X),callHook($,[X])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$2(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vtcKey]||(e[vtcKey]=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[vtcKey];n&&(n.delete(t),n.size||(e[vtcKey]=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,s){const r=e._endId=++endId,a=()=>{r===e._endId&&s()};if(n!=null)return setTimeout(a,n);const{type:o,timeout:i,propCount:l}=getTransitionInfo(e,t);if(!o)return s();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),a()},f=y=>{y.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},i+1),e.addEventListener(u,f)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),s=v=>(n[v]||"").split(", "),r=s(`${TRANSITION}Delay`),a=s(`${TRANSITION}Duration`),o=getTimeout(r,a),i=s(`${ANIMATION}Delay`),l=s(`${ANIMATION}Duration`),u=getTimeout(i,l);let c=null,d=0,f=0;t===TRANSITION?o>0&&(c=TRANSITION,d=o,f=a.length):t===ANIMATION?u>0&&(c=ANIMATION,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?TRANSITION:ANIMATION:null,f=c?c===TRANSITION?a.length:l.length:0);const y=c===TRANSITION&&/\b(transform|all)(,|$)/.test(s(`${TRANSITION}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:y}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>toMs(n)+toMs(e[s])))}function toMs(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(e,t,n){const s=e[vtcKey];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(e,{value:t},{transition:n}){e[vShowOriginalDisplay]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),setDisplay(e,!0),s.enter(e)):s.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOriginalDisplay]:"none",e[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,n){const s=e.style,r=isString$2(n);let a=!1;if(n&&!r){if(t)if(isString$2(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();n[i]==null&&setStyle(s,i,"")}else for(const o in t)n[o]==null&&setStyle(s,o,"");for(const o in n)o==="display"&&(a=!0),setStyle(s,o,n[o])}else if(r){if(t!==n){const o=s[CSS_VAR_TEXT];o&&(n+=";"+o),s.cssText=n,a=displayRE.test(n)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=a?s.display:"",e[vShowHidden]&&(s.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$2(n))n.forEach(s=>setStyle(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(s),n.replace(importantRE,""),"important"):e[s]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let s=camelize(t);if(s!=="filter"&&s in e)return prefixCache[t]=s;s=capitalize$1(s);for(let r=0;r<prefixes.length;r++){const a=prefixes[r]+s;if(a in e)return prefixCache[t]=a}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,s,r,a=isSpecialBooleanAttr(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n):n==null||a&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,a?"":isSymbol(n)?String(n):n)}function patchDOMProp(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const i=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(i!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=includeBooleanAttr(n):n==null&&i==="string"?(n="",o=!0):i==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function addEventListener(e,t,n,s){e.addEventListener(t,n,s)}function removeEventListener(e,t,n,s){e.removeEventListener(t,n,s)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,s,r=null){const a=e[veiKey]||(e[veiKey]={}),o=a[t];if(s&&o)o.value=s;else{const[i,l]=parseName(t);if(s){const u=a[t]=createInvoker(s,r);addEventListener(e,i,u,l)}else o&&(removeEventListener(e,i,o,l),a[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let s;for(;s=e.match(optionsModifierRE);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(s,n.value),t,5,[s])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$2(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,s,r,a)=>{const o=r==="svg";t==="class"?patchClass(e,s,o):t==="style"?patchStyle(e,n,s):isOn(t)?isModelListener(t)||patchEvent(e,t,n,s,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,s,o))?(patchDOMProp(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,s,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString$2(s))?patchDOMProp(e,camelize(t),s,a,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),patchAttr(e,t,s,o))};function shouldSetAsProp(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction$2(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return isNativeOn(t)&&isString$2(n)?!1:t in e}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$2(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[assignKey]=getModelAssigner(r);const a=s||r.props&&r.props.type==="number";addEventListener(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;n&&(i=i.trim()),a&&(i=looseToNumber(i)),e[assignKey](i)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:a}},o){if(e[assignKey]=getModelAssigner(o),e.composing)return;const i=(a||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},vModelCheckbox={deep:!0,created(e,t,n){e[assignKey]=getModelAssigner(n),addEventListener(e,"change",()=>{const s=e._modelValue,r=getValue(e),a=e.checked,o=e[assignKey];if(isArray$2(s)){const i=looseIndexOf(s,r),l=i!==-1;if(a&&!l)o(s.concat(r));else if(!a&&l){const u=[...s];u.splice(i,1),o(u)}}else if(isSet(s)){const i=new Set(s);a?i.add(r):i.delete(r),o(i)}else o(getCheckboxValue(e,a))})},mounted:setChecked,beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},s){e._modelValue=t;let r;if(isArray$2(t))r=looseIndexOf(t,s.props.value)>-1;else if(isSet(t))r=t.has(s.props.value);else{if(t===n)return;r=looseEqual(t,getCheckboxValue(e,!0))}e.checked!==r&&(e.checked=r)}const vModelRadio={created(e,{value:t},n){e.checked=looseEqual(t,n.props.value),e[assignKey]=getModelAssigner(n),addEventListener(e,"change",()=>{e[assignKey](getValue(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[assignKey]=getModelAssigner(s),t!==n&&(e.checked=looseEqual(t,s.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=isSet(t);addEventListener(e,"change",()=>{const a=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?looseToNumber(getValue(o)):getValue(o));e[assignKey](e.multiple?r?new Set(a):a:a[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(s)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n)},updated(e,{value:t}){e._assigning||setSelected(e,t)}};function setSelected(e,t){const n=e.multiple,s=isArray$2(t);if(!(n&&!s&&!isSet(t))){for(let r=0,a=e.options.length;r<a;r++){const o=e.options[r],i=getValue(o);if(n)if(s){const l=typeof i;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(i)):o.selected=looseIndexOf(t,i)>-1}else o.selected=t.has(i);else if(looseEqual(getValue(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const vModelDynamic={created(e,t,n){callModelHook(e,t,n,null,"created")},mounted(e,t,n){callModelHook(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){callModelHook(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){callModelHook(e,t,n,s,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,n,s,r){const o=resolveDynamicModel(e.tagName,n.props&&n.props.type)[r];o&&o(e,t,n,s)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...a)=>{for(let o=0;o<t.length;o++){const i=modifierGuards[t[o]];if(i&&i(r,t))return}return e(r,...a)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const a=hyphenate(r.key);if(t.some(o=>o===a||keyNames[o]===a))return e(r)})},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...e)=>{ensureRenderer().render(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=normalizeContainer(s);if(!r)return;const a=t._component;!isFunction$2(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,resolveRootNamespace(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString$2(e)?document.querySelector(e):e}/*!
  * shared v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",makeSymbol=(e,t=!1)=>t?Symbol.for(e):Symbol(e),generateFormatCacheKey=(e,t,n)=>friendlyJSONstringify({l:e,k:t,s:n}),friendlyJSONstringify=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber$1=e=>typeof e=="number"&&isFinite(e),isDate$1=e=>toTypeString(e)==="[object Date]",isRegExp$1=e=>toTypeString(e)==="[object RegExp]",isEmptyObject=e=>isPlainObject$2(e)&&Object.keys(e).length===0,assign$1=Object.assign,_create=Object.create,create=(e=null)=>_create(e);let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:create());function escapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty$1=Object.prototype.hasOwnProperty;function hasOwn(e,t){return hasOwnProperty$1.call(e,t)}const isArray$1=Array.isArray,isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isBoolean$1=e=>typeof e=="boolean",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$1(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),isPlainObject$2=e=>toTypeString(e)==="[object Object]",toDisplayString=e=>e==null?"":isArray$1(e)||isPlainObject$2(e)&&e.toString===objectToString?JSON.stringify(e,null,2):String(e);function join(e,t=""){return e.reduce((n,s,r)=>r===0?n+s:n+t+s,"")}function warn(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const isNotObjectOrIsArray=e=>!isObject$1(e)||isArray$1(e);function deepCopy(e,t){if(isNotObjectOrIsArray(e)||isNotObjectOrIsArray(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:s,des:r}=n.pop();Object.keys(s).forEach(a=>{a!=="__proto__"&&(isObject$1(s[a])&&!isObject$1(r[a])&&(r[a]=Array.isArray(s[a])?[]:create()),isNotObjectOrIsArray(r[a])||isNotObjectOrIsArray(s[a])?r[a]=s[a]:n.push({src:s[a],des:r[a]}))})}}/*!
  * message-compiler v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(e,t,n){return{line:e,column:t,offset:n}}function createLocation(e,t,n){return{start:e,end:t}}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},COMPILE_ERROR_CODES_EXTEND_POINT=17;function createCompileError(e,t,n={}){const{domain:s,messages:r,args:a}=n,o=e,i=new SyntaxError(String(o));return i.code=e,t&&(i.location=t),i.domain=s,i}function defaultOnError(e){throw e}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS="\u2028",CHAR_PS="\u2029";function createScanner(e){const t=e;let n=0,s=1,r=1,a=0;const o=k=>t[k]===CHAR_CR&&t[k+1]===CHAR_LF,i=k=>t[k]===CHAR_LF,l=k=>t[k]===CHAR_PS,u=k=>t[k]===CHAR_LS,c=k=>o(k)||i(k)||l(k)||u(k),d=()=>n,f=()=>s,y=()=>r,v=()=>a,w=k=>o(k)||l(k)||u(k)?CHAR_LF:t[k],S=()=>w(n),g=()=>w(n+a);function N(){return a=0,c(n)&&(s++,r=0),o(n)&&n++,n++,r++,t[n]}function x(){return o(n+a)&&a++,a++,t[n+a]}function m(){n=0,s=1,r=1,a=0}function $(k=0){a=k}function E(){const k=n+a;for(;k!==n;)N();a=0}return{index:d,line:f,column:y,peekOffset:v,charAt:w,currentChar:S,currentPeek:g,next:N,peek:x,reset:m,resetPeek:$,skipToPeek:E}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(e,t={}){const n=t.location!==!1,s=createScanner(e),r=()=>s.index(),a=()=>createPosition(s.line(),s.column(),s.index()),o=a(),i=r(),l={currentType:13,offset:i,startLoc:o,endLoc:o,lastType:13,lastOffset:i,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function d(_,b,B,...L){const re=u();if(b.column+=B,b.offset+=B,c){const q=n?createLocation(re.startLoc,b):null,I=createCompileError(_,q,{domain:ERROR_DOMAIN$3,args:L});c(I)}}function f(_,b,B){_.endLoc=a(),_.currentType=b;const L={type:b};return n&&(L.loc=createLocation(_.startLoc,_.endLoc)),B!=null&&(L.value=B),L}const y=_=>f(_,13);function v(_,b){return _.currentChar()===b?(_.next(),b):(d(CompileErrorCodes.EXPECTED_TOKEN,a(),0,b),"")}function w(_){let b="";for(;_.currentPeek()===CHAR_SP||_.currentPeek()===CHAR_LF;)b+=_.currentPeek(),_.peek();return b}function S(_){const b=w(_);return _.skipToPeek(),b}function g(_){if(_===EOF)return!1;const b=_.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b===95}function N(_){if(_===EOF)return!1;const b=_.charCodeAt(0);return b>=48&&b<=57}function x(_,b){const{currentType:B}=b;if(B!==2)return!1;w(_);const L=g(_.currentPeek());return _.resetPeek(),L}function m(_,b){const{currentType:B}=b;if(B!==2)return!1;w(_);const L=_.currentPeek()==="-"?_.peek():_.currentPeek(),re=N(L);return _.resetPeek(),re}function $(_,b){const{currentType:B}=b;if(B!==2)return!1;w(_);const L=_.currentPeek()===LITERAL_DELIMITER;return _.resetPeek(),L}function E(_,b){const{currentType:B}=b;if(B!==7)return!1;w(_);const L=_.currentPeek()===".";return _.resetPeek(),L}function k(_,b){const{currentType:B}=b;if(B!==8)return!1;w(_);const L=g(_.currentPeek());return _.resetPeek(),L}function R(_,b){const{currentType:B}=b;if(!(B===7||B===11))return!1;w(_);const L=_.currentPeek()===":";return _.resetPeek(),L}function A(_,b){const{currentType:B}=b;if(B!==9)return!1;const L=()=>{const q=_.currentPeek();return q==="{"?g(_.peek()):q==="@"||q==="|"||q===":"||q==="."||q===CHAR_SP||!q?!1:q===CHAR_LF?(_.peek(),L()):se(_,!1)},re=L();return _.resetPeek(),re}function ne(_){w(_);const b=_.currentPeek()==="|";return _.resetPeek(),b}function se(_,b=!0){const B=(re=!1,q="")=>{const I=_.currentPeek();return I==="{"||I==="@"||!I?re:I==="|"?!(q===CHAR_SP||q===CHAR_LF):I===CHAR_SP?(_.peek(),B(!0,CHAR_SP)):I===CHAR_LF?(_.peek(),B(!0,CHAR_LF)):!0},L=B();return b&&_.resetPeek(),L}function X(_,b){const B=_.currentChar();return B===EOF?EOF:b(B)?(_.next(),B):null}function ue(_){const b=_.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===95||b===36}function ie(_){return X(_,ue)}function ye(_){const b=_.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===95||b===36||b===45}function me(_){return X(_,ye)}function ce(_){const b=_.charCodeAt(0);return b>=48&&b<=57}function z(_){return X(_,ce)}function G(_){const b=_.charCodeAt(0);return b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102}function ge(_){return X(_,G)}function j(_){let b="",B="";for(;b=z(_);)B+=b;return B}function V(_){let b="";for(;;){const B=_.currentChar();if(B==="{"||B==="}"||B==="@"||B==="|"||!B)break;if(B===CHAR_SP||B===CHAR_LF)if(se(_))b+=B,_.next();else{if(ne(_))break;b+=B,_.next()}else b+=B,_.next()}return b}function F(_){S(_);let b="",B="";for(;b=me(_);)B+=b;return _.currentChar()===EOF&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,a(),0),B}function te(_){S(_);let b="";return _.currentChar()==="-"?(_.next(),b+=`-${j(_)}`):b+=j(_),_.currentChar()===EOF&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,a(),0),b}function ae(_){return _!==LITERAL_DELIMITER&&_!==CHAR_LF}function de(_){S(_),v(_,"'");let b="",B="";for(;b=X(_,ae);)b==="\\"?B+=Z(_):B+=b;const L=_.currentChar();return L===CHAR_LF||L===EOF?(d(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),L===CHAR_LF&&(_.next(),v(_,"'")),B):(v(_,"'"),B)}function Z(_){const b=_.currentChar();switch(b){case"\\":case"'":return _.next(),`\\${b}`;case"u":return ee(_,b,4);case"U":return ee(_,b,6);default:return d(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,a(),0,b),""}}function ee(_,b,B){v(_,b);let L="";for(let re=0;re<B;re++){const q=ge(_);if(!q){d(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${b}${L}${_.currentChar()}`);break}L+=q}return`\\${b}${L}`}function he(_){return _!=="{"&&_!=="}"&&_!==CHAR_SP&&_!==CHAR_LF}function Ee(_){S(_);let b="",B="";for(;b=X(_,he);)B+=b;return B}function Le(_){let b="",B="";for(;b=ie(_);)B+=b;return B}function C(_){const b=B=>{const L=_.currentChar();return L==="{"||L==="@"||L==="|"||L==="("||L===")"||!L||L===CHAR_SP?B:(B+=L,_.next(),b(B))};return b("")}function T(_){S(_);const b=v(_,"|");return S(_),b}function M(_,b){let B=null;switch(_.currentChar()){case"{":return b.braceNest>=1&&d(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),_.next(),B=f(b,2,"{"),S(_),b.braceNest++,B;case"}":return b.braceNest>0&&b.currentType===2&&d(CompileErrorCodes.EMPTY_PLACEHOLDER,a(),0),_.next(),B=f(b,3,"}"),b.braceNest--,b.braceNest>0&&S(_),b.inLinked&&b.braceNest===0&&(b.inLinked=!1),B;case"@":return b.braceNest>0&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,a(),0),B=Q(_,b)||y(b),b.braceNest=0,B;default:{let re=!0,q=!0,I=!0;if(ne(_))return b.braceNest>0&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,a(),0),B=f(b,1,T(_)),b.braceNest=0,b.inLinked=!1,B;if(b.braceNest>0&&(b.currentType===4||b.currentType===5||b.currentType===6))return d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,a(),0),b.braceNest=0,U(_,b);if(re=x(_,b))return B=f(b,4,F(_)),S(_),B;if(q=m(_,b))return B=f(b,5,te(_)),S(_),B;if(I=$(_,b))return B=f(b,6,de(_)),S(_),B;if(!re&&!q&&!I)return B=f(b,12,Ee(_)),d(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,B.value),S(_),B;break}}return B}function Q(_,b){const{currentType:B}=b;let L=null;const re=_.currentChar();switch((B===7||B===8||B===11||B===9)&&(re===CHAR_LF||re===CHAR_SP)&&d(CompileErrorCodes.INVALID_LINKED_FORMAT,a(),0),re){case"@":return _.next(),L=f(b,7,"@"),b.inLinked=!0,L;case".":return S(_),_.next(),f(b,8,".");case":":return S(_),_.next(),f(b,9,":");default:return ne(_)?(L=f(b,1,T(_)),b.braceNest=0,b.inLinked=!1,L):E(_,b)||R(_,b)?(S(_),Q(_,b)):k(_,b)?(S(_),f(b,11,Le(_))):A(_,b)?(S(_),re==="{"?M(_,b)||L:f(b,10,C(_))):(B===7&&d(CompileErrorCodes.INVALID_LINKED_FORMAT,a(),0),b.braceNest=0,b.inLinked=!1,U(_,b))}}function U(_,b){let B={type:13};if(b.braceNest>0)return M(_,b)||y(b);if(b.inLinked)return Q(_,b)||y(b);switch(_.currentChar()){case"{":return M(_,b)||y(b);case"}":return d(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,a(),0),_.next(),f(b,3,"}");case"@":return Q(_,b)||y(b);default:{if(ne(_))return B=f(b,1,T(_)),b.braceNest=0,b.inLinked=!1,B;if(se(_))return f(b,0,V(_));break}}return B}function Y(){const{currentType:_,offset:b,startLoc:B,endLoc:L}=l;return l.lastType=_,l.lastOffset=b,l.lastStartLoc=B,l.lastEndLoc=L,l.offset=r(),l.startLoc=a(),s.currentChar()===EOF?f(l,13):U(s,l)}return{nextToken:Y,currentOffset:r,currentPosition:a,context:u}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(t||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function createParser(e={}){const t=e.location!==!1,{onError:n}=e;function s(g,N,x,m,...$){const E=g.currentPosition();if(E.offset+=m,E.column+=m,n){const k=t?createLocation(x,E):null,R=createCompileError(N,k,{domain:ERROR_DOMAIN$2,args:$});n(R)}}function r(g,N,x){const m={type:g};return t&&(m.start=N,m.end=N,m.loc={start:x,end:x}),m}function a(g,N,x,m){t&&(g.end=N,g.loc&&(g.loc.end=x))}function o(g,N){const x=g.context(),m=r(3,x.offset,x.startLoc);return m.value=N,a(m,g.currentOffset(),g.currentPosition()),m}function i(g,N){const x=g.context(),{lastOffset:m,lastStartLoc:$}=x,E=r(5,m,$);return E.index=parseInt(N,10),g.nextToken(),a(E,g.currentOffset(),g.currentPosition()),E}function l(g,N){const x=g.context(),{lastOffset:m,lastStartLoc:$}=x,E=r(4,m,$);return E.key=N,g.nextToken(),a(E,g.currentOffset(),g.currentPosition()),E}function u(g,N){const x=g.context(),{lastOffset:m,lastStartLoc:$}=x,E=r(9,m,$);return E.value=N.replace(KNOWN_ESCAPES,fromEscapeSequence),g.nextToken(),a(E,g.currentOffset(),g.currentPosition()),E}function c(g){const N=g.nextToken(),x=g.context(),{lastOffset:m,lastStartLoc:$}=x,E=r(8,m,$);return N.type!==11?(s(g,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,x.lastStartLoc,0),E.value="",a(E,m,$),{nextConsumeToken:N,node:E}):(N.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,getTokenCaption(N)),E.value=N.value||"",a(E,g.currentOffset(),g.currentPosition()),{node:E})}function d(g,N){const x=g.context(),m=r(7,x.offset,x.startLoc);return m.value=N,a(m,g.currentOffset(),g.currentPosition()),m}function f(g){const N=g.context(),x=r(6,N.offset,N.startLoc);let m=g.nextToken();if(m.type===8){const $=c(g);x.modifier=$.node,m=$.nextConsumeToken||g.nextToken()}switch(m.type!==9&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(m)),m=g.nextToken(),m.type===2&&(m=g.nextToken()),m.type){case 10:m.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(m)),x.key=d(g,m.value||"");break;case 4:m.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(m)),x.key=l(g,m.value||"");break;case 5:m.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(m)),x.key=i(g,m.value||"");break;case 6:m.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(m)),x.key=u(g,m.value||"");break;default:{s(g,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,N.lastStartLoc,0);const $=g.context(),E=r(7,$.offset,$.startLoc);return E.value="",a(E,$.offset,$.startLoc),x.key=E,a(x,$.offset,$.startLoc),{nextConsumeToken:m,node:x}}}return a(x,g.currentOffset(),g.currentPosition()),{node:x}}function y(g){const N=g.context(),x=N.currentType===1?g.currentOffset():N.offset,m=N.currentType===1?N.endLoc:N.startLoc,$=r(2,x,m);$.items=[];let E=null;do{const A=E||g.nextToken();switch(E=null,A.type){case 0:A.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(A)),$.items.push(o(g,A.value||""));break;case 5:A.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(A)),$.items.push(i(g,A.value||""));break;case 4:A.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(A)),$.items.push(l(g,A.value||""));break;case 6:A.value==null&&s(g,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(A)),$.items.push(u(g,A.value||""));break;case 7:{const ne=f(g);$.items.push(ne.node),E=ne.nextConsumeToken||null;break}}}while(N.currentType!==13&&N.currentType!==1);const k=N.currentType===1?N.lastOffset:g.currentOffset(),R=N.currentType===1?N.lastEndLoc:g.currentPosition();return a($,k,R),$}function v(g,N,x,m){const $=g.context();let E=m.items.length===0;const k=r(1,N,x);k.cases=[],k.cases.push(m);do{const R=y(g);E||(E=R.items.length===0),k.cases.push(R)}while($.currentType!==13);return E&&s(g,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,x,0),a(k,g.currentOffset(),g.currentPosition()),k}function w(g){const N=g.context(),{offset:x,startLoc:m}=N,$=y(g);return N.currentType===13?$:v(g,x,m,$)}function S(g){const N=createTokenizer(g,assign$1({},e)),x=N.context(),m=r(0,x.offset,x.startLoc);return t&&m.loc&&(m.loc.source=g),m.body=w(N),e.onCacheKey&&(m.cacheKey=e.onCacheKey(g)),x.currentType!==13&&s(N,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,g[x.offset]||""),a(m,N.currentOffset(),N.currentPosition()),m}return{parse:S}}function getTokenCaption(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function createTransformer(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:a=>(n.helpers.add(a),a)}}function traverseNodes(e,t){for(let n=0;n<e.length;n++)traverseNode(e[n],t)}function traverseNode(e,t){switch(e.type){case 1:traverseNodes(e.cases,t),t.helper("plural");break;case 2:traverseNodes(e.items,t);break;case 6:{traverseNode(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function transform(e,t={}){const n=createTransformer(e);n.helper("normalize"),e.body&&traverseNode(e.body,n);const s=n.context();e.helpers=Array.from(s.helpers)}function optimize(e){const t=e.body;return t.type===2?optimizeMessageNode(t):t.cases.forEach(n=>optimizeMessageNode(n)),e}function optimizeMessageNode(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const s=e.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;t.push(s.value)}if(t.length===e.items.length){e.static=join(t);for(let n=0;n<e.items.length;n++){const s=e.items[n];(s.type===3||s.type===9)&&delete s.value}}}}function minify(e){switch(e.t=e.type,e.type){case 0:{const t=e;minify(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let s=0;s<n.length;s++)minify(n[s]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let s=0;s<n.length;s++)minify(n[s]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;minify(t.key),t.k=t.key,delete t.key,t.modifier&&(minify(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function createCodeGenerator(e,t){const{filename:n,breakLineCode:s,needIndent:r}=t,a=t.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0};a&&e.loc&&(o.source=e.loc.source);const i=()=>o;function l(w,S){o.code+=w}function u(w,S=!0){const g=S?s:"";l(r?g+"  ".repeat(w):g)}function c(w=!0){const S=++o.indentLevel;w&&u(S)}function d(w=!0){const S=--o.indentLevel;w&&u(S)}function f(){u(o.indentLevel)}return{context:i,push:l,indent:c,deindent:d,newline:f,helper:w=>`_${w}`,needIndent:()=>o.needIndent}}function generateLinkedNode(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),generateNode(e,t.key),t.modifier?(e.push(", "),generateNode(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function generateMessageNode(e,t){const{helper:n,needIndent:s}=e;e.push(`${n("normalize")}([`),e.indent(s());const r=t.items.length;for(let a=0;a<r&&(generateNode(e,t.items[a]),a!==r-1);a++)e.push(", ");e.deindent(s()),e.push("])")}function generatePluralNode(e,t){const{helper:n,needIndent:s}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(s());const r=t.cases.length;for(let a=0;a<r&&(generateNode(e,t.cases[a]),a!==r-1);a++)e.push(", ");e.deindent(s()),e.push("])")}}function generateResource(e,t){t.body?generateNode(e,t.body):e.push("null")}function generateNode(e,t){const{helper:n}=e;switch(t.type){case 0:generateResource(e,t);break;case 1:generatePluralNode(e,t);break;case 2:generateMessageNode(e,t);break;case 6:generateLinkedNode(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const generate=(e,t={})=>{const n=isString$1(t.mode)?t.mode:"normal",s=isString$1(t.filename)?t.filename:"message.intl";t.sourceMap;const r=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,a=t.needIndent?t.needIndent:n!=="arrow",o=e.helpers||[],i=createCodeGenerator(e,{filename:s,breakLineCode:r,needIndent:a});i.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),i.indent(a),o.length>0&&(i.push(`const { ${join(o.map(c=>`${c}: _${c}`),", ")} } = ctx`),i.newline()),i.push("return "),generateNode(i,e),i.deindent(a),i.push("}"),delete e.helpers;const{code:l,map:u}=i.context();return{ast:e,code:l,map:u?u.toJSON():void 0}};function baseCompile$1(e,t={}){const n=assign$1({},t),s=!!n.jit,r=!!n.minify,a=n.optimize==null?!0:n.optimize,i=createParser(n).parse(e);return s?(a&&optimize(i),r&&minify(i),{ast:i,code:""}):(transform(i,n),generate(i,n))}/*!
  * core-base v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function format(e){return n=>formatParts(n,e)}function formatParts(e,t){const n=resolveBody(t);if(n==null)throw createUnhandleNodeError(0);if(resolveType(n)===1){const a=resolveCases(n);return e.plural(a.reduce((o,i)=>[...o,formatMessageParts(e,i)],[]))}else return formatMessageParts(e,n)}const PROPS_BODY=["b","body"];function resolveBody(e){return resolveProps(e,PROPS_BODY)}const PROPS_CASES=["c","cases"];function resolveCases(e){return resolveProps(e,PROPS_CASES,[])}function formatMessageParts(e,t){const n=resolveStatic(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const s=resolveItems(t).reduce((r,a)=>[...r,formatMessagePart(e,a)],[]);return e.normalize(s)}}const PROPS_STATIC=["s","static"];function resolveStatic(e){return resolveProps(e,PROPS_STATIC)}const PROPS_ITEMS=["i","items"];function resolveItems(e){return resolveProps(e,PROPS_ITEMS,[])}function formatMessagePart(e,t){const n=resolveType(t);switch(n){case 3:return resolveValue$1(t,n);case 9:return resolveValue$1(t,n);case 4:{const s=t;if(hasOwn(s,"k")&&s.k)return e.interpolate(e.named(s.k));if(hasOwn(s,"key")&&s.key)return e.interpolate(e.named(s.key));throw createUnhandleNodeError(n)}case 5:{const s=t;if(hasOwn(s,"i")&&isNumber$1(s.i))return e.interpolate(e.list(s.i));if(hasOwn(s,"index")&&isNumber$1(s.index))return e.interpolate(e.list(s.index));throw createUnhandleNodeError(n)}case 6:{const s=t,r=resolveLinkedModifier(s),a=resolveLinkedKey(s);return e.linked(formatMessagePart(e,a),r?formatMessagePart(e,r):void 0,e.type)}case 7:return resolveValue$1(t,n);case 8:return resolveValue$1(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const PROPS_TYPE=["t","type"];function resolveType(e){return resolveProps(e,PROPS_TYPE)}const PROPS_VALUE=["v","value"];function resolveValue$1(e,t){const n=resolveProps(e,PROPS_VALUE);if(n)return n;throw createUnhandleNodeError(t)}const PROPS_MODIFIER=["m","modifier"];function resolveLinkedModifier(e){return resolveProps(e,PROPS_MODIFIER)}const PROPS_KEY=["k","key"];function resolveLinkedKey(e){const t=resolveProps(e,PROPS_KEY);if(t)return t;throw createUnhandleNodeError(6)}function resolveProps(e,t,n){for(let s=0;s<t.length;s++){const r=t[s];if(hasOwn(e,r)&&e[r]!=null)return e[r]}return n}function createUnhandleNodeError(e){return new Error(`unhandled node type: ${e}`)}const defaultOnCacheKey=e=>e;let compileCache=create();function isMessageAST(e){return isObject$1(e)&&resolveType(e)===0&&(hasOwn(e,"b")||hasOwn(e,"body"))}function baseCompile(e,t={}){let n=!1;const s=t.onError||defaultOnError;return t.onError=r=>{n=!0,s(r)},{...baseCompile$1(e,t),detectError:n}}function compile(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$1(e)){isBoolean$1(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||defaultOnCacheKey)(e),r=compileCache[s];if(r)return r;const{ast:a,detectError:o}=baseCompile(e,{...t,location:!1,jit:!0}),i=format(a);return o?i:compileCache[s]=i}else{const n=e.cacheKey;if(n){const s=compileCache[n];return s||(compileCache[n]=format(e))}else return format(e)}}let devtools=null;function setDevToolsHook(e){devtools=e}function initI18nDevTools(e,t,n){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(e){return t=>devtools&&devtools.emit(e,t)}const CoreErrorCodes={INVALID_ARGUMENT:COMPILE_ERROR_CODES_EXTEND_POINT,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},CORE_ERROR_CODES_EXTEND_POINT=24;function createCoreError(e){return createCompileError(e,null,void 0)}function getLocale(e,t){return t.locale!=null?resolveLocale(t.locale):resolveLocale(e.locale)}let _resolveLocale;function resolveLocale(e){if(isString$1(e))return e;if(isFunction$1(e)){if(e.resolvedOnce&&_resolveLocale!=null)return _resolveLocale;if(e.constructor.name==="Function"){const t=e();if(isPromise(t))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return _resolveLocale=t}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE)}function fallbackWithSimple(e,t,n){return[...new Set([n,...isArray$1(t)?t:isObject$1(t)?Object.keys(t):isString$1(t)?[t]:[n]])]}function fallbackWithLocaleChain(e,t,n){const s=isString$1(n)?n:DEFAULT_LOCALE,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let a=r.__localeChainCache.get(s);if(!a){a=[];let o=[n];for(;isArray$1(o);)o=appendBlockToChain(a,o,t);const i=isArray$1(t)||!isPlainObject$2(t)?t:t.default?t.default:null;o=isString$1(i)?[i]:i,isArray$1(o)&&appendBlockToChain(a,o,!1),r.__localeChainCache.set(s,a)}return a}function appendBlockToChain(e,t,n){let s=!0;for(let r=0;r<t.length&&isBoolean$1(s);r++){const a=t[r];isString$1(a)&&(s=appendLocaleToChain(e,t[r],n))}return s}function appendLocaleToChain(e,t,n){let s;const r=t.split("-");do{const a=r.join("-");s=appendItemToChain(e,a,n),r.splice(-1,1)}while(r.length&&s===!0);return s}function appendItemToChain(e,t,n){let s=!1;if(!e.includes(t)&&(s=!0,t)){s=t[t.length-1]!=="!";const r=t.replace(/!/g,"");e.push(r),(isArray$1(n)||isPlainObject$2(n))&&n[r]&&(s=n[r])}return s}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]},pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]},pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]},pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]},pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(e){return literalValueRE.test(e)}function stripQuotes(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function getPathCharType(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:isLiteral(t)?stripQuotes(t):"*"+t}function parse(e){const t=[];let n=-1,s=0,r=0,a,o,i,l,u,c,d;const f=[];f[0]=()=>{o===void 0?o=i:o+=i},f[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,s=4,f[0]();else{if(r=0,o===void 0||(o=formatSubPath(o),o===!1))return!1;f[1]()}};function y(){const v=e[n+1];if(s===5&&v==="'"||s===6&&v==='"')return n++,i="\\"+v,f[0](),!0}for(;s!==null;)if(n++,a=e[n],!(a==="\\"&&y())){if(l=getPathCharType(a),d=pathStateMachine[s],u=d[l]||d.l||8,u===8||(s=u[0],u[1]!==void 0&&(c=f[u[1]],c&&(i=a,c()===!1))))return;if(s===7)return t}}const cache=new Map;function resolveWithKeyValue(e,t){return isObject$1(e)?e[t]:null}function resolveValue(e,t){if(!isObject$1(e))return null;let n=cache.get(t);if(n||(n=parse(t),n&&cache.set(t,n)),!n)return null;const s=n.length;let r=e,a=0;for(;a<s;){const o=r[n[a]];if(o===void 0||isFunction$1(r))return null;r=o,a++}return r}const VERSION$3="11.1.2",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(e,t)=>t==="text"&&isString$1(e)?e.toUpperCase():t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&isString$1(e)?e.toLowerCase():t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&isString$1(e)?capitalize(e):t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?capitalize(e.children):e}}let _compiler;function registerMessageCompiler(e){_compiler=e}let _resolver;function registerMessageResolver(e){_resolver=e}let _fallbacker;function registerLocaleFallbacker(e){_fallbacker=e}let _additionalMeta=null;const setAdditionalMeta=e=>{_additionalMeta=e},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=e=>{_fallbackContext=e},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(e={}){const t=isFunction$1(e.onWarn)?e.onWarn:warn,n=isString$1(e.version)?e.version:VERSION$3,s=isString$1(e.locale)||isFunction$1(e.locale)?e.locale:DEFAULT_LOCALE,r=isFunction$1(s)?DEFAULT_LOCALE:s,a=isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||isString$1(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,o=isPlainObject$2(e.messages)?e.messages:createResources(r),i=isPlainObject$2(e.datetimeFormats)?e.datetimeFormats:createResources(r),l=isPlainObject$2(e.numberFormats)?e.numberFormats:createResources(r),u=assign$1(create(),e.modifiers,getDefaultLinkedModifiers()),c=e.pluralRules||create(),d=isFunction$1(e.missing)?e.missing:null,f=isBoolean$1(e.missingWarn)||isRegExp$1(e.missingWarn)?e.missingWarn:!0,y=isBoolean$1(e.fallbackWarn)||isRegExp$1(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,w=!!e.unresolving,S=isFunction$1(e.postTranslation)?e.postTranslation:null,g=isPlainObject$2(e.processor)?e.processor:null,N=isBoolean$1(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter,m=isFunction$1(e.messageCompiler)?e.messageCompiler:_compiler,$=isFunction$1(e.messageResolver)?e.messageResolver:_resolver||resolveWithKeyValue,E=isFunction$1(e.localeFallbacker)?e.localeFallbacker:_fallbacker||fallbackWithSimple,k=isObject$1(e.fallbackContext)?e.fallbackContext:void 0,R=e,A=isObject$1(R.__datetimeFormatters)?R.__datetimeFormatters:new Map,ne=isObject$1(R.__numberFormatters)?R.__numberFormatters:new Map,se=isObject$1(R.__meta)?R.__meta:{};_cid++;const X={version:n,cid:_cid,locale:s,fallbackLocale:a,messages:o,modifiers:u,pluralRules:c,missing:d,missingWarn:f,fallbackWarn:y,fallbackFormat:v,unresolving:w,postTranslation:S,processor:g,warnHtmlMessage:N,escapeParameter:x,messageCompiler:m,messageResolver:$,localeFallbacker:E,fallbackContext:k,onWarn:t,__meta:se};return X.datetimeFormats=i,X.numberFormats=l,X.__datetimeFormatters=A,X.__numberFormatters=ne,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(X,n,se),X}const createResources=e=>({[e]:create()});function handleMissing(e,t,n,s,r){const{missing:a,onWarn:o}=e;if(a!==null){const i=a(e,n,t,r);return isString$1(i)?i:t}else return t}function updateFallbackLocale(e,t,n){const s=e;s.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function isAlmostSameLocale(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function isImplicitFallback(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let s=n+1;s<t.length;s++)if(isAlmostSameLocale(e,t[s]))return!0;return!1}function datetime(e,...t){const{datetimeFormats:n,unresolving:s,fallbackLocale:r,onWarn:a,localeFallbacker:o}=e,{__datetimeFormatters:i}=e,[l,u,c,d]=parseDateTimeArgs(...t),f=isBoolean$1(c.missingWarn)?c.missingWarn:e.missingWarn;isBoolean$1(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const y=!!c.part,v=getLocale(e,c),w=o(e,r,v);if(!isString$1(l)||l==="")return new Intl.DateTimeFormat(v,d).format(u);let S={},g,N=null;const x="datetime format";for(let E=0;E<w.length&&(g=w[E],S=n[g]||{},N=S[l],!isPlainObject$2(N));E++)handleMissing(e,l,g,f,x);if(!isPlainObject$2(N)||!isString$1(g))return s?NOT_REOSLVED:l;let m=`${g}__${l}`;isEmptyObject(d)||(m=`${m}__${JSON.stringify(d)}`);let $=i.get(m);return $||($=new Intl.DateTimeFormat(g,assign$1({},N,d)),i.set(m,$)),y?$.formatToParts(u):$.format(u)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...e){const[t,n,s,r]=e,a=create();let o=create(),i;if(isString$1(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();i=new Date(u);try{i.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate$1(t)){if(isNaN(t.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);i=t}else if(isNumber$1(t))i=t;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(n)?a.key=n:isPlainObject$2(n)&&Object.keys(n).forEach(l=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(l)?o[l]=n[l]:a[l]=n[l]}),isString$1(s)?a.locale=s:isPlainObject$2(s)&&(o=s),isPlainObject$2(r)&&(o=r),[a.key||"",i,a,o]}function clearDateTimeFormat(e,t,n){const s=e;for(const r in n){const a=`${t}__${r}`;s.__datetimeFormatters.has(a)&&s.__datetimeFormatters.delete(a)}}function number(e,...t){const{numberFormats:n,unresolving:s,fallbackLocale:r,onWarn:a,localeFallbacker:o}=e,{__numberFormatters:i}=e,[l,u,c,d]=parseNumberArgs(...t),f=isBoolean$1(c.missingWarn)?c.missingWarn:e.missingWarn;isBoolean$1(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const y=!!c.part,v=getLocale(e,c),w=o(e,r,v);if(!isString$1(l)||l==="")return new Intl.NumberFormat(v,d).format(u);let S={},g,N=null;const x="number format";for(let E=0;E<w.length&&(g=w[E],S=n[g]||{},N=S[l],!isPlainObject$2(N));E++)handleMissing(e,l,g,f,x);if(!isPlainObject$2(N)||!isString$1(g))return s?NOT_REOSLVED:l;let m=`${g}__${l}`;isEmptyObject(d)||(m=`${m}__${JSON.stringify(d)}`);let $=i.get(m);return $||($=new Intl.NumberFormat(g,assign$1({},N,d)),i.set(m,$)),y?$.formatToParts(u):$.format(u)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...e){const[t,n,s,r]=e,a=create();let o=create();if(!isNumber$1(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const i=t;return isString$1(n)?a.key=n:isPlainObject$2(n)&&Object.keys(n).forEach(l=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(l)?o[l]=n[l]:a[l]=n[l]}),isString$1(s)?a.locale=s:isPlainObject$2(s)&&(o=s),isPlainObject$2(r)&&(o=r),[a.key||"",i,a,o]}function clearNumberFormat(e,t,n){const s=e;for(const r in n){const a=`${t}__${r}`;s.__numberFormatters.has(a)&&s.__numberFormatters.delete(a)}}const DEFAULT_MODIFIER=e=>e,DEFAULT_MESSAGE=e=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=e=>e.length===0?"":join(e),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function getPluralIndex(e){const t=isNumber$1(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(isNumber$1(e.named.count)||isNumber$1(e.named.n))?isNumber$1(e.named.count)?e.named.count:isNumber$1(e.named.n)?e.named.n:t:t}function normalizeNamed(e,t){t.count||(t.count=e),t.n||(t.n=e)}function createMessageContext(e={}){const t=e.locale,n=getPluralIndex(e),s=isObject$1(e.pluralRules)&&isString$1(t)&&isFunction$1(e.pluralRules[t])?e.pluralRules[t]:pluralDefault,r=isObject$1(e.pluralRules)&&isString$1(t)&&isFunction$1(e.pluralRules[t])?pluralDefault:void 0,a=g=>g[s(n,g.length,r)],o=e.list||[],i=g=>o[g],l=e.named||create();isNumber$1(e.pluralIndex)&&normalizeNamed(n,l);const u=g=>l[g];function c(g,N){const x=isFunction$1(e.messages)?e.messages(g,!!N):isObject$1(e.messages)?e.messages[g]:!1;return x||(e.parent?e.parent.message(g):DEFAULT_MESSAGE)}const d=g=>e.modifiers?e.modifiers[g]:DEFAULT_MODIFIER,f=isPlainObject$2(e.processor)&&isFunction$1(e.processor.normalize)?e.processor.normalize:DEFAULT_NORMALIZE,y=isPlainObject$2(e.processor)&&isFunction$1(e.processor.interpolate)?e.processor.interpolate:DEFAULT_INTERPOLATE,v=isPlainObject$2(e.processor)&&isString$1(e.processor.type)?e.processor.type:DEFAULT_MESSAGE_DATA_TYPE,S={list:i,named:u,plural:a,linked:(g,...N)=>{const[x,m]=N;let $="text",E="";N.length===1?isObject$1(x)?(E=x.modifier||E,$=x.type||$):isString$1(x)&&(E=x||E):N.length===2&&(isString$1(x)&&(E=x||E),isString$1(m)&&($=m||$));const k=c(g,!0)(S),R=$==="vnode"&&isArray$1(k)&&E?k[0]:k;return E?d(E)(R,$):R},message:c,type:v,interpolate:y,normalize:f,values:assign$1(create(),o,l)};return S}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=e=>isFunction$1(e);function translate$1(e,...t){const{fallbackFormat:n,postTranslation:s,unresolving:r,messageCompiler:a,fallbackLocale:o,messages:i}=e,[l,u]=parseTranslateArgs(...t),c=isBoolean$1(u.missingWarn)?u.missingWarn:e.missingWarn,d=isBoolean$1(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,f=isBoolean$1(u.escapeParameter)?u.escapeParameter:e.escapeParameter,y=!!u.resolvedMessage,v=isString$1(u.default)||isBoolean$1(u.default)?isBoolean$1(u.default)?a?l:()=>l:u.default:n?a?l:()=>l:null,w=n||v!=null&&(isString$1(v)||isFunction$1(v)),S=getLocale(e,u);f&&escapeParams(u);let[g,N,x]=y?[l,S,i[S]||create()]:resolveMessageFormat(e,l,S,o,d,c),m=g,$=l;if(!y&&!(isString$1(m)||isMessageAST(m)||isMessageFunction(m))&&w&&(m=v,$=m),!y&&(!(isString$1(m)||isMessageAST(m)||isMessageFunction(m))||!isString$1(N)))return r?NOT_REOSLVED:l;let E=!1;const k=()=>{E=!0},R=isMessageFunction(m)?m:compileMessageFormat(e,l,N,m,$,k);if(E)return m;const A=getMessageContextOptions(e,N,x,u),ne=createMessageContext(A),se=evaluateMessage(e,R,ne),X=s?s(se,l):se;if(__INTLIFY_PROD_DEVTOOLS__){const ue={timestamp:Date.now(),key:isString$1(l)?l:isMessageFunction(m)?m.key:"",locale:N||(isMessageFunction(m)?m.locale:""),format:isString$1(m)?m:isMessageFunction(m)?m.source:"",message:X};ue.meta=assign$1({},e.__meta,getAdditionalMeta()||{}),translateDevTools(ue)}return X}function escapeParams(e){isArray$1(e.list)?e.list=e.list.map(t=>isString$1(t)?escapeHtml(t):t):isObject$1(e.named)&&Object.keys(e.named).forEach(t=>{isString$1(e.named[t])&&(e.named[t]=escapeHtml(e.named[t]))})}function resolveMessageFormat(e,t,n,s,r,a){const{messages:o,onWarn:i,messageResolver:l,localeFallbacker:u}=e,c=u(e,s,n);let d=create(),f,y=null;const v="translate";for(let w=0;w<c.length&&(f=c[w],d=o[f]||create(),(y=l(d,t))===null&&(y=d[t]),!(isString$1(y)||isMessageAST(y)||isMessageFunction(y)));w++)if(!isImplicitFallback(f,c)){const S=handleMissing(e,t,f,a,v);S!==t&&(y=S)}return[y,f,d]}function compileMessageFormat(e,t,n,s,r,a){const{messageCompiler:o,warnHtmlMessage:i}=e;if(isMessageFunction(s)){const u=s;return u.locale=u.locale||n,u.key=u.key||t,u}if(o==null){const u=()=>s;return u.locale=n,u.key=t,u}const l=o(s,getCompileContext(e,n,r,s,i,a));return l.locale=n,l.key=t,l.source=s,l}function evaluateMessage(e,t,n){return t(n)}function parseTranslateArgs(...e){const[t,n,s]=e,r=create();if(!isString$1(t)&&!isNumber$1(t)&&!isMessageFunction(t)&&!isMessageAST(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const a=isNumber$1(t)?String(t):(isMessageFunction(t),t);return isNumber$1(n)?r.plural=n:isString$1(n)?r.default=n:isPlainObject$2(n)&&!isEmptyObject(n)?r.named=n:isArray$1(n)&&(r.list=n),isNumber$1(s)?r.plural=s:isString$1(s)?r.default=s:isPlainObject$2(s)&&assign$1(r,s),[a,r]}function getCompileContext(e,t,n,s,r,a){return{locale:t,key:n,warnHtmlMessage:r,onError:o=>{throw a&&a(o),o},onCacheKey:o=>generateFormatCacheKey(t,n,o)}}function getMessageContextOptions(e,t,n,s){const{modifiers:r,pluralRules:a,messageResolver:o,fallbackLocale:i,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,f={locale:t,modifiers:r,pluralRules:a,messages:(y,v)=>{let w=o(n,y);if(w==null&&(c||v)){const[,,S]=resolveMessageFormat(c||e,y,t,i,l,u);w=o(S,y)}if(isString$1(w)||isMessageAST(w)){let S=!1;const N=compileMessageFormat(e,y,t,w,y,()=>{S=!0});return S?NOOP_MESSAGE_FUNCTION:N}else return isMessageFunction(w)?w:NOOP_MESSAGE_FUNCTION}};return e.processor&&(f.processor=e.processor),s.list&&(f.list=s.list),s.named&&(f.named=s.named),isNumber$1(s.plural)&&(f.pluralIndex=s.plural),f}initFeatureFlags$1();/*!
  * vue-i18n v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION$2="11.1.2";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}const I18nErrorCodes={UNEXPECTED_RETURN_TYPE:CORE_ERROR_CODES_EXTEND_POINT,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function createI18nError(e,...t){return createCompileError(e,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(e){if(!isObject$1(e))return e;for(const t in e)if(hasOwn(e,t))if(!t.includes("."))isObject$1(e[t])&&handleFlatJson(e[t]);else{const n=t.split("."),s=n.length-1;let r=e,a=!1;for(let o=0;o<s;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in r||(r[n[o]]=create()),!isObject$1(r[n[o]])){a=!0;break}r=r[n[o]]}a||(r[n[s]]=e[t],delete e[t]),isObject$1(r[n[s]])&&handleFlatJson(r[n[s]])}return e}function getLocaleMessages(e,t){const{messages:n,__i18n:s,messageResolver:r,flatJson:a}=t,o=isPlainObject$2(n)?n:isArray$1(s)?create():{[e]:create()};if(isArray$1(s)&&s.forEach(i=>{if("locale"in i&&"resource"in i){const{locale:l,resource:u}=i;l?(o[l]=o[l]||create(),deepCopy(u,o[l])):deepCopy(u,o)}else isString$1(i)&&deepCopy(JSON.parse(i),o)}),r==null&&a)for(const i in o)hasOwn(o,i)&&handleFlatJson(o[i]);return o}function getComponentOptions(e){return e.type}function adjustI18nResources(e,t,n){let s=isObject$1(t.messages)?t.messages:create();"__i18nGlobal"in n&&(s=getLocaleMessages(e.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const r=Object.keys(s);r.length&&r.forEach(a=>{e.mergeLocaleMessage(a,s[a])});{if(isObject$1(t.datetimeFormats)){const a=Object.keys(t.datetimeFormats);a.length&&a.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(isObject$1(t.numberFormats)){const a=Object.keys(t.numberFormats);a.length&&a.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function createTextNode(e){return createVNode(Text,null,e,0)}const DEVTOOLS_META="__INTLIFY_META__",NOOP_RETURN_ARRAY=()=>[],NOOP_RETURN_FALSE=()=>!1;let composerID=0;function defineCoreMissingHandler(e){return(t,n,s,r)=>e(n,s,getCurrentInstance()||void 0,r)}const getMetaInfo=()=>{const e=getCurrentInstance();let t=null;return e&&(t=getComponentOptions(e)[DEVTOOLS_META])?{[DEVTOOLS_META]:t}:null};function createComposer(e={}){const{__root:t,__injectWithOption:n}=e,s=t===void 0,r=e.flatJson,a=inBrowser?ref:shallowRef;let o=isBoolean$1(e.inheritLocale)?e.inheritLocale:!0;const i=a(t&&o?t.locale.value:isString$1(e.locale)?e.locale:DEFAULT_LOCALE),l=a(t&&o?t.fallbackLocale.value:isString$1(e.fallbackLocale)||isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),u=a(getLocaleMessages(i.value,e)),c=a(isPlainObject$2(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),d=a(isPlainObject$2(e.numberFormats)?e.numberFormats:{[i.value]:{}});let f=t?t.missingWarn:isBoolean$1(e.missingWarn)||isRegExp$1(e.missingWarn)?e.missingWarn:!0,y=t?t.fallbackWarn:isBoolean$1(e.fallbackWarn)||isRegExp$1(e.fallbackWarn)?e.fallbackWarn:!0,v=t?t.fallbackRoot:isBoolean$1(e.fallbackRoot)?e.fallbackRoot:!0,w=!!e.fallbackFormat,S=isFunction$1(e.missing)?e.missing:null,g=isFunction$1(e.missing)?defineCoreMissingHandler(e.missing):null,N=isFunction$1(e.postTranslation)?e.postTranslation:null,x=t?t.warnHtmlMessage:isBoolean$1(e.warnHtmlMessage)?e.warnHtmlMessage:!0,m=!!e.escapeParameter;const $=t?t.modifiers:isPlainObject$2(e.modifiers)?e.modifiers:{};let E=e.pluralRules||t&&t.pluralRules,k;k=(()=>{s&&setFallbackContext(null);const I={version:VERSION$2,locale:i.value,fallbackLocale:l.value,messages:u.value,modifiers:$,pluralRules:E,missing:g===null?void 0:g,missingWarn:f,fallbackWarn:y,fallbackFormat:w,unresolving:!0,postTranslation:N===null?void 0:N,warnHtmlMessage:x,escapeParameter:m,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};I.datetimeFormats=c.value,I.numberFormats=d.value,I.__datetimeFormatters=isPlainObject$2(k)?k.__datetimeFormatters:void 0,I.__numberFormatters=isPlainObject$2(k)?k.__numberFormatters:void 0;const P=createCoreContext(I);return s&&setFallbackContext(P),P})(),updateFallbackLocale(k,i.value,l.value);function A(){return[i.value,l.value,u.value,c.value,d.value]}const ne=computed({get:()=>i.value,set:I=>{k.locale=I,i.value=I}}),se=computed({get:()=>l.value,set:I=>{k.fallbackLocale=I,l.value=I,updateFallbackLocale(k,i.value,I)}}),X=computed(()=>u.value),ue=computed(()=>c.value),ie=computed(()=>d.value);function ye(){return isFunction$1(N)?N:null}function me(I){N=I,k.postTranslation=I}function ce(){return S}function z(I){I!==null&&(g=defineCoreMissingHandler(I)),S=I,k.missing=g}const G=(I,P,le,_e,ve,Ne)=>{A();let $e;try{__INTLIFY_PROD_DEVTOOLS__,s||(k.fallbackContext=t?getFallbackContext():void 0),$e=I(k)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(k.fallbackContext=void 0)}if(le!=="translate exists"&&isNumber$1($e)&&$e===NOT_REOSLVED||le==="translate exists"&&!$e){const[Be,Ae]=P();return t&&v?_e(t):ve(Be)}else{if(Ne($e))return $e;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function ge(...I){return G(P=>Reflect.apply(translate$1,null,[P,...I]),()=>parseTranslateArgs(...I),"translate",P=>Reflect.apply(P.t,P,[...I]),P=>P,P=>isString$1(P))}function j(...I){const[P,le,_e]=I;if(_e&&!isObject$1(_e))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return ge(P,le,assign$1({resolvedMessage:!0},_e||{}))}function V(...I){return G(P=>Reflect.apply(datetime,null,[P,...I]),()=>parseDateTimeArgs(...I),"datetime format",P=>Reflect.apply(P.d,P,[...I]),()=>MISSING_RESOLVE_VALUE,P=>isString$1(P))}function F(...I){return G(P=>Reflect.apply(number,null,[P,...I]),()=>parseNumberArgs(...I),"number format",P=>Reflect.apply(P.n,P,[...I]),()=>MISSING_RESOLVE_VALUE,P=>isString$1(P))}function te(I){return I.map(P=>isString$1(P)||isNumber$1(P)||isBoolean$1(P)?createTextNode(String(P)):P)}const de={normalize:te,interpolate:I=>I,type:"vnode"};function Z(...I){return G(P=>{let le;const _e=P;try{_e.processor=de,le=Reflect.apply(translate$1,null,[_e,...I])}finally{_e.processor=null}return le},()=>parseTranslateArgs(...I),"translate",P=>P[TranslateVNodeSymbol](...I),P=>[createTextNode(P)],P=>isArray$1(P))}function ee(...I){return G(P=>Reflect.apply(number,null,[P,...I]),()=>parseNumberArgs(...I),"number format",P=>P[NumberPartsSymbol](...I),NOOP_RETURN_ARRAY,P=>isString$1(P)||isArray$1(P))}function he(...I){return G(P=>Reflect.apply(datetime,null,[P,...I]),()=>parseDateTimeArgs(...I),"datetime format",P=>P[DatetimePartsSymbol](...I),NOOP_RETURN_ARRAY,P=>isString$1(P)||isArray$1(P))}function Ee(I){E=I,k.pluralRules=E}function Le(I,P){return G(()=>{if(!I)return!1;const le=isString$1(P)?P:i.value,_e=M(le),ve=k.messageResolver(_e,I);return isMessageAST(ve)||isMessageFunction(ve)||isString$1(ve)},()=>[I],"translate exists",le=>Reflect.apply(le.te,le,[I,P]),NOOP_RETURN_FALSE,le=>isBoolean$1(le))}function C(I){let P=null;const le=fallbackWithLocaleChain(k,l.value,i.value);for(let _e=0;_e<le.length;_e++){const ve=u.value[le[_e]]||{},Ne=k.messageResolver(ve,I);if(Ne!=null){P=Ne;break}}return P}function T(I){const P=C(I);return P??(t?t.tm(I)||{}:{})}function M(I){return u.value[I]||{}}function Q(I,P){if(r){const le={[I]:P};for(const _e in le)hasOwn(le,_e)&&handleFlatJson(le[_e]);P=le[I]}u.value[I]=P,k.messages=u.value}function U(I,P){u.value[I]=u.value[I]||{};const le={[I]:P};if(r)for(const _e in le)hasOwn(le,_e)&&handleFlatJson(le[_e]);P=le[I],deepCopy(P,u.value[I]),k.messages=u.value}function Y(I){return c.value[I]||{}}function _(I,P){c.value[I]=P,k.datetimeFormats=c.value,clearDateTimeFormat(k,I,P)}function b(I,P){c.value[I]=assign$1(c.value[I]||{},P),k.datetimeFormats=c.value,clearDateTimeFormat(k,I,P)}function B(I){return d.value[I]||{}}function L(I,P){d.value[I]=P,k.numberFormats=d.value,clearNumberFormat(k,I,P)}function re(I,P){d.value[I]=assign$1(d.value[I]||{},P),k.numberFormats=d.value,clearNumberFormat(k,I,P)}composerID++,t&&inBrowser&&(watch(t.locale,I=>{o&&(i.value=I,k.locale=I,updateFallbackLocale(k,i.value,l.value))}),watch(t.fallbackLocale,I=>{o&&(l.value=I,k.fallbackLocale=I,updateFallbackLocale(k,i.value,l.value))}));const q={id:composerID,locale:ne,fallbackLocale:se,get inheritLocale(){return o},set inheritLocale(I){o=I,I&&t&&(i.value=t.locale.value,l.value=t.fallbackLocale.value,updateFallbackLocale(k,i.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:X,get modifiers(){return $},get pluralRules(){return E||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(I){f=I,k.missingWarn=f},get fallbackWarn(){return y},set fallbackWarn(I){y=I,k.fallbackWarn=y},get fallbackRoot(){return v},set fallbackRoot(I){v=I},get fallbackFormat(){return w},set fallbackFormat(I){w=I,k.fallbackFormat=w},get warnHtmlMessage(){return x},set warnHtmlMessage(I){x=I,k.warnHtmlMessage=I},get escapeParameter(){return m},set escapeParameter(I){m=I,k.escapeParameter=I},t:ge,getLocaleMessage:M,setLocaleMessage:Q,mergeLocaleMessage:U,getPostTranslationHandler:ye,setPostTranslationHandler:me,getMissingHandler:ce,setMissingHandler:z,[SetPluralRulesSymbol]:Ee};return q.datetimeFormats=ue,q.numberFormats=ie,q.rt=j,q.te=Le,q.tm=T,q.d=V,q.n=F,q.getDateTimeFormat=Y,q.setDateTimeFormat=_,q.mergeDateTimeFormat=b,q.getNumberFormat=B,q.setNumberFormat=L,q.mergeNumberFormat=re,q[InejctWithOptionSymbol]=n,q[TranslateVNodeSymbol]=Z,q[DatetimePartsSymbol]=he,q[NumberPartsSymbol]=ee,q}function convertComposerOptions(e){const t=isString$1(e.locale)?e.locale:DEFAULT_LOCALE,n=isString$1(e.fallbackLocale)||isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,s=isFunction$1(e.missing)?e.missing:void 0,r=isBoolean$1(e.silentTranslationWarn)||isRegExp$1(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,a=isBoolean$1(e.silentFallbackWarn)||isRegExp$1(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=isBoolean$1(e.fallbackRoot)?e.fallbackRoot:!0,i=!!e.formatFallbackMessages,l=isPlainObject$2(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=isFunction$1(e.postTranslation)?e.postTranslation:void 0,d=isString$1(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,f=!!e.escapeParameterHtml,y=isBoolean$1(e.sync)?e.sync:!0;let v=e.messages;if(isPlainObject$2(e.sharedMessages)){const $=e.sharedMessages;v=Object.keys($).reduce((k,R)=>{const A=k[R]||(k[R]={});return assign$1(A,$[R]),k},v||{})}const{__i18n:w,__root:S,__injectWithOption:g}=e,N=e.datetimeFormats,x=e.numberFormats,m=e.flatJson;return{locale:t,fallbackLocale:n,messages:v,flatJson:m,datetimeFormats:N,numberFormats:x,missing:s,missingWarn:r,fallbackWarn:a,fallbackRoot:o,fallbackFormat:i,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:d,escapeParameter:f,messageResolver:e.messageResolver,inheritLocale:y,__i18n:w,__root:S,__injectWithOption:g}}function createVueI18n(e={}){const t=createComposer(convertComposerOptions(e)),{__extender:n}=e,s={id:t.id,get locale(){return t.locale.value},set locale(r){t.locale.value=r},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(r){t.fallbackLocale.value=r},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(r){t.setMissingHandler(r)},get silentTranslationWarn(){return isBoolean$1(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(r){t.missingWarn=isBoolean$1(r)?!r:r},get silentFallbackWarn(){return isBoolean$1(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(r){t.fallbackWarn=isBoolean$1(r)?!r:r},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(r){t.fallbackFormat=r},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(r){t.setPostTranslationHandler(r)},get sync(){return t.inheritLocale},set sync(r){t.inheritLocale=r},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(r){t.warnHtmlMessage=r!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(r){t.escapeParameter=r},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...r){return Reflect.apply(t.t,t,[...r])},rt(...r){return Reflect.apply(t.rt,t,[...r])},te(r,a){return t.te(r,a)},tm(r){return t.tm(r)},getLocaleMessage(r){return t.getLocaleMessage(r)},setLocaleMessage(r,a){t.setLocaleMessage(r,a)},mergeLocaleMessage(r,a){t.mergeLocaleMessage(r,a)},d(...r){return Reflect.apply(t.d,t,[...r])},getDateTimeFormat(r){return t.getDateTimeFormat(r)},setDateTimeFormat(r,a){t.setDateTimeFormat(r,a)},mergeDateTimeFormat(r,a){t.mergeDateTimeFormat(r,a)},n(...r){return Reflect.apply(t.n,t,[...r])},getNumberFormat(r){return t.getNumberFormat(r)},setNumberFormat(r,a){t.setNumberFormat(r,a)},mergeNumberFormat(r,a){t.mergeNumberFormat(r,a)}};return s.__extender=n,s}function defineMixin(e,t,n){return{beforeCreate(){const s=getCurrentInstance();if(!s)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const a=r.i18n;if(r.__i18n&&(a.__i18n=r.__i18n),a.__root=t,this===this.$root)this.$i18n=mergeToGlobal(e,a);else{a.__injectWithOption=!0,a.__extender=n.__vueI18nExtend,this.$i18n=createVueI18n(a);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(e,r);else{this.$i18n=createVueI18n({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}else this.$i18n=e;r.__i18nGlobal&&adjustI18nResources(t,r,r),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$te=(a,o)=>this.$i18n.te(a,o),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=getCurrentInstance();if(!s)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(s),delete this.$i18n}}}function mergeToGlobal(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[SetPluralRulesSymbol](t.pluralizationRules||e.pluralizationRules);const n=getLocaleMessages(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(s=>e.mergeLocaleMessage(s,n[s])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(s=>e.mergeDateTimeFormat(s,t.datetimeFormats[s])),t.numberFormats&&Object.keys(t.numberFormats).forEach(s=>e.mergeNumberFormat(s,t.numberFormats[s])),e}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((s,r)=>[...s,...r.type===Fragment?r.children:[r]],[]):t.reduce((n,s)=>{const r=e[s];return r&&(n[s]=r()),n},create())}function getFragmentableTag(){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign$1({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>isNumber$1(e)||!isNaN(e)}},baseFormatProps),setup(e,t){const{slots:n,attrs:s}=t,r=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(n).filter(d=>d!=="_"),o=create();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=isString$1(e.plural)?+e.plural:e.plural);const i=getInterpolateArg(t,a),l=r[TranslateVNodeSymbol](e.keypath,i,o),u=assign$1(create(),s),c=isString$1(e.tag)||isObject$1(e.tag)?e.tag:getFragmentableTag();return h(c,u,l)}}}),Translation=TranslationImpl;function isVNode(e){return isArray$1(e)&&!isString$1(e[0])}function renderFormatter(e,t,n,s){const{slots:r,attrs:a}=t;return()=>{const o={part:!0};let i=create();e.locale&&(o.locale=e.locale),isString$1(e.format)?o.key=e.format:isObject$1(e.format)&&(isString$1(e.format.key)&&(o.key=e.format.key),i=Object.keys(e.format).reduce((f,y)=>n.includes(y)?assign$1(create(),f,{[y]:e.format[y]}):f,create()));const l=s(e.value,o,i);let u=[o.key];isArray$1(l)?u=l.map((f,y)=>{const v=r[f.type],w=v?v({[f.type]:f.value,index:y,parts:l}):[f.value];return isVNode(w)&&(w[0].key=`${f.type}-${y}`),w}):isString$1(l)&&(u=[l]);const c=assign$1(create(),a),d=isString$1(e.tag)||isObject$1(e.tag)?e.tag:getFragmentableTag();return h(d,c,u)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$1({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return renderFormatter(e,t,NUMBER_FORMAT_OPTIONS_KEYS,(...s)=>n[NumberPartsSymbol](...s))}}),NumberFormat=NumberFormatImpl;function getComposer$1(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const s=n.__getInstance(t);return s!=null?s.__composer:e.global.__composer}}function vTDirective(e){const t=o=>{const{instance:i,value:l}=o;if(!i||!i.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const u=getComposer$1(e,i.$),c=parseValue(l);return[Reflect.apply(u.t,u,[...makeParams(c)]),u]};return{created:(o,i)=>{const[l,u]=t(i);inBrowser&&e.global===u&&(o.__i18nWatcher=watch(u.locale,()=>{i.instance&&i.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{inBrowser&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:i})=>{if(o.__composer){const l=o.__composer,u=parseValue(i);o.textContent=Reflect.apply(l.t,l,[...makeParams(u)])}},getSSRProps:o=>{const[i]=t(o);return{textContent:i}}}}function parseValue(e){if(isString$1(e))return{path:e};if(isPlainObject$2(e)){if(!("path"in e))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return e}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(e){const{path:t,locale:n,args:s,choice:r,plural:a}=e,o={},i=s||{};return isString$1(n)&&(o.locale=n),isNumber$1(r)&&(o.plural=r),isNumber$1(a)&&(o.plural=a),[t,i,o]}function apply(e,t,...n){const s=isPlainObject$2(n[0])?n[0]:{};(isBoolean$1(s.globalInstall)?s.globalInstall:!0)&&([Translation.name,"I18nT"].forEach(a=>e.component(a,Translation)),[NumberFormat.name,"I18nN"].forEach(a=>e.component(a,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach(a=>e.component(a,DatetimeFormat))),e.directive("t",vTDirective(t))}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(e={}){const t=__VUE_I18N_LEGACY_API__&&isBoolean$1(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=isBoolean$1(e.globalInjection)?e.globalInjection:!0,s=new Map,[r,a]=createGlobal(e,t),o=makeSymbol("");function i(d){return s.get(d)||null}function l(d,f){s.set(d,f)}function u(d){s.delete(d)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(d,...f){if(d.__VUE_I18N_SYMBOL__=o,d.provide(d.__VUE_I18N_SYMBOL__,c),isPlainObject$2(f[0])){const w=f[0];c.__composerExtend=w.__composerExtend,c.__vueI18nExtend=w.__vueI18nExtend}let y=null;!t&&n&&(y=injectGlobalFields(d,c.global)),__VUE_I18N_FULL_INSTALL__&&apply(d,c,...f),__VUE_I18N_LEGACY_API__&&t&&d.mixin(defineMixin(a,a.__composer,c));const v=d.unmount;d.unmount=()=>{y&&y(),c.dispose(),v()}},get global(){return a},dispose(){r.stop()},__instances:s,__getInstance:i,__setInstance:l,__deleteInstance:u};return c}function useI18n(e={}){const t=getCurrentInstance();if(t==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const n=getI18nInstance(t),s=getGlobalComposer(n),r=getComponentOptions(t),a=getScope(e,r);if(a==="global")return adjustI18nResources(s,e,r),s;if(a==="parent"){let l=getComposer(n,t,e.__useComponent);return l==null&&(l=s),l}const o=n;let i=o.__getInstance(t);if(i==null){const l=assign$1({},e);"__i18n"in r&&(l.__i18n=r.__i18n),s&&(l.__root=s),i=createComposer(l),o.__composerExtend&&(i[DisposeSymbol]=o.__composerExtend(i)),setupLifeCycle(o,t,i),o.__setInstance(t,i)}return i}function createGlobal(e,t){const n=effectScope(),s=__VUE_I18N_LEGACY_API__&&t?n.run(()=>createVueI18n(e)):n.run(()=>createComposer(e));if(s==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[n,s]}function getI18nInstance(e){const t=inject(e.isCE?I18nInjectionKey:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw createI18nError(e.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return t}function getScope(e,t){return isEmptyObject(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function getGlobalComposer(e){return e.mode==="composition"?e.global:e.global.__composer}function getComposer(e,t,n=!1){let s=null;const r=t.root;let a=getParentComponentInstance(t,n);for(;a!=null;){const o=e;if(e.mode==="composition")s=o.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const i=o.__getInstance(a);i!=null&&(s=i.__composer,n&&s&&!s[InejctWithOptionSymbol]&&(s=null))}if(s!=null||r===a)break;a=a.parent}return s}function getParentComponentInstance(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function setupLifeCycle(e,t,n){onMounted(()=>{},t),onUnmounted(()=>{const s=n;e.__deleteInstance(t);const r=s[DisposeSymbol];r&&(r(),delete s[DisposeSymbol])},t)}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(e,t){const n=Object.create(null);return globalExportProps.forEach(r=>{const a=Object.getOwnPropertyDescriptor(t,r);if(!a)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const o=isRef(a.value)?{get(){return a.value.value},set(i){a.value.value=i}}:{get(){return a.get&&a.get()}};Object.defineProperty(n,r,o)}),e.config.globalProperties.$i18n=n,globalExportMethods.forEach(r=>{const a=Object.getOwnPropertyDescriptor(t,r);if(!a||!a.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${r}`,a)}),()=>{delete e.config.globalProperties.$i18n,globalExportMethods.forEach(r=>{delete e.config.globalProperties[`$${r}`]})}}const DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$1({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return renderFormatter(e,t,DATETIME_FORMAT_OPTIONS_KEYS,(...s)=>n[DatetimePartsSymbol](...s))}}),DatetimeFormat=DatetimeFormatImpl;if(initFeatureFlags(),registerMessageCompiler(compile),registerMessageResolver(resolveValue),registerLocaleFallbacker(fallbackWithLocaleChain),__INTLIFY_PROD_DEVTOOLS__){const e=getGlobalThis();e.__INTLIFY__=!0,setDevToolsHook(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const _export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},_hoisted_1$e={class:"weilin_prompt_ui_window-title"},_hoisted_2$c=["title"],_sfc_main$f={__name:"DraggableWindow",props:{title:{type:String,required:!0},position:{type:Object,required:!0},size:{type:Object,required:!0},zIndex:{type:Number,default:1},name:{type:String,default:"default_window_name"}},emits:["update:position","update:size","active","close"],setup(e,{emit:t}){const n=e,{t:s}=useI18n(),r=t,a=ref({x:0,y:0}),o=ref({width:600,height:400});watch(()=>n.position,E=>{E&&(a.value={...E},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_position`},"*"))},{immediate:!0,deep:!0}),watch(()=>n.size,E=>{E&&(o.value={...E},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_size`},"*"))},{immediate:!0,deep:!0});const i=()=>{window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_scroll`},"*")};onMounted(()=>{n.position&&(a.value={...n.position}),n.size&&(o.value={...n.size})});const l=ref(!1),u=ref({x:0,y:0}),c=E=>{l.value=!0,u.value={x:E.clientX-a.value.x,y:E.clientY-a.value.y},document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)},d=E=>{if(l.value){const k={x:E.clientX-u.value.x,y:E.clientY-u.value.y};a.value=k,r("update:position",k)}},f=()=>{l.value=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f)},y=ref(!1),v=ref({x:0,y:0}),w=ref({width:0,height:0}),S=E=>{y.value=!0,v.value={x:E.clientX,y:E.clientY},w.value={...o.value},document.addEventListener("mousemove",g),document.addEventListener("mouseup",N)},g=E=>{if(y.value){const k=E.clientX-v.value.x,R=E.clientY-v.value.y,A={width:Math.max(200,w.value.width+k),height:Math.max(200,w.value.height+R)};o.value=A,r("update:size",A)}},N=()=>{y.value=!1,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",N)},x=()=>{r("active")},m=()=>{r("close")},$=E=>{x(),c(E)};return(E,k)=>(openBlock(),createBlock(Teleport,{to:"#weilin_comfyui_tools_prompt_ui_div"},[createBaseVNode("div",{class:"weilin_prompt_ui_draggable-window",style:normalizeStyle({left:`${a.value.x}px`,top:`${a.value.y}px`,width:`${o.value.width}px`,height:`${o.value.height}px`,zIndex:e.zIndex}),onMousedown:x},[createBaseVNode("div",{class:"weilin_prompt_ui_window-header",onMousedown:withModifiers($,["stop"])},[createBaseVNode("div",_hoisted_1$e,toDisplayString$1(e.title),1),createBaseVNode("button",{class:"weilin_prompt_ui_close-btn",onClick:m},"×")],32),createBaseVNode("div",{class:"weilin_prompt_ui_window-content",onScroll:i},[renderSlot(E.$slots,"default",{},void 0,!0)],32),createBaseVNode("div",{class:"weilin_prompt_ui_resize-handle",title:unref(s)("common.windowSize"),onMousedown:withModifiers(S,["stop"])},null,40,_hoisted_2$c)],36)]))}},DraggableWindow=_export_sfc(_sfc_main$f,[["__scopeId","data-v-fc1c036c"]]),version="v0.0.20",zh_CN={promptBox:{placeholder:"请输入文本...",delete:"删除",newline:"换行",tab:"制表符",windowTitle:"WeiLin提示词UI窗口 "+version,windowTitleGlobal:"WeiLin全局提示词UI窗口 "+version,translate:"翻译",translatePlaceholder:"请输入要翻译的文本",weight:"权重",weightPlaceholder:"请输入权重",addBracket:"添加括号",removeLayer:"减去括号",oneClickTranslate:"一键翻译未翻译的词组",settings:{title:"设置",cancel:"取消",save:"保存",translator:"翻译设置",sourceLanguage:"源语言",targetLanguage:"目标语言",chinese_simplified:"简体中文",english:"英语",close:"关闭",auto_detect:"自动检测",setting_floating_ball:"悬浮球设置",setting_prompt_box:"提示词设置",enablePromptCommaShow:"显示提示词逗号",floatingBallCount:"悬浮球数量",floatingBallCountPlaceholder:"请输入悬浮球数量",floatingBallSize:"悬浮球大小",floatingBallSizePlaceholder:"请输入悬浮球大小",enableFloatingBall:"启用悬浮球",enableCommaConversion:"启用逗号转换，全角逗号转为半角逗号",enablePeriodConversion:"启用句号转换，全角句号转为半角句号",enableBracketConversion:"启用括号转换，全角括号转为半角括号",enableAngleBracketConversion:"启用尖括号转换，全角尖括号转为半角尖括号",enableUnderscoreToBracket:"启用下划线转换，下划线转换为空格",setting_openai_box:"OpenAI设置",openai_api_key:"API Key",openai_api_key_placeholder:"请输入API Key",openai_api_key_save:"保存",openaiSettings:"OpenAI设置",openai_base_url:"Base URL",openai_base_url_placeholder:"请输入Base URL",openai_model:"模型",openai_model_placeholder:"请输入模型",not_set:"未设置",edit:"编辑",delete:"删除",selectedOpenaiConfig:"当前选择的OpenAI配置",addNewConfig:"添加OpenAI配置",setting_sponsor_me:"赞助我",sponsorMe:"赞助我",sponsorMeTip:"赞助我，支持我继续开发",sponsorMeLink:"唯一赞助链接 https://afdian.com/a/weilin9999",setting_start_panel:"启动面板",startPanel:"启动面板",startPanelTip:"点击启动面板，启动成功后会自动打开面板页面"}},controls:{language:"语言",settings:"设置",switchTheme:"切换主题",darkMode:"夜间模式",lightMode:"日间模式",tagManager:"标签管理",loraStack:"Lora堆",loraManager:"Lora管理",history:"历史记录",addLora:"添加Lora",removeLora:"移除Lora",lookOnLora:"查看Lora",aiChat:"AI对话",github:"Github主页"},theme:{toggle:"切换主题"},common:{confirmDelete:"确认删除",delete:"删除",cancel:"取消",confirm:"确定",edit:"编辑",save:"保存",refresh:"刷新",copy:"复制",copySuccess:"复制成功",copyFailed:"复制失败",windowSize:"调节窗口大小"},nodeListWindow:{windowTitle:"节点列表",openPromptUI:"打开提示词编辑器"},lora:{title:"Lora 信息",file:"文件",hash:"Hash值",civitai:"Civitai",viewOnCivitai:"在 Civitai 上查看",fetchFromCivitai:"从 Civitai 获取信息",modelNotFound:"模型未找到",modelNotFoundTip:"该模型在 Civitai 上未找到，可能是私有模型或已被删除",name:"名称",nameTip:"模型的显示名称",type:"类型",baseModel:"基础模型",trainedWords:"训练词",trainedWordsTip:"模型训练时使用的关键词，点击可选择复制",selectedWords:"已选择 {count} 个词",strengthMin:"最小强度",strengthMinTip:"推荐的最小强度值",strengthMax:"最大强度",strengthMaxTip:"推荐的最大强度值",promptWords:"提示词",promptWordsTip:"使用该模型时的推荐提示词",loraWorks:"Lora提示词",strWeight:"文本强度权重"},tagManager:{deletePrimaryCategoryConfirm:"确定要删除分类 {name} 吗？",deleteGroupConfirm:"确定要删除分组 {name} 吗？",deleteTagConfirm:"确定要删除标签 {name} 吗？",windowTitle:"标签管理器",categories:"分类管理",groups:"分组管理",selectCategory:"请选择分类",selectGroup:"请选择分组",addPrimaryCategory:"添加分类",addGroup:"添加分组",editPrimaryCategory:"编辑分类",editGroup:"编辑分组",editTag:"编辑标签",categoryName:"分类名称",categoryNamePlaceholder:"请输入分类名称",categoryNameRequired:"分类名称不能为空",groupName:"分组名称",groupNamePlaceholder:"请输入分组名称",groupNameRequired:"分组名称不能为空",addTag:"添加Tag",text:"Tag描述",textPlaceholder:"请输入Tag描述",description:"Tag",descriptionPlaceholder:"请输入Tag",textRequired:"Tag和Tag描述不能为空",backgroundColor:"背景颜色",colorPickerTitle:"选择颜色",opacity:"透明度",searchPlaceholder:"搜索Tag...",noResults:"未找到相关结果",searchInCategory:"在分类中",searchInTag:"在Tag中",save:"保存",cancel:"取消",confirm:"确定",delete:"删除",addSubCategory:"添加子分类",editSubCategory:"编辑子分类",subCategoryName:"子分类名称",subCategoryNamePlaceholder:"请输入子分类名称",subCategoryNameRequired:"子分类名称不能为空",deleteConfirmTitle:"确认删除",deleteConfirmMessage:"此操作将永久删除该{type}，是否继续？",deleteSuccess:"删除成功",deleteFailed:"删除失败",saveSuccess:"保存成功",saveFailed:"保存失败",colorPickerAlpha:"透明度",colorPickerHex:"十六进制颜色值",colorPreview:"颜色预览",dragToSort:"拖动排序",searchTags:"搜索标签",noTagsFound:"未找到标签",noGroupsFound:"未找到分组",noCategoriesFound:"未找到分类",refresh:"刷新",refreshing:"刷新中...",refreshSuccess:"刷新成功",refreshFailed:"刷新失败",search:"搜索",searching:"搜索中...",searchResult:"搜索结果",searchInPath:"位于: {path}",category:"分类",group:"分组",tag:"标签",resultType:{category:"分类",group:"分组",tag:"标签"},hasDeleteAction:"批量删除",deleteSelected:"删除选中",confirmDeleteSelected:"确定要删除选中标签吗？",cancelDelete:"取消删除",moveTag:"移动标签",targetTag:"目标标签",movePosition:"移动位置",moveBefore:"移动到目标标签之前",moveAfter:"移动到目标标签之后",editTag:"编辑标签",deleteTag:"删除标签"},loraManager:{windowTitle:"Lora管理",modelWeight:"模型权重",textEncoderWeight:"文本权重",all:"全部",refresh:"刷新",cacheAll:"缓存全部Lora信息",searchPlaceholder:"搜索Lora..."},message:{copySuccess:"复制成功",copyFailed:"复制失败",saveSuccess:"保存成功",saveFailed:"保存失败",deleteSuccess:"删除成功",deleteFailed:"删除失败",operationSuccess:"操作成功",operationFailed:"操作失败",networkError:"网络错误",unknownError:"未知错误",refreshSuccess:"刷新成功",refreshFailed:"刷新失败",loadingData:"加载数据中...",dataLoaded:"数据加载完成",editSuccess:"编辑成功",editFailed:"编辑失败",addSuccess:"添加成功",addFailed:"添加失败",addFavoriteSuccess:"已添加到收藏夹",addFavoriteIsExist:"已存在",error:"错误",editNameExist:"名称已存在",moveSuccess:"移动成功",moveFailed:"移动失败",setLanguageSuccess:"设置语言成功",setLanguageFailed:"设置语言失败",startPanelSuccess:"启动面板成功",startPanelFailed:"启动面板失败",isLoading:"已在执行中请等待",loaddingPrc:"执行进度 {name}%",loaddingSuccess:"已全部加载成功",noFinishKuo:"括号不完整，请检查输入"},history:{title:"历史记录",search_placeholder:"搜索历史记录...",search:"搜索",windowTitle:"历史记录",favorites:"收藏夹",history:"历史记录",refresh:"刷新",refresh_history:"刷新历史记录",refresh_favorites:"刷新收藏夹",add_to_favorites:"添加到收藏夹",delete_history:"删除历史记录",use_item:"使用",add_new:"添加收藏",bulk_delete:"批量删除",deleteHistoryConfirm:"确定要删除历史记录 {name} 吗？",deleteFavoriteConfirm:"确定要删除收藏夹 {name} 吗？",confirmDeleteSelected:"确定要删除选中的信息吗？",cancel_delete:"取消删除",sure_delete:"确定删除",deleteSelected:"删除选中",dialog:{add_tag:"添加收藏",edit_tag:"编辑收藏",name:"名称",name_placeholder:"请输入名称",tag:"标签",tag_placeholder:"请输入标签",background_color:"背景颜色",background_color_placeholder:"请选择背景颜色",edit_favorite:"编辑收藏",delete_favorite:"删除收藏"},edit_favorite:"编辑收藏",delete_favorite:"删除收藏",use_favorite:"使用收藏"},floatingBall:{promptBox:"打开全局提示词",tagManager:"打开标签管理",loraManager:"打开Lora管理",aiWindow:"打开AI对话",restoreWindow:"重置所有窗口",openNodeListWindow:"打开节点列表"},aiWindow:{windowTitle:"AI对话窗口",newChat:"新建对话",chatName:"对话",thinking:"思考中...",send:"发送",inputMessage:"输入你的消息..."}},en_US={promptBox:{placeholder:"Please enter text...",delete:"Delete",newline:"New Line",tab:"Tab",windowTitle:"WeiLin Prompt UI Window "+version,windowTitleGlobal:"WeiLin Global Prompt UI Window "+version,translate:"Translate",translatePlaceholder:"Please enter the text to be translated",weight:"Weight",weightPlaceholder:"Please enter the weight",addBracket:"Add Bracket",removeLayer:"Remove Bracket",oneClickTranslate:"One Click Translate Untranslated Phrases",settings:{title:"Settings",cancel:"Cancel",save:"Save",translator:"Translator",sourceLanguage:"Source Language",targetLanguage:"Target Language",chinese_simplified:"Chinese Simplified",english:"English",close:"Close",auto_detect:"Auto Detect",setting_floating_ball:"Setting Floating Ball",setting_prompt_box:"Setting Prompt Box",enablePromptCommaShow:"Show Prompt Comma",floatingBallCount:"Floating Ball Count",floatingBallCountPlaceholder:"Please enter the number of floating balls",floatingBallSize:"Floating Ball Size",floatingBallSizePlaceholder:"Please enter the size of the floating ball",enableFloatingBall:"Enable Floating Ball",enableCommaConversion:"Enable Comma Conversion",enablePeriodConversion:"Enable Period Conversion",enableBracketConversion:"Enable Bracket Conversion",enableAngleBracketConversion:"Enable Angle Bracket Conversion",enableUnderscoreToBracket:"Enable Underscore to Bracket",setting_openai_box:"OpenAI Settings",openai_api_key:"API Key",openai_api_key_placeholder:"Please enter API Key",openai_api_key_save:"Save",openaiSettings:"OpenAI Settings",openaiSettings_api_key:"API Key",openaiSettings_api_key_placeholder:"Please enter API Key",openaiSettings_api_key_save:"Save",openai_base_url:"Base URL",openai_base_url_placeholder:"Please enter Base URL",openai_model:"Model",openai_model_placeholder:"Please enter Model",not_set:"Not Set",edit:"Edit",delete:"Delete",selectedOpenaiConfig:"Selected OpenAI Config",addNewConfig:"Add New Config",setting_sponsor_me:"Sponsor Me",sponsorMe:"Sponsor Me",sponsorMeTip:"Sponsor Me, Support Me to Continue Development",sponsorMeLink:"Unique Sponsor Link https://afdian.com/a/weilin9999",setting_start_panel:"Start Panel",startPanel:"Start Panel",startPanelTip:"Click Start Panel, after successful startup, the panel page will be automatically opened"}},controls:{language:"Language",settings:"Settings",switchTheme:"Switch Theme",darkMode:"Dark Mode",lightMode:"Light Mode",tagManager:"Tag Manager",loraStack:"Lora Stack",loraManager:"Lora Manager",history:"History",addLora:"Add Lora",removeLora:"Remove Lora",lookOnLora:"Look On Lora",aiChat:"AI Chat",github:"Github Home"},theme:{toggle:"Switch Theme"},lora:{title:"Lora Information",file:"File",hash:"Hash",civitai:"Civitai",viewOnCivitai:"View on Civitai",fetchFromCivitai:"Fetch from Civitai",modelNotFound:"Model not found",modelNotFoundTip:"The model was not found on Civitai. It might be private or deleted",name:"Name",nameTip:"Display name of the model",type:"Type",baseModel:"Base Model",trainedWords:"Trained Words",trainedWordsTip:"Keywords used in model training, click to select for copying",selectedWords:"{count} words selected",strengthMin:"Min Strength",strengthMinTip:"Recommended minimum strength value",strengthMax:"Max Strength",strengthMaxTip:"Recommended maximum strength value",promptWords:"Prompt Words",promptWordsTip:"Recommended prompt words when using this model",loraWorks:"Lora Prompt Words",strWeight:"Text Strength Weight"},common:{confirmDelete:"Confirm Delete",delete:"Delete",cancel:"Cancel",confirm:"Confirm",edit:"Edit",save:"Save",refresh:"Refresh",copy:"Copy",copySuccess:"Copied successfully",copyFailed:"Copy failed",windowSize:"Adjust window size"},nodeListWindow:{windowTitle:"Node List",openPromptUI:"Open Prompt UI"},tagManager:{deletePrimaryCategoryConfirm:"Are you sure you want to delete category {name}?",deleteGroupConfirm:"Are you sure you want to delete group {name}?",deleteTagConfirm:"Are you sure you want to delete tag {name}?",windowTitle:"Tag Manager",categories:"Categories",groups:"Groups",selectCategory:"Please select a category",selectGroup:"Please select a group",addPrimaryCategory:"Add Category",addGroup:"Add Group",editPrimaryCategory:"Edit Category",editGroup:"Edit Group",editTag:"Edit Tag",categoryName:"Category Name",categoryNamePlaceholder:"Enter category name",categoryNameRequired:"Category name is required",groupName:"Group Name",groupNamePlaceholder:"Enter group name",groupNameRequired:"Group name is required",addTag:"Add Tag",text:"Tag Description",textPlaceholder:"Enter tag Description",description:"Tag",descriptionPlaceholder:"Enter tag",textRequired:"Tag and Tag description cannot be empty",backgroundColor:"Background Color",colorPickerTitle:"Select Color",opacity:"Opacity",searchPlaceholder:"Search tags...",noResults:"No results found",searchInCategory:"in category",searchInTag:"in tag",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",addSubCategory:"Add Sub-category",editSubCategory:"Edit Sub-category",subCategoryName:"Sub-category Name",subCategoryNamePlaceholder:"Enter sub-category name",subCategoryNameRequired:"Sub-category name is required",deleteConfirmTitle:"Confirm Delete",deleteConfirmMessage:"This action will permanently delete this {type}. Continue?",deleteSuccess:"Deleted successfully",deleteFailed:"Delete failed",saveSuccess:"Saved successfully",saveFailed:"Save failed",colorPickerAlpha:"Opacity",colorPickerHex:"Hex Color Value",colorPreview:"Color Preview",dragToSort:"Drag to Sort",searchTags:"Search Tags",noTagsFound:"No tags found",noGroupsFound:"No groups found",noCategoriesFound:"No categories found",refresh:"Refresh",refreshing:"Refreshing...",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",search:"Search",searching:"Searching...",searchResult:"Search Result",searchInPath:"Located in: {path}",category:"Category",group:"Group",tag:"Tag",resultType:{category:"Category",group:"Group",tag:"Tag"},hasDeleteAction:"Batch Delete",deleteSelected:"Delete Selected",confirmDeleteSelected:"Are you sure you want to delete the selected tags?",cancelDelete:"Cancel Delete",moveTag:"Move Tag",targetTag:"Target Tag",movePosition:"Move Position",moveBefore:"Move Before",moveAfter:"Move After",editTag:"Edit Tag",deleteTag:"Delete Tag"},loraManager:{windowTitle:"Lora Manager",modelWeight:"Model Weight",textEncoderWeight:"Text Encoder Weight",all:"All",refresh:"Refresh",cacheAll:"Cache all Lora information",searchPlaceholder:"Search Lora..."},message:{copySuccess:"Copy successful",copyFailed:"Copy failed",saveSuccess:"Save successful",saveFailed:"Save failed",deleteSuccess:"Delete successful",deleteFailed:"Delete failed",operationSuccess:"Operation successful",operationFailed:"Operation failed",networkError:"Network error",unknownError:"Unknown error",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",loadingData:"Loading data...",dataLoaded:"Data loaded",editSuccess:"Edit successful",editFailed:"Edit failed",addSuccess:"Add successful",addFailed:"Add failed",addFavoriteSuccess:"Added to favorites",addFavoriteIsExist:"Already exists",error:"Error",moveSuccess:"Move successful",moveFailed:"Move failed",setLanguageSuccess:"Set language successful",setLanguageFailed:"Set language failed",startPanelSuccess:"Start panel successful",startPanelFailed:"Start panel failed",isLoading:"Loading...",loaddingPrc:"Execution progress {name}%",loaddingSuccess:"All loaded successfully",noFinishKuo:"The parentheses are incomplete. Please check the input"},history:{title:"History",search_placeholder:"Search history...",windowTitle:"History",search:"Search",favorites:"Favorites",history:"History",refresh:"Refresh",refresh_history:"Refresh history",refresh_favorites:"Refresh favorites",add_to_favorites:"Add to favorites",delete_history:"Delete history",use_item:"Use",add_new:"Add new",bulk_delete:"Bulk delete",deleteHistoryConfirm:"Are you sure you want to delete history {name}?",deleteFavoriteConfirm:"Are you sure you want to delete favorite {name}?",confirmDeleteSelected:"Are you sure you want to delete selected information?",cancel_delete:"Cancel delete",sure_delete:"Sure delete",deleteSelected:"Delete selected",dialog:{add_tag:"Add favorite",edit_tag:"Edit favorite",name:"Name",name_placeholder:"Please enter name",tag:"Tag",tag_placeholder:"Please enter tag",background_color:"Background color",background_color_placeholder:"Please select background color",edit_favorite:"Edit favorite",delete_favorite:"Delete favorite"},edit_favorite:"Edit favorite",delete_favorite:"Delete favorite",use_favorite:"Use favorite"},floatingBall:{promptBox:"open Global Prompt Box",tagManager:"open Tag Manager",loraManager:"open Lora Manager",aiWindow:"open AI Chat",restoreWindow:"reset all windows",openNodeListWindow:"open Node List"},aiWindow:{windowTitle:"AI Chat Window",newChat:"New Chat",chatName:"Chat",thinking:"Thinking...",send:"Send",inputMessage:"Enter your message..."}};/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let n=[],s=[];const r=markRaw({install(a){setActivePinia(r),r._a=a,a.provide(piniaSymbol,r),a.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(a){return this._a?n.push(a):s.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const noop$1=()=>{};function addSubscription(e,t,n,s=noop$1){e.push(t);const r=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),s())};return!n&&getCurrentScope()&&onScopeDispose(r),r}function triggerSubscriptions(e,...t){e.slice().forEach(n=>{n(...t)})}const fallbackRunWithContext=e=>e(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];isPlainObject$1(r)&&isPlainObject$1(s)&&e.hasOwnProperty(n)&&!isRef(s)&&!isReactive(s)?e[n]=mergeReactiveObjects(r,s):e[n]=s}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject$1(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,n,s){const{state:r,actions:a,getters:o}=t,i=n.state.value[e];let l;function u(){i||(n.state.value[e]=r?r():{});const c=toRefs(n.state.value[e]);return assign(c,a,Object.keys(o||{}).reduce((d,f)=>(d[f]=markRaw(computed(()=>{setActivePinia(n);const y=n._s.get(e);return o[f].call(y,y)})),d),{}))}return l=createSetupStore(e,u,t,n,s,!0),l}function createSetupStore(e,t,n={},s,r,a){let o;const i=assign({actions:{}},n),l={deep:!0};let u,c,d=[],f=[],y;const v=s.state.value[e];!a&&!v&&(s.state.value[e]={}),ref({});let w;function S(R){let A;u=c=!1,typeof R=="function"?(R(s.state.value[e]),A={type:MutationType.patchFunction,storeId:e,events:y}):(mergeReactiveObjects(s.state.value[e],R),A={type:MutationType.patchObject,payload:R,storeId:e,events:y});const ne=w=Symbol();nextTick().then(()=>{w===ne&&(u=!0)}),c=!0,triggerSubscriptions(d,A,s.state.value[e])}const g=a?function(){const{state:A}=n,ne=A?A():{};this.$patch(se=>{assign(se,ne)})}:noop$1;function N(){o.stop(),d=[],f=[],s._s.delete(e)}const x=(R,A="")=>{if(ACTION_MARKER in R)return R[ACTION_NAME]=A,R;const ne=function(){setActivePinia(s);const se=Array.from(arguments),X=[],ue=[];function ie(ce){X.push(ce)}function ye(ce){ue.push(ce)}triggerSubscriptions(f,{args:se,name:ne[ACTION_NAME],store:$,after:ie,onError:ye});let me;try{me=R.apply(this&&this.$id===e?this:$,se)}catch(ce){throw triggerSubscriptions(ue,ce),ce}return me instanceof Promise?me.then(ce=>(triggerSubscriptions(X,ce),ce)).catch(ce=>(triggerSubscriptions(ue,ce),Promise.reject(ce))):(triggerSubscriptions(X,me),me)};return ne[ACTION_MARKER]=!0,ne[ACTION_NAME]=A,ne},m={_p:s,$id:e,$onAction:addSubscription.bind(null,f),$patch:S,$reset:g,$subscribe(R,A={}){const ne=addSubscription(d,R,A.detached,()=>se()),se=o.run(()=>watch(()=>s.state.value[e],X=>{(A.flush==="sync"?c:u)&&R({storeId:e,type:MutationType.direct,events:y},X)},assign({},l,A)));return ne},$dispose:N},$=reactive(m);s._s.set(e,$);const k=(s._a&&s._a.runWithContext||fallbackRunWithContext)(()=>s._e.run(()=>(o=effectScope()).run(()=>t({action:x}))));for(const R in k){const A=k[R];if(isRef(A)&&!isComputed(A)||isReactive(A))a||(v&&shouldHydrate(A)&&(isRef(A)?A.value=v[R]:mergeReactiveObjects(A,v[R])),s.state.value[e][R]=A);else if(typeof A=="function"){const ne=x(A,R);k[R]=ne,i.actions[R]=A}}return assign($,k),assign(toRaw($),k),Object.defineProperty($,"$state",{get:()=>s.state.value[e],set:R=>{S(A=>{assign(A,R)})}}),s._p.forEach(R=>{assign($,o.run(()=>R({store:$,app:s._a,pinia:s,options:i})))}),v&&a&&n.hydrate&&n.hydrate($.$state,v),u=!0,c=!0,$}/*! #__NO_SIDE_EFFECTS__ */function defineStore(e,t,n){let s;const r=typeof t=="function";s=r?n:t;function a(o,i){const l=hasInjectionContext();return o=o||(l?inject(piniaSymbol,null):null),o&&setActivePinia(o),o=activePinia,o._s.has(e)||(r?createSetupStore(e,t,s,o):createOptionsStore(e,s,o)),o._s.get(e)}return a.$id=e,a}const useTagStore=defineStore("tag",()=>{const e=ref([]),t=ref({user_lang:"zh_CN"});return{categories:e,setCategories:r=>{e.value=r},userSetting:t,setUserSetting:r=>{t.value=r}}});function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const n=toString.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),isArray(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let i;for(s=0;s<o;s++)i=a[s],t.call(null,e[i],i,e)}}function findKey(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},n=(s,r)=>{const a=e&&findKey(t,r)||r;isPlainObject(t[a])&&isPlainObject(s)?t[a]=merge(t[a],s):isPlainObject(s)?t[a]=merge({},s):isArray(s)?t[a]=s.slice():t[a]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&forEach(arguments[s],n);return t}const extend=(e,t,n,{allOwnKeys:s}={})=>(forEach(t,(r,a)=>{n&&isFunction(r)?e[a]=bind(r,n):e[a]=r},{allOwnKeys:s}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject=(e,t,n,s)=>{let r,a,o;const i={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],(!s||s(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=n!==!1&&getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},matchAll=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),hasOwnProperty=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};forEach(n,(r,a)=>{let o;(o=t(r,a,e))!==!1&&(s[a]=o||r)}),Object.defineProperties(e,s)},freezeMethods=e=>{reduceDescriptors(e,(t,n)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(isFunction(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(e,t)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return isArray(e)?s(e):s(String(e).split(t)),n},noop=()=>{},toFiniteNumber=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),n=(s,r)=>{if(isObject(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const a=isArray(s)?[]:{};return forEach(s,(o,i)=>{const l=n(o,r+1);!isUndefined(l)&&(a[i]=l)}),t[r]=void 0,a}}return s};return n(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),_setImmediate=((e,t)=>e?setImmediate:t?((n,s)=>(_global.addEventListener("message",({source:r,data:a})=>{r===_global&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}}),Object.defineProperties(AxiosError$1,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError$1.from=(e,t,n,s,r,a)=>{const o=Object.create(prototype$1);return utils$1.toFlatObject(e,o,function(l){return l!==Error.prototype},i=>i!=="isAxiosError"),AxiosError$1.call(o,e.message,t,n,s,r),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map(function(r,a){return r=removeBrackets(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData$1(e,t,n){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!utils$1.isUndefined(S[w])});const s=n.metaTokens,r=n.visitor||c,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(r))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(utils$1.isDate(v))return v.toISOString();if(!l&&utils$1.isBlob(v))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(v)||utils$1.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,w,S){let g=v;if(v&&!S&&typeof v=="object"){if(utils$1.endsWith(w,"{}"))w=s?w:w.slice(0,-2),v=JSON.stringify(v);else if(utils$1.isArray(v)&&isFlatArray(v)||(utils$1.isFileList(v)||utils$1.endsWith(w,"[]"))&&(g=utils$1.toArray(v)))return w=removeBrackets(w),g.forEach(function(x,m){!(utils$1.isUndefined(x)||x===null)&&t.append(o===!0?renderKey([w],m,a):o===null?w:w+"[]",u(x))}),!1}return isVisitable(v)?!0:(t.append(renderKey(S,w,a),u(v)),!1)}const d=[],f=Object.assign(predicates,{defaultVisitor:c,convertValue:u,isVisitable});function y(v,w){if(!utils$1.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(v),utils$1.forEach(v,function(g,N){(!(utils$1.isUndefined(g)||g===null)&&r.call(t,g,utils$1.isString(N)?N.trim():N,w,f))===!0&&y(g,w?w.concat(N):[N])}),d.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return y(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData$1(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,n){this._pairs.push([t,n])},prototype.toString=function(t){const n=t?function(s){return t.call(this,s,encode$1)}:encode$1;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,n){if(!t)return e;const s=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,n).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$1.forEach(this.handlers,function(s){s!==null&&t(s)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,t){return toFormData$1(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,a){return platform.isNode&&utils$1.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}function formDataToJSON(e){function t(n,s,r,a){let o=n[a++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),l=a>=n.length;return o=!o&&utils$1.isArray(r)?r.length:o,l?(utils$1.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!i):((!r[o]||!utils$1.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],a)&&utils$1.isArray(r[o])&&(r[o]=arrayToObject(r[o])),!i)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const n={};return utils$1.forEachEntry(e,(s,r)=>{t(parsePropPath(s),r,n,0)}),n}return null}function stringifySafely(e,t,n){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=utils$1.isObject(t);if(a&&utils$1.isHTMLForm(t)&&(t=new FormData(t)),utils$1.isFormData(t))return r?JSON.stringify(formDataToJSON(t)):t;if(utils$1.isArrayBuffer(t)||utils$1.isBuffer(t)||utils$1.isStream(t)||utils$1.isFile(t)||utils$1.isBlob(t)||utils$1.isReadableStream(t))return t;if(utils$1.isArrayBufferView(t))return t.buffer;if(utils$1.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((i=utils$1.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return toFormData$1(i?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const n=this.transitional||defaults.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(utils$1.isResponse(t)||utils$1.isReadableStream(t))return t;if(t&&utils$1.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(i){if(o)throw i.name==="SyntaxError"?AxiosError$1.from(i,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,n,s,r){if(utils$1.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!utils$1.isString(t)){if(utils$1.isString(s))return t.indexOf(s)!==-1;if(utils$1.isRegExp(s))return s.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function buildAccessors(e,t){const n=utils$1.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,a,o){return this[s].call(this,t,r,a,o)},configurable:!0})})}let AxiosHeaders$1=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function a(i,l,u){const c=normalizeHeader(l);if(!c)throw new Error("header name must be a non-empty string");const d=utils$1.findKey(r,c);(!d||r[d]===void 0||u===!0||u===void 0&&r[d]!==!1)&&(r[d||l]=normalizeValue(i))}const o=(i,l)=>utils$1.forEach(i,(u,c)=>a(u,c,l));if(utils$1.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(utils$1.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))o(parseHeaders(t),n);else if(utils$1.isHeaders(t))for(const[i,l]of t.entries())a(l,i,s);else t!=null&&a(n,t,s);return this}get(t,n){if(t=normalizeHeader(t),t){const s=utils$1.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return parseTokens(r);if(utils$1.isFunction(n))return n.call(this,r,s);if(utils$1.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=normalizeHeader(t),t){const s=utils$1.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||matchHeaderValue(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function a(o){if(o=normalizeHeader(o),o){const i=utils$1.findKey(s,o);i&&(!n||matchHeaderValue(s,s[i],i,n))&&(delete s[i],r=!0)}}return utils$1.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!t||matchHeaderValue(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,s={};return utils$1.forEach(this,(r,a)=>{const o=utils$1.findKey(s,a);if(o){n[o]=normalizeValue(r),delete n[a];return}const i=t?formatHeader(a):String(a).trim();i!==a&&delete n[a],n[i]=normalizeValue(r),s[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return utils$1.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&utils$1.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[$internals]=this[$internals]={accessors:{}}).accessors,r=this.prototype;function a(o){const i=normalizeHeader(o);s[i]||(buildAccessors(r,o),s[i]=!0)}return utils$1.isArray(t)?t.forEach(a):a(t),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}}),utils$1.freezeMethods(AxiosHeaders$1);function transformData(e,t){const n=this||defaults,s=t||n,r=AxiosHeaders$1.from(s.headers);let a=s.data;return utils$1.forEach(e,function(i){a=i.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function isCancel$1(e){return!!(e&&e.__CANCEL__)}function CanceledError$1(e,t,n){AxiosError$1.call(this,e??"canceled",AxiosError$1.ERR_CANCELED,t,n),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new AxiosError$1("Request failed with status code "+n.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=s[a];o||(o=u),n[r]=l,s[r]=u;let d=a,f=0;for(;d!==r;)f+=n[d++],d=d%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),u-o<t)return;const y=c&&u-c;return y?Math.round(f*1e3/y):void 0}}function throttle(e,t){let n=0,s=1e3/t,r,a;const o=(u,c=Date.now())=>{n=c,r=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=s?o(u,c):(r=u,a||(a=setTimeout(()=>{a=null,o(r)},s-d)))},()=>r&&o(r)]}const progressEventReducer=(e,t,n=3)=>{let s=0;const r=speedometer(50,250);return throttle(a=>{const o=a.loaded,i=a.lengthComputable?a.total:void 0,l=o-s,u=r(l),c=o<=i;s=o;const d={loaded:o,total:i,progress:i?o/i:void 0,bytes:l,rate:u||void 0,estimated:u&&i&&c?(i-o)/u:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(d)},n)},progressEventDecorator=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},asyncDecorator=e=>(...t)=>utils$1.asap(()=>e(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,platform.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const o=[e+"="+encodeURIComponent(t)];utils$1.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),utils$1.isString(s)&&o.push("path="+s),utils$1.isString(r)&&o.push("domain="+r),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t,n){let s=!isAbsoluteURL(t);return e&&s||n==!1?combineURLs(e,t):t}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig$1(e,t){t=t||{};const n={};function s(u,c,d,f){return utils$1.isPlainObject(u)&&utils$1.isPlainObject(c)?utils$1.merge.call({caseless:f},u,c):utils$1.isPlainObject(c)?utils$1.merge({},c):utils$1.isArray(c)?c.slice():c}function r(u,c,d,f){if(utils$1.isUndefined(c)){if(!utils$1.isUndefined(u))return s(void 0,u,d,f)}else return s(u,c,d,f)}function a(u,c){if(!utils$1.isUndefined(c))return s(void 0,c)}function o(u,c){if(utils$1.isUndefined(c)){if(!utils$1.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function i(u,c,d){if(d in t)return s(u,c);if(d in e)return s(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(u,c,d)=>r(headersToObject(u),headersToObject(c),d,!0)};return utils$1.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||r,f=d(e[c],t[c],c);utils$1.isUndefined(f)&&d!==i||(n[c]=f)}),n}const resolveConfig=e=>{const t=mergeConfig$1({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:i}=t;t.headers=o=AxiosHeaders$1.from(o),t.url=buildURL(buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let l;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(platform.hasStandardBrowserEnv&&(s&&utils$1.isFunction(s)&&(s=s(t)),s||s!==!1&&isURLSameOrigin(t.url))){const u=r&&a&&cookies.read(a);u&&o.set(r,u)}return t},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(n,s){const r=resolveConfig(e);let a=r.data;const o=AxiosHeaders$1.from(r.headers).normalize();let{responseType:i,onUploadProgress:l,onDownloadProgress:u}=r,c,d,f,y,v;function w(){y&&y(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function g(){if(!S)return;const x=AxiosHeaders$1.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),$={data:!i||i==="text"||i==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:x,config:e,request:S};settle(function(k){n(k),w()},function(k){s(k),w()},$),S=null}"onloadend"in S?S.onloadend=g:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(g)},S.onabort=function(){S&&(s(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,S)),S=null)},S.onerror=function(){s(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let m=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const $=r.transitional||transitionalDefaults;r.timeoutErrorMessage&&(m=r.timeoutErrorMessage),s(new AxiosError$1(m,$.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,S)),S=null},a===void 0&&o.setContentType(null),"setRequestHeader"in S&&utils$1.forEach(o.toJSON(),function(m,$){S.setRequestHeader($,m)}),utils$1.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),i&&i!=="json"&&(S.responseType=r.responseType),u&&([f,v]=progressEventReducer(u,!0),S.addEventListener("progress",f)),l&&S.upload&&([d,y]=progressEventReducer(l),S.upload.addEventListener("progress",d),S.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(c=x=>{S&&(s(!x||x.type?new CanceledError$1(null,e,S):x),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const N=parseProtocol(r.url);if(N&&platform.protocols.indexOf(N)===-1){s(new AxiosError$1("Unsupported protocol "+N+":",AxiosError$1.ERR_BAD_REQUEST,e));return}S.send(a||null)})},composeSignals=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const a=function(u){if(!r){r=!0,i();const c=u instanceof Error?u:this.reason;s.abort(c instanceof AxiosError$1?c:new CanceledError$1(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,a(new AxiosError$1(`timeout ${t} of ms exceeded`,AxiosError$1.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:l}=s;return l.unsubscribe=()=>utils$1.asap(i),l}},streamChunk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},readBytes=async function*(e,t){for await(const n of readStream(e))yield*streamChunk(n,t)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},trackStream=(e,t,n,s)=>{const r=readBytes(e,t);let a=0,o,i=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){i(),l.close();return}let d=c.byteLength;if(n){let f=a+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw i(u),u}},cancel(l){return i(l),r.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...t)=>{try{return!!e(...t)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const t=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!resolvers[t]&&(resolvers[t]=utils$1.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new AxiosError$1(`Response type '${t}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,s)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,t)=>{const n=utils$1.toFiniteNumber(e.getContentLength());return n??getBodyLength(t)},fetchAdapter=isFetchSupported&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:a,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=resolveConfig(e);u=u?(u+"").toLowerCase():"text";let y=composeSignals([r,a&&a.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(l&&supportsRequestStream&&n!=="get"&&n!=="head"&&(S=await resolveBodyLength(c,s))!==0){let $=new Request(t,{method:"POST",body:s,duplex:"half"}),E;if(utils$1.isFormData(s)&&(E=$.headers.get("content-type"))&&c.setContentType(E),$.body){const[k,R]=progressEventDecorator(S,progressEventReducer(asyncDecorator(l)));s=trackStream($.body,DEFAULT_CHUNK_SIZE,k,R)}}utils$1.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;v=new Request(t,{...f,signal:y,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:s,duplex:"half",credentials:g?d:void 0});let N=await fetch(v);const x=supportsResponseStream&&(u==="stream"||u==="response");if(supportsResponseStream&&(i||x&&w)){const $={};["status","statusText","headers"].forEach(A=>{$[A]=N[A]});const E=utils$1.toFiniteNumber(N.headers.get("content-length")),[k,R]=i&&progressEventDecorator(E,progressEventReducer(asyncDecorator(i),!0))||[];N=new Response(trackStream(N.body,DEFAULT_CHUNK_SIZE,k,()=>{R&&R(),w&&w()}),$)}u=u||"text";let m=await resolvers[utils$1.findKey(resolvers,u)||"text"](N,e);return!x&&w&&w(),await new Promise(($,E)=>{settle($,E,{data:m,headers:AxiosHeaders$1.from(N.headers),status:N.status,statusText:N.statusText,config:e,request:v})})}catch(g){throw w&&w(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,v),{cause:g.cause||g}):AxiosError$1.from(g,g&&g.code,e,v)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let a=0;a<t;a++){n=e[a];let o;if(s=n,!isResolvedHandle(n)&&(s=knownAdapters[(o=String(n)).toLowerCase()],s===void 0))throw new AxiosError$1(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+a]=s}if(!s){const a=Object.entries(r).map(([i,l])=>`adapter ${i} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(renderReason).join(`
`):" "+renderReason(a[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults.adapter)(e).then(function(s){return throwIfCancellationRequested(e),s.data=transformData.call(e,e.transformResponse,s),s.headers=AxiosHeaders$1.from(s.headers),s},function(s){return isCancel$1(s)||(throwIfCancellationRequested(e),s&&s.response&&(s.response.data=transformData.call(e,e.transformResponse,s.response),s.response.headers=AxiosHeaders$1.from(s.response.headers))),Promise.reject(s)})}const VERSION$1="1.8.3",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,n,s){function r(a,o){return"[Axios v"+VERSION$1+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,i)=>{if(t===!1)throw new AxiosError$1(r(o," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings[o]&&(deprecatedWarnings[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,i):!0}},validators$1.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function assertOptions(e,t,n){if(typeof e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],o=t[a];if(o){const i=e[a],l=i===void 0||o(i,a,e);if(l!==!0)throw new AxiosError$1("option "+a+" must be "+l,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError$1("Unknown option "+a,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mergeConfig$1(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&validator.assertOptions(s,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),r!=null&&(utils$1.isFunction(r)?n.paramsSerializer={serialize:r}:validator.assertOptions(r,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&utils$1.merge(a.common,a[n.method]);a&&utils$1.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),n.headers=AxiosHeaders$1.concat(o,a);const i=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,i.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let c,d=0,f;if(!l){const v=[dispatchRequest.bind(this),void 0];for(v.unshift.apply(v,i),v.push.apply(v,u),f=v.length,c=Promise.resolve(n);d<f;)c=c.then(v[d++],v[d++]);return c}f=i.length;let y=n;for(d=0;d<f;){const v=i[d++],w=i[d++];try{y=v(y)}catch(S){w.call(this,S);break}}try{c=dispatchRequest.call(this,y)}catch(v){return Promise.reject(v)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=mergeConfig$1(this.defaults,t);const n=buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls);return buildURL(n,t.params,t.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(n,s){return this.request(mergeConfig$1(s||{},{method:t,url:n,data:(s||{}).data}))}}),utils$1.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,i){return this.request(mergeConfig$1(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Axios$1.prototype[t]=n(),Axios$1.prototype[t+"Form"]=n(!0)});let CancelToken$1=class Pe{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const o=new Promise(i=>{s.subscribe(i),a=i}).then(r);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,i){s.reason||(s.reason=new CanceledError$1(a,o,i),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Pe(function(r){t=r}),cancel:t}}};function spread$1(e){return function(n){return e.apply(null,n)}}function isAxiosError$1(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([e,t])=>{HttpStatusCode$1[t]=e});function createInstance(e){const t=new Axios$1(e),n=bind(Axios$1.prototype.request,t);return utils$1.extend(n,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return createInstance(mergeConfig$1(e,r))},n}const axios=createInstance(defaults);axios.Axios=Axios$1,axios.CanceledError=CanceledError$1,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel$1,axios.VERSION=VERSION$1,axios.toFormData=toFormData$1,axios.AxiosError=AxiosError$1,axios.Cancel=axios.CanceledError,axios.all=function(t){return Promise.all(t)},axios.spread=spread$1,axios.isAxiosError=isAxiosError$1,axios.mergeConfig=mergeConfig$1,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,baseUrl="/weilin/prompt_ui/api",request=axios.create({baseURL:baseUrl,timeout:3e4,headers:{"Content-Type":"application/json"}});request.interceptors.request.use(e=>e,e=>Promise.reject(e)),request.interceptors.response.use(e=>e.data,e=>Promise.reject(e));const languageApi={getUserSetting:()=>request({url:"/user_init/get_settings",method:"get"}),setUserLanguage:e=>request({url:"/user_init/set_user_lang",method:"post",data:{user_lang:e}}),startPanel:()=>request({url:"/panel/start",method:"post"})},getTagStore=()=>useTagStore(),i18n=createI18n({legacy:!1,locale:"zh_CN",fallbackLocale:"zh_CN",messages:{zh_CN,en_US}}),initLocale=()=>{const e=getTagStore();languageApi.getUserSetting().then(t=>{var s;e.setUserSetting(t.data);const n=((s=e.userSetting)==null?void 0:s.user_lang)||"zh_CN";i18n.global.locale.value=n})},setLocale=e=>{i18n.global.locale.value=e,getTagStore().setUserSetting({user_lang:e})},initI18n=()=>{initLocale()},_sfc_main$e={name:"popmessage",props:{type:{type:String,default:"success"},str:{type:String,default:"登陆成功"}},setup(){const e={warn:{color:"#E6A23C",backgroundColor:"rgb(253, 246, 236)",borderColor:"rgb(250, 236, 216)"},error:{color:"#F56C6C",backgroundColor:"rgb(254, 240, 240)",borderColor:"rgb(253, 226, 226)"},success:{color:"#67C23A",backgroundColor:"rgb(240, 249, 235)",borderColor:"rgb(225, 243, 216)"}},t=ref(!1);return onMounted(()=>{t.value=!0}),{style:e,visible:t}}},_hoisted_1$d={class:"text"};function _sfc_render(e,t,n,s,r,a){return withDirectives((openBlock(),createElementBlock("div",{class:"pop-message",style:normalizeStyle(s.style[n.type])},[createBaseVNode("i",{class:normalizeClass(["icon",[s.style[n.type].icon]])},null,2),createBaseVNode("span",_hoisted_1$d,toDisplayString$1(n.str),1)],4)),[[vShow,s.visible]])}const tip=_export_sfc(_sfc_main$e,[["render",_sfc_render],["__scopeId","data-v-7ee59bf2"]]),div$1=document.createElement("div");document.body.appendChild(div$1);let timer=null;const message=({str:e,type:t,name:n=""})=>{let s=i18n.global.t(e);n.length>0&&(s=i18n.global.t(e,{name:n}));const r=createVNode(tip,{str:s,type:t});render(r,div$1),timer&&clearTimeout(timer),timer=setTimeout(()=>{render(null,div$1)},2e3)},_hoisted_1$c={class:"language-selector-content"},_hoisted_2$b=["onClick"],_hoisted_3$a={class:"lang-name"},_sfc_main$d={__name:"LanguageSwitcher",emits:["close"],setup(e,{expose:t,emit:n}){const{t:s}=useI18n(),r=ref(null),a=useTagStore(),o=computed(()=>a.userSetting.user_lang),i=[{code:"zh_CN",name:"简体中文"},{code:"en_US",name:"English"}],l=n,u=f=>{c(f),l("close",{})},c=f=>{languageApi.setUserLanguage(f).then(y=>{setLocale(f),window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*"),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.setLanguageSuccess"})}).catch(y=>{message({type:"warn",str:"message.setLanguageFailed"})})};return t({setPosition:f=>{if(!r.value)return;const y=r.value;y.style.position="fixed",y.style.top=`${f.bottom}px`}}),(f,y)=>(openBlock(),createElementBlock("div",{class:"language-selector",ref_key:"selectorRef",ref:r},[createBaseVNode("div",_hoisted_1$c,[(openBlock(),createElementBlock(Fragment,null,renderList(i,(v,w)=>createBaseVNode("div",{style:normalizeStyle({"margin-top":w===0?"0":"2px"}),key:v.code,class:normalizeClass(["language-option",{active:o.value===v.code}]),onClick:S=>u(v.code)},[createBaseVNode("span",_hoisted_3$a,toDisplayString$1(v.name),1)],14,_hoisted_2$b)),64))])],512))}},LanguageSwitcher=_export_sfc(_sfc_main$d,[["__scopeId","data-v-b77d604b"]]),prefix$4="weilin_prompt_ui_",_sfc_main$c={__name:"Dialog",props:{modelValue:Boolean,title:{type:String,default:"标题"},closeOnClickOverlay:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=t,r=()=>{s("update:modelValue",!1)},a=()=>{n.closeOnClickOverlay&&r()};return(o,i)=>(openBlock(),createBlock(Teleport,{to:"#weilin_comfyui_tools_prompt_ui_div"},[createVNode(Transition,{name:`${prefix$4}dialog-fade`},{default:withCtx(()=>[e.modelValue?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$4}dialog-overlay`),onClick:a},[createVNode(Transition,{name:`${prefix$4}dialog-slide`},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(`${prefix$4}dialog`),onClick:i[0]||(i[0]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:normalizeClass(`${prefix$4}dialog-header`)},[createBaseVNode("h3",{class:normalizeClass(`${prefix$4}dialog-title`)},toDisplayString$1(e.title),3),createBaseVNode("button",{class:normalizeClass(`${prefix$4}dialog-close`),onClick:r},i[1]||(i[1]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),2)],2),createBaseVNode("div",{class:normalizeClass(`${prefix$4}dialog-content`)},[renderSlot(o.$slots,"default")],2),o.$slots.footer?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$4}dialog-footer`)},[renderSlot(o.$slots,"footer")],2)):createCommentVNode("",!0)],2)]),_:3},8,["name"])],2)):createCommentVNode("",!0)]),_:3},8,["name"])]))}},Dialog=_export_sfc(_sfc_main$c,[["__scopeId","data-v-6eebf609"]]),translatorApi={getTranslateLocal:e=>request({url:"/prompt/local/translate",method:"post",data:{phrase:e}})},openaiApi={updateOpenAiSetting:e=>request({url:"/prompt/openai/update_settings",method:"post",data:e}),addOpenAiSetting:e=>request({url:"/prompt/openai/add_setting",method:"post",data:e}),deleteOpenAiSetting:e=>request({url:"/prompt/openai/delete_setting",method:"post",data:e}),setOpenAiSelect:e=>request({url:"/prompt/openai/set_select",method:"post",data:e}),getOpenAiSetting:()=>request({url:"/prompt/openai/get_settings",method:"get"})},_hoisted_1$b={class:"settings-content"},_hoisted_2$a={class:"settings-sidebar"},_hoisted_3$9={class:"settings-main"},_hoisted_4$9={key:0},_hoisted_5$8={class:"translator-settings"},_hoisted_6$8={class:"setting-item"},_hoisted_7$8={value:"auto"},_hoisted_8$8={value:"chinese_simplified"},_hoisted_9$8={value:"english"},_hoisted_10$7={class:"setting-item"},_hoisted_11$7={value:"chinese_simplified"},_hoisted_12$6={value:"english"},_hoisted_13$6={key:1},_hoisted_14$5={class:"floating-ball-settings"},_hoisted_15$5={class:"setting-item"},_hoisted_16$5={class:"setting-item"},_hoisted_17$5=["placeholder"],_hoisted_18$4={class:"setting-item"},_hoisted_19$4=["placeholder"],_hoisted_20$4={key:2},_hoisted_21$4={class:"floating-ball-settings"},_hoisted_22$4={class:"setting-item"},_hoisted_23$4={class:"setting-item"},_hoisted_24$4={class:"setting-item"},_hoisted_25$4={class:"setting-item"},_hoisted_26$4={class:"setting-item"},_hoisted_27$4={key:3},_hoisted_28$4={class:"openai-settings"},_hoisted_29$4={class:"setting-item"},_hoisted_30$4=["value"],_hoisted_31$4={class:"config-list"},_hoisted_32$4={class:"config-header"},_hoisted_33$4={class:"config-actions"},_hoisted_34$4=["onClick"],_hoisted_35$4=["onClick"],_hoisted_36$4={key:0,class:"config-form"},_hoisted_37$4={class:"form-group"},_hoisted_38$4=["placeholder"],_hoisted_39$4={class:"form-group"},_hoisted_40$4=["placeholder"],_hoisted_41$4={class:"form-group"},_hoisted_42$4=["placeholder"],_hoisted_43$4={class:"form-actions"},_hoisted_44$4=["onClick"],_hoisted_45$4={key:1,class:"config-details"},_hoisted_46$3={key:0,class:"config-form"},_hoisted_47$3={class:"form-group"},_hoisted_48$3=["placeholder"],_hoisted_49$3={class:"form-group"},_hoisted_50$3=["placeholder"],_hoisted_51$3={class:"form-group"},_hoisted_52$3=["placeholder"],_hoisted_53$3={class:"form-actions"},_hoisted_54$3={key:4},_hoisted_55$3={class:"sponsor-me-settings"},_hoisted_56$2={key:5},_hoisted_57$2={class:"start-panel-settings"},_sfc_main$b={__name:"setting_dialog",setup(e,{expose:t}){const{t:n}=useI18n(),s=ref(!1),r=ref("translator"),a=ref("baidu"),o=ref(""),i=ref(localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english"),l=ref(localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified"),u=ref(localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1),c=ref(localStorage.getItem("weilin_prompt_ui_floatingBallSize")||66),d=ref(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true"),f=ref(localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true"),y=ref(localStorage.getItem("weilin_prompt_ui_period_conversion")==="true"),v=ref(localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true"),w=ref(localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true"),S=ref(localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true"),g=ref(0),N=ref([]),x=ref(!1),m=ref({api_key:"",base_url:"https://api.openai.com/v1",model:""}),$=ref(!1),E=ref(-1),k=j=>{r.value=j},R=()=>{localStorage.setItem("weilin_prompt_ui_sourceLanguage",i.value),localStorage.setItem("weilin_prompt_ui_targetLanguage",l.value),window.parent.postMessage({type:"weilin_prompt_ui_translate_setting"},"*"),message({type:"success",str:"message.saveSuccess"})},A=()=>{if(u.value<1||c.value<66){message({type:"warn",str:"message.error"});return}localStorage.setItem("weilin_prompt_ui_floatingBallEnabled",d.value),localStorage.setItem("weilin_prompt_ui_floatingBallCount",u.value),localStorage.setItem("weilin_prompt_ui_floatingBallSize",c.value),window.parent.postMessage({type:"weilin_prompt_ui_floating_ball_setting"},"*"),message({type:"success",str:"message.saveSuccess"})},ne=()=>{localStorage.setItem("weilin_prompt_ui_comma_conversion",f.value),localStorage.setItem("weilin_prompt_ui_period_conversion",y.value),localStorage.setItem("weilin_prompt_ui_bracket_conversion",v.value),localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion",w.value),localStorage.setItem("weilin_prompt_ui_underscore_to_bracket",S.value),message({type:"success",str:"message.saveSuccess"})},se=()=>{languageApi.getUserSetting().then(j=>{N.value=j.data.openai_settings,g.value=j.data.select_openai})},X=()=>{m.value={api_key:"",base_url:"https://api.openai.com/v1",model:""},$.value=!1,x.value=!0},ue=j=>{openaiApi.deleteOpenAiSetting({index:j}).then(V=>{se(),message({type:"success",str:"message.deleteSuccess"})}).catch(V=>{message({type:"warn",str:"message.networkError"})})},ie=j=>{E.value===j?E.value=-1:(m.value={...N.value[j]},E.value=j)},ye=j=>{openaiApi.updateOpenAiSetting({index:j,...m.value}).then(V=>{se(),E.value=-1,message({type:"success",str:"message.saveSuccess"})}).catch(V=>{message({type:"warn",str:"message.networkError"})})},me=()=>{openaiApi.addOpenAiSetting({...m.value}).then(j=>{se(),x.value=!1,E.value=-1,message({type:"success",str:"message.saveSuccess"})}).catch(j=>{message({type:"warn",str:"message.networkError"})})},ce=()=>{x.value=!1,E.value=-1},z=()=>{openaiApi.setOpenAiSelect({index:g.value}).then(j=>{message({type:"success",str:"message.saveSuccess"})}).catch(j=>{message({type:"warn",str:"message.networkError"})})},G=()=>{window.open("https://afdian.com/a/weilin9999","_blank")},ge=()=>{languageApi.startPanel().then(j=>{message({type:"success",str:"message.startPanelSuccess"})}).catch(j=>{message({type:"warn",str:"message.startPanelFailed"})})};return onMounted(()=>{se()}),t({open:()=>{r.value="translator",a.value="baidu",o.value="",i.value=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",l.value=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified",u.value=localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1,c.value=localStorage.getItem("weilin_prompt_ui_floatingBallSize")||66,d.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true",f.value=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",y.value=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",v.value=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",w.value=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",S.value=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true",s.value=!0}}),(j,V)=>(openBlock(),createBlock(Dialog,{modelValue:s.value,"onUpdate:modelValue":V[23]||(V[23]=F=>s.value=F),title:unref(n)("promptBox.settings.title")},{footer:withCtx(()=>[createBaseVNode("button",{onClick:V[22]||(V[22]=F=>s.value=!1)},toDisplayString$1(unref(n)("promptBox.settings.close")),1)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("ul",null,[createBaseVNode("li",{class:normalizeClass({active:r.value==="translator"}),onClick:V[0]||(V[0]=F=>k("translator"))},toDisplayString$1(unref(n)("promptBox.settings.translator")),3),createBaseVNode("li",{class:normalizeClass({active:r.value==="setting_floating_ball"}),onClick:V[1]||(V[1]=F=>k("setting_floating_ball"))},toDisplayString$1(unref(n)("promptBox.settings.setting_floating_ball")),3),createBaseVNode("li",{class:normalizeClass({active:r.value==="setting_prompt_box"}),onClick:V[2]||(V[2]=F=>k("setting_prompt_box"))},toDisplayString$1(unref(n)("promptBox.settings.setting_prompt_box")),3),createBaseVNode("li",{class:normalizeClass({active:r.value==="setting_openai_box"}),onClick:V[3]||(V[3]=F=>k("setting_openai_box"))},toDisplayString$1(unref(n)("promptBox.settings.setting_openai_box")),3),createBaseVNode("li",{class:normalizeClass({active:r.value==="setting_sponsor_me"}),onClick:V[4]||(V[4]=F=>k("setting_sponsor_me"))},toDisplayString$1(unref(n)("promptBox.settings.setting_sponsor_me")),3)])]),createBaseVNode("div",_hoisted_3$9,[r.value==="translator"?(openBlock(),createElementBlock("div",_hoisted_4$9,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.translator")),1),createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$8,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.sourceLanguage")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":V[5]||(V[5]=F=>i.value=F)},[createBaseVNode("option",_hoisted_7$8,toDisplayString$1(unref(n)("promptBox.settings.auto_detect")),1),createBaseVNode("option",_hoisted_8$8,toDisplayString$1(unref(n)("promptBox.settings.chinese_simplified")),1),createBaseVNode("option",_hoisted_9$8,toDisplayString$1(unref(n)("promptBox.settings.english")),1)],512),[[vModelSelect,i.value]])]),createBaseVNode("div",_hoisted_10$7,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.targetLanguage")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":V[6]||(V[6]=F=>l.value=F)},[createBaseVNode("option",_hoisted_11$7,toDisplayString$1(unref(n)("promptBox.settings.chinese_simplified")),1),createBaseVNode("option",_hoisted_12$6,toDisplayString$1(unref(n)("promptBox.settings.english")),1)],512),[[vModelSelect,l.value]])]),createBaseVNode("button",{class:"save-button",onClick:R},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),r.value==="setting_floating_ball"?(openBlock(),createElementBlock("div",_hoisted_13$6,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_floating_ball")),1),createBaseVNode("div",_hoisted_14$5,[createBaseVNode("div",_hoisted_15$5,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":V[7]||(V[7]=F=>d.value=F)},null,512),[[vModelCheckbox,d.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableFloatingBall")),1)])]),createBaseVNode("div",_hoisted_16$5,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.floatingBallCount")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":V[8]||(V[8]=F=>u.value=F),min:"1",max:"20",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.floatingBallCountPlaceholder")},null,8,_hoisted_17$5),[[vModelText,u.value,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_18$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.floatingBallSize")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":V[9]||(V[9]=F=>c.value=F),min:"66",max:"500",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.floatingBallSizePlaceholder")},null,8,_hoisted_19$4),[[vModelText,c.value,void 0,{number:!0}]])]),createBaseVNode("button",{class:"save-button",onClick:A},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),r.value==="setting_prompt_box"?(openBlock(),createElementBlock("div",_hoisted_20$4,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_prompt_box")),1),createBaseVNode("div",_hoisted_21$4,[createBaseVNode("div",_hoisted_22$4,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":V[10]||(V[10]=F=>f.value=F)},null,512),[[vModelCheckbox,f.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableCommaConversion")),1)])]),createBaseVNode("div",_hoisted_23$4,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":V[11]||(V[11]=F=>y.value=F)},null,512),[[vModelCheckbox,y.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enablePeriodConversion")),1)])]),createBaseVNode("div",_hoisted_24$4,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":V[12]||(V[12]=F=>v.value=F)},null,512),[[vModelCheckbox,v.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableBracketConversion")),1)])]),createBaseVNode("div",_hoisted_25$4,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":V[13]||(V[13]=F=>w.value=F)},null,512),[[vModelCheckbox,w.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableAngleBracketConversion")),1)])]),createBaseVNode("div",_hoisted_26$4,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":V[14]||(V[14]=F=>S.value=F)},null,512),[[vModelCheckbox,S.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableUnderscoreToBracket")),1)])]),createBaseVNode("button",{class:"save-button",onClick:ne},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),r.value==="setting_openai_box"?(openBlock(),createElementBlock("div",_hoisted_27$4,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.openaiSettings")),1),createBaseVNode("div",_hoisted_28$4,[createBaseVNode("div",_hoisted_29$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.selectedOpenaiConfig")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":V[15]||(V[15]=F=>g.value=F),onChange:z},[(openBlock(!0),createElementBlock(Fragment,null,renderList(N.value,(F,te)=>(openBlock(),createElementBlock("option",{key:te,value:te},toDisplayString$1(F.model)+" ("+toDisplayString$1(F.base_url)+") ",9,_hoisted_30$4))),128))],544),[[vModelSelect,g.value]])]),createBaseVNode("div",_hoisted_31$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(N.value,(F,te)=>(openBlock(),createElementBlock("div",{key:te,class:"config-item"},[createBaseVNode("div",_hoisted_32$4,[createBaseVNode("span",null,toDisplayString$1(F.model),1),createBaseVNode("div",_hoisted_33$4,[createBaseVNode("button",{onClick:ae=>ie(te)},toDisplayString$1(E.value===te?unref(n)("promptBox.settings.cancel"):unref(n)("promptBox.settings.edit")),9,_hoisted_34$4),createBaseVNode("button",{onClick:ae=>ue(te)},toDisplayString$1(unref(n)("promptBox.settings.delete")),9,_hoisted_35$4)])]),E.value===te?(openBlock(),createElementBlock("div",_hoisted_36$4,[createBaseVNode("div",_hoisted_37$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":V[16]||(V[16]=ae=>m.value.api_key=ae),placeholder:unref(n)("promptBox.settings.openai_api_key_placeholder")},null,8,_hoisted_38$4),[[vModelText,m.value.api_key]])]),createBaseVNode("div",_hoisted_39$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":V[17]||(V[17]=ae=>m.value.base_url=ae),placeholder:unref(n)("promptBox.settings.openai_base_url_placeholder")},null,8,_hoisted_40$4),[[vModelText,m.value.base_url]])]),createBaseVNode("div",_hoisted_41$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_model"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":V[18]||(V[18]=ae=>m.value.model=ae),placeholder:unref(n)("promptBox.settings.openai_model_placeholder")},null,8,_hoisted_42$4),[[vModelText,m.value.model]])]),createBaseVNode("div",_hoisted_43$4,[createBaseVNode("button",{onClick:ae=>ye(te)},toDisplayString$1(unref(n)("promptBox.settings.save")),9,_hoisted_44$4)])])):(openBlock(),createElementBlock("div",_hoisted_45$4,[createBaseVNode("div",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+": "+toDisplayString$1(F.api_key?"******":unref(n)("promptBox.settings.not_set")),1),createBaseVNode("div",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+": "+toDisplayString$1(F.base_url),1)]))]))),128))]),x.value?(openBlock(),createElementBlock("div",_hoisted_46$3,[createBaseVNode("div",_hoisted_47$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":V[19]||(V[19]=F=>m.value.api_key=F),placeholder:unref(n)("promptBox.settings.openai_api_key_placeholder")},null,8,_hoisted_48$3),[[vModelText,m.value.api_key]])]),createBaseVNode("div",_hoisted_49$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":V[20]||(V[20]=F=>m.value.base_url=F),placeholder:unref(n)("promptBox.settings.openai_base_url_placeholder")},null,8,_hoisted_50$3),[[vModelText,m.value.base_url]])]),createBaseVNode("div",_hoisted_51$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_model"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":V[21]||(V[21]=F=>m.value.model=F),placeholder:unref(n)("promptBox.settings.openai_model_placeholder")},null,8,_hoisted_52$3),[[vModelText,m.value.model]])]),createBaseVNode("div",_hoisted_53$3,[createBaseVNode("button",{onClick:ce},toDisplayString$1(unref(n)("promptBox.settings.cancel")),1),createBaseVNode("button",{onClick:me},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),x.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"add-button",onClick:X},toDisplayString$1(unref(n)("promptBox.settings.addNewConfig")),1))])])):createCommentVNode("",!0),r.value==="setting_sponsor_me"?(openBlock(),createElementBlock("div",_hoisted_54$3,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_sponsor_me")),1),createBaseVNode("div",_hoisted_55$3,[createBaseVNode("h1",null,toDisplayString$1(unref(n)("promptBox.settings.sponsorMeTip")),1),createBaseVNode("h2",null,toDisplayString$1(unref(n)("promptBox.settings.sponsorMeLink")),1),createBaseVNode("button",{class:"sponsor-me-button",onClick:G},toDisplayString$1(unref(n)("promptBox.settings.sponsorMe")),1)])])):createCommentVNode("",!0),r.value==="setting_start_panel"?(openBlock(),createElementBlock("div",_hoisted_56$2,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_start_panel")),1),createBaseVNode("div",_hoisted_57$2,[createBaseVNode("h4",null,toDisplayString$1(unref(n)("promptBox.settings.startPanelTip")),1),createBaseVNode("button",{class:"start-panel-button",onClick:ge},toDisplayString$1(unref(n)("promptBox.settings.startPanel")),1)])])):createCommentVNode("",!0)])])]),_:1},8,["modelValue","title"]))}},SettingDialog=_export_sfc(_sfc_main$b,[["__scopeId","data-v-b09d2688"]]),_hoisted_1$a=["title"],_hoisted_2$9={class:"switch-icon"},_hoisted_3$8={key:0,class:"moon",viewBox:"0 0 24 24"},_hoisted_4$8={key:1,class:"sun",viewBox:"0 0 24 24"},STORAGE_PREFIX$3="weilin_tools_",_sfc_main$a={__name:"ThemeSwitch",setup(e){const{t}=useI18n(),n=`${STORAGE_PREFIX$3}theme`,s=ref(localStorage.getItem(n)==="dark"),r=()=>{s.value=!s.value;const a=document.getElementById("weilin_comfyui_tools_prompt_ui_div");a&&a.setAttribute("data-theme",s.value?"dark":"light"),localStorage.setItem(n,s.value?"dark":"light")};return(a,o)=>(openBlock(),createElementBlock("button",{class:"theme-switch",onClick:r,title:unref(t)("theme.toggle")},[createBaseVNode("div",_hoisted_2$9,[s.value?(openBlock(),createElementBlock("svg",_hoisted_3$8,o[0]||(o[0]=[createBaseVNode("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_4$8,o[1]||(o[1]=[createBaseVNode("circle",{cx:"12",cy:"12",r:"5"},null,-1),createBaseVNode("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"},null,-1)])))]),renderSlot(a.$slots,"default",{isDark:s.value},void 0,!0)],8,_hoisted_1$a))}},ThemeSwitch=_export_sfc(_sfc_main$a,[["__scopeId","data-v-e8b2125f"]]),STORAGE_PREFIX$2="weilin_tools_",tagsApi={getTagsList:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/get_group_tags",method:"get",params:{...e,lang:t}})},addPrimaryCategory:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/add_new_f_group",method:"post",data:{...e,lang:t}})},editPrimaryCategory:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/edit_f_group",method:"post",data:{...e,lang:t}})},deletePrimaryCategory:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/delete_f_group",method:"post",data:{...e,lang:t}})},addSubCategory:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/add_new_s_group",method:"post",data:{...e,lang:t}})},editSubCategory:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/edit_s_group",method:"post",data:{...e,lang:t}})},deleteSubCategory:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/delete_s_group",method:"post",data:{...e,lang:t}})},addNewTags:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/new_tags",method:"post",data:{...e,lang:t}})},editTags:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/edit_tags",method:"post",data:{...e,lang:t}})},deleteTags:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/delete_tags",method:"post",data:{...e,lang:t}})},batchDeleteTags:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/batch_delete_tags",method:"post",data:{...e,lang:t}})},moveTag:e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$2}userLocale`)||"zh_CN";return request({url:"/prompt/move_tag",method:"post",data:{...e,lang:t}})}},_hoisted_1$9={class:"tag-manager"},_hoisted_2$8={class:"toolbar"},_hoisted_3$7={class:"search-container"},_hoisted_4$7=["placeholder"],_hoisted_5$7={key:0,class:"no-results"},_hoisted_6$7=["onClick"],_hoisted_7$7={class:"result-content"},_hoisted_8$7={class:"result-text"},_hoisted_9$7={class:"result-path"},_hoisted_10$6={class:"category-tabs"},_hoisted_11$6={class:"tabs-wrapper primary-tabs"},_hoisted_12$5={class:"tabs-scroll"},_hoisted_13$5=["onClick"],_hoisted_14$4={class:"tab-text"},_hoisted_15$4={class:"tab-actions"},_hoisted_16$4=["onClick"],_hoisted_17$4=["onClick"],_hoisted_18$3={key:0,class:"tabs-wrapper group-tabs"},_hoisted_19$3={class:"tabs-scroll"},_hoisted_20$3=["onClick"],_hoisted_21$3={class:"tab-text"},_hoisted_22$3={class:"tab-actions"},_hoisted_23$3=["onClick"],_hoisted_24$3=["onClick"],_hoisted_25$3={class:"tags-content"},_hoisted_26$3={class:"tags-header"},_hoisted_27$3={class:"tags-title"},_hoisted_28$3={class:"tags-actions"},_hoisted_29$3=["disabled"],_hoisted_30$3=["disabled"],_hoisted_31$3=["disabled"],_hoisted_32$3={key:0,class:"tags-grid"},_hoisted_33$3=["onClick"],_hoisted_34$3={class:"tag-actions"},_hoisted_35$3=["onClick","title"],_hoisted_36$3=["onClick","title"],_hoisted_37$3=["onClick","title"],_hoisted_38$3={class:"tag-desc"},_hoisted_39$3=["value"],_hoisted_40$3={key:0,class:"dialog-overlay"},_hoisted_41$3={class:"dialog-header"},_hoisted_42$3={class:"dialog-body"},_hoisted_43$3={key:0,class:"form-group"},_hoisted_44$3=["placeholder"],_hoisted_45$3={key:1,class:"form-group"},_hoisted_46$2=["placeholder"],_hoisted_47$2={class:"form-group"},_hoisted_48$2={class:"color-picker"},_hoisted_49$2={class:"color-controls"},_hoisted_50$2={class:"alpha-control"},_hoisted_51$2={class:"alpha-value"},_hoisted_52$2={class:"dialog-footer"},_hoisted_53$2={key:1,class:"dialog-overlay"},_hoisted_54$2={class:"dialog-header"},_hoisted_55$2={class:"dialog-body"},_hoisted_56$1={class:"form-group"},_hoisted_57$1=["placeholder"],_hoisted_58$1={class:"form-group"},_hoisted_59$1=["placeholder"],_hoisted_60$1={class:"form-group"},_hoisted_61$1={class:"color-picker"},_hoisted_62$1={class:"color-controls"},_hoisted_63$1={class:"alpha-control"},_hoisted_64$1={class:"alpha-value"},_hoisted_65$1={class:"dialog-footer"},_hoisted_66$1={key:2,class:"dialog-overlay"},_hoisted_67$1={class:"dialog-header"},_hoisted_68$1={class:"dialog-body"},_hoisted_69$1={class:"confirm-message"},_hoisted_70={class:"dialog-footer"},_hoisted_71={key:3,class:"dialog-overlay"},_hoisted_72={class:"dialog-content"},_hoisted_73={class:"dialog-header"},_hoisted_74={class:"dialog-body"},_hoisted_75={class:"form-group"},_hoisted_76=["value"],_hoisted_77={class:"form-group"},_hoisted_78={class:"radio-group"},_hoisted_79={class:"dialog-footer"},_sfc_main$9={__name:"tag_index",props:{tagManager:{type:String,default:"prompt"}},setup(e){const t=useTagStore(),{t:n}=useI18n(),s=ref([]),r=ref(null),a=ref(null),o=ref(!1),i=ref(!1),l=ref(!1),u=ref(!1),c=ref("primary"),d=ref([]),f=ref(!1),y=ref(!1),v=ref(null),w=ref("before"),S=ref(null),g=e,N=ref({name:"",color:"rgba(255, 123, 2, .4)",id_index:"",groups:[]}),x=ref({name:"",id_index:"",color:"rgba(255, 123, 2, .4)",tags:[]}),m=ref({text:"",desc:"",id_index:"",color:"rgba(255, 123, 2, .4)"}),$=H=>{const K=H.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(K){const[,J,be,ke,we]=K,Ce=`#${((1<<24)+(parseInt(J)<<16)+(parseInt(be)<<8)+parseInt(ke)).toString(16).slice(1)}`,Oe=we?Math.round(parseFloat(we)*100):100;return{hex:Ce,alpha:Oe}}return{hex:"#FFFFFF",alpha:100}},E=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*")},k=async()=>{try{const H=await tagsApi.getTagsList();if(t.setCategories(H.data),s.value=t.categories,a.value){const K=s.value.flatMap(J=>J.groups).find(J=>J.id_index===a.value.id_index);K?a.value=K:a.value=null}if(r.value){const K=s.value.find(J=>J.id_index===r.value.id_index);K?r.value=K:r.value=null}}catch(H){console.error("获取标签列表失败:",H)}};onMounted(()=>{$e(),window.addEventListener("click",Ae),window.addEventListener("resize",$e),window.addEventListener("message",Be),window.addEventListener("keydown",Re),nextTick(()=>{k()})}),onBeforeUnmount(()=>{window.removeEventListener("click",Ae),window.removeEventListener("resize",$e),window.removeEventListener("message",Be),window.removeEventListener("keydown",Re)});const R=computed(()=>a.value?a.value.tags||[]:[]),A=H=>{r.value=H,a.value=null,f.value=!1,d.value=[]},ne=H=>{a.value=H,f.value=!1,d.value=[]},se=H=>{c.value=H,l.value=!1,j.value=$("rgba(255, 123, 2, .4)"),H==="primary"?N.value={name:"",color:"rgba(255, 123, 2, .4)",groups:[]}:x.value={name:"",color:"rgba(255, 123, 2, .4)",tags:[]},o.value=!0},X=H=>{l.value=!0,c.value="primary",N.value={...H},j.value=$(H.color),o.value=!0},ue=H=>{l.value=!0,c.value="group",x.value={...H},j.value=$(H.color),o.value=!0},ie=()=>{if(c.value==="primary"){if(!N.value.name){alert(n("tagManager.categoryNameRequired"));return}l.value?s.value.findIndex(K=>K.id_index===N.value.id_index)!==-1&&tagsApi.editPrimaryCategory({id_index:N.value.id_index,name:N.value.name,color:N.value.color}).then(K=>{K.code===200?(E(),message({type:"success",str:"message.editSuccess"})):K.code===201?message({type:"error",str:"message.editNameExist"}):message({type:"error",str:"message.editFailed"})}).catch(K=>{message({type:"warn",str:"message.networkError"})}):tagsApi.addPrimaryCategory({name:N.value.name,color:N.value.color}).then(H=>{H.code===200?(E(),message({type:"success",str:"message.addSuccess"})):H.code===201?message({type:"error",str:"message.editNameExist"}):message({type:"error",str:"message.addFailed"})}).catch(H=>{message({type:"warn",str:"message.networkError"})})}else{if(!x.value.name){alert(n("tagManager.groupNameRequired"));return}l.value?tagsApi.editSubCategory({id_index:x.value.id_index,name:x.value.name,color:x.value.color}).then(H=>{H.code===200?(E(),message({type:"success",str:"message.editSuccess"})):H.code===201?message({type:"error",str:"message.editNameExist"}):message({type:"error",str:"message.editFailed"})}).catch(H=>{message({type:"warn",str:"message.networkError"})}):tagsApi.addSubCategory({name:x.value.name,color:x.value.color,key:r.value.id_index}).then(H=>{H.code===200?(E(),message({type:"success",str:"message.addSuccess"})):H.code===201?message({type:"error",str:"message.editNameExist"}):message({type:"error",str:"message.editFailed"})}).catch(H=>{message({type:"warn",str:"message.networkError"})})}me()},ye=()=>l.value?c.value==="primary"?n("tagManager.editPrimaryCategory"):n("tagManager.editSubCategory"):c.value==="primary"?n("tagManager.addPrimaryCategory"):n("tagManager.addSubCategory"),me=()=>{o.value=!1,N.value={id:"",name:"",parentId:null,subCategories:[],backgroundColor:"transparent"},j.value={hex:"#FFFFFF",alpha:0}};ref([]);const ce=()=>{a.value&&(u.value=!1,m.value={id:"",text:"",desc:"",categoryId:a.value.id,backgroundColor:x.value.color},j.value=$(x.value.color),i.value=!0)},z=H=>{u.value=!0,m.value={...H},j.value=$(H.color),i.value=!0},G=()=>{if(!m.value.text||!m.value.desc){alert(n("tagManager.textRequired"));return}u.value&&a.value?tagsApi.editTags({id_index:m.value.id_index,text:m.value.text,desc:m.value.desc,color:m.value.color}).then(H=>{E(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.editSuccess"})}).catch(H=>{message({type:"warn",str:"message.networkError"})}):a.value&&tagsApi.addNewTags({id_index:a.value.id_index,text:m.value.text,desc:m.value.desc,color:m.value.color?m.value.color:"rgba(255, 123, 2, .4)"}).then(H=>{E(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.addSuccess"})}).catch(H=>{message({type:"warn",str:"message.networkError"})}),ge()},ge=()=>{i.value=!1,m.value={text:"",desc:"",color:"rgba(255, 123, 2, .4)"},u.value=!1},j=ref({hex:"#FFFFFF",alpha:100}),V=computed(()=>te(j.value.hex,j.value.alpha)),F=()=>{const H=te(j.value.hex,j.value.alpha);o.value?c.value==="primary"?N.value.color=H:x.value.color=H:i.value&&(m.value.color=H)},te=(H,K)=>{const J=parseInt(H.slice(1,3),16),be=parseInt(H.slice(3,5),16),ke=parseInt(H.slice(5,7),16);return`rgba(${J}, ${be}, ${ke}, ${K/100})`},ae=ref(""),de=ref([]),Z=ref(!1),ee=()=>{Z.value=ae.value.trim().length>0;const H=ae.value.trim().toLowerCase();if(!H){de.value=[];return}const K=[];s.value.forEach(J=>{var ke;const be=String((J==null?void 0:J.name)||"");be&&be.toLowerCase().includes(H)&&K.push({type:"category",item:J,path:[be]}),(ke=J.groups)==null||ke.forEach(we=>{var Oe;const Ce=String((we==null?void 0:we.name)||"");Ce&&Ce.toLowerCase().includes(H)&&K.push({type:"group",item:we,path:[be,Ce]}),(Oe=we.tags)==null||Oe.forEach(D=>{const O=String((D==null?void 0:D.text)||""),W=String((D==null?void 0:D.desc)||"");(O&&O.toLowerCase().includes(H)||W&&W.toLowerCase().includes(H))&&K.push({type:"tag",item:D,path:[be,Ce,O]})})})}),de.value=K};watch(ae,()=>{ee()});const he=H=>{var K;if(!(!(H!=null&&H.type)||!(H!=null&&H.item))){if(H.type==="category")H.item&&A(H.item);else if(H.type==="group"){const J=s.value.find(be=>{var ke;return(ke=be==null?void 0:be.groups)==null?void 0:ke.some(we=>{var Ce;return String(we==null?void 0:we.name)===String((Ce=H.item)==null?void 0:Ce.name)})});J&&H.item&&(A(J),ne(H.item))}else if(H.type==="tag"){const J=s.value.find(be=>{var ke;return(ke=be==null?void 0:be.groups)==null?void 0:ke.some(we=>{var Ce;return(Ce=we==null?void 0:we.tags)==null?void 0:Ce.some(Oe=>{var D;return String(Oe==null?void 0:Oe.text)===String((D=H.item)==null?void 0:D.text)})})});if(J){const be=(K=J.groups)==null?void 0:K.find(ke=>{var we;return(we=ke==null?void 0:ke.tags)==null?void 0:we.some(Ce=>{var Oe;return String(Ce==null?void 0:Ce.text)===String((Oe=H.item)==null?void 0:Oe.text)})});be&&(A(J),ne(be))}}ae.value=""}},Ee=H=>{if(!H||H==="transparent")return"var(--primary-text)";let K,J,be,ke=1;if(H.startsWith("rgba")){const Ce=H.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);Ce&&([,K,J,be,ke]=Ce.map(Number))}else if(H.startsWith("rgb")){const Ce=H.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);Ce&&([,K,J,be]=Ce.map(Number))}return ke<.5?"var(--primary-text)":(K*299+J*587+be*114)/1e3>128?"#000000":"#ffffff"},Le=H=>{g.tagManager==="prompt"&&window.postMessage({type:"weilin_prompt_ui_insertTag",tagText:H.text},"*")},C=ref(!1),T=ref(""),M=ref(null),Q=computed(()=>{if(!M.value)return"";switch(T.value){case"category":return n("tagManager.deletePrimaryCategoryConfirm",{name:M.value.name});case"group":return n("tagManager.deleteGroupConfirm",{name:M.value.name});case"tag":return n("tagManager.deleteTagConfirm",{name:M.value.text});case"deleteSelected":return n("tagManager.confirmDeleteSelected");default:return""}}),U=H=>{T.value="category",M.value=H,C.value=!0},Y=H=>{T.value="group",M.value=H,C.value=!0},_=H=>{T.value="tag",M.value=H,C.value=!0},b=async()=>{try{switch(T.value){case"category":tagsApi.deletePrimaryCategory({id_index:M.value.id_index}).then(H=>{E(),message({type:"success",str:"message.deleteSuccess"})}).catch(H=>{message({type:"warn",str:"message.networkError"})});break;case"group":tagsApi.deleteSubCategory({id_index:M.value.id_index}).then(H=>{E(),message({type:"success",str:"message.deleteSuccess"})}).catch(H=>{message({type:"warn",str:"message.networkError"})});break;case"tag":tagsApi.deleteTags({id_index:M.value.id_index}).then(H=>{E(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.deleteSuccess"})}).catch(H=>{message({type:"warn",str:"message.networkError"})});break;case"deleteSelected":tagsApi.batchDeleteTags({id_indexs:d.value}).then(H=>{E(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.deleteSuccess"})}).catch(H=>{message({type:"warn",str:"message.networkError"})});break}le()}catch(H){console.error("删除失败:",H)}},B=H=>{S.value=H.id_index,y.value=!0},L=async()=>{try{tagsApi.moveTag({id_index:S.value,reference_id_index:v.value,position:w.value}).then(H=>{E(),y.value=!1,message({type:"success",str:n("message.moveSuccess")})}).catch(H=>{message({type:"error",str:n("message.moveFailed")})})}catch(H){console.error("移动标签失败:",H),message({type:"error",str:n("message.moveFailed")})}},re=computed(()=>a.value.tags.filter(H=>H.id_index!==S.value)),q=()=>{f.value=!0},I=()=>{f.value=!1,d.value=[]},P=()=>{d.value.length!==0&&(T.value="deleteSelected",M.value={},C.value=!0)},le=()=>{C.value=!1,T.value="",M.value=null},_e=async()=>{try{await E()}catch(H){console.error("刷新标签列表失败:",H)}},ve=ref(),Ne=ref({}),$e=()=>{if(ve.value){const H=ve.value.getBoundingClientRect();Ne.value={position:"fixed",top:`${H.bottom}px`,left:`${H.left}px`,width:`${H.width}px`,zIndex:1e3}}},Be=H=>{H.data.type==="weilin_prompt_ui_window_change_tagManager_position"||H.data.type==="weilin_prompt_ui_window_change_tagManager_size"||H.data.type==="weilin_prompt_ui_window_change_tagManager_scroll"||H.data.type==="weilin_prompt_ui_window_change_promptBox_position"||H.data.type==="weilin_prompt_ui_window_change_promptBox_size"||H.data.type==="weilin_prompt_ui_window_change_promptBox_scroll"?$e():H.data.type==="weilin_prompt_ui_window_change_click_outside"||H.data.type==="weilin_prompt_ui_tag_manager_refresh"&&k()},Ae=H=>{Z.value&&!ve.value.contains(H.target)&&(Z.value=!1)},Re=H=>{H.key==="Escape"&&(Z.value=!1)};return(H,K)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("button",{class:"refresh-btn",onClick:_e},K[21]||(K[21]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),createBaseVNode("div",_hoisted_3$7,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":K[0]||(K[0]=J=>ae.value=J),placeholder:unref(n)("tagManager.searchPlaceholder"),class:"search-input",ref_key:"searchInput",ref:ve,onInput:K[1]||(K[1]=J=>Z.value=ae.value.trim().length>0)},null,40,_hoisted_4$7),[[vModelText,ae.value]]),Z.value?(openBlock(),createElementBlock("div",{key:0,class:"search-results",style:normalizeStyle(Ne.value)},[de.value.length===0?(openBlock(),createElementBlock("div",_hoisted_5$7,toDisplayString$1(unref(n)("tagManager.noResults")),1)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(de.value,J=>(openBlock(),createElementBlock("div",{key:`${J.type}-${J.item.name||J.item.text}`,class:"search-result-item",onClick:be=>he(J)},[createBaseVNode("div",_hoisted_7$7,[createBaseVNode("span",_hoisted_8$7,toDisplayString$1(J.item.name||J.item.text),1),createBaseVNode("span",_hoisted_9$7,toDisplayString$1(J.path.join(" > ")),1)])],8,_hoisted_6$7))),128))],4)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_10$6,[createBaseVNode("div",_hoisted_11$6,[createBaseVNode("div",_hoisted_12$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,J=>{var be,ke,we;return openBlock(),createElementBlock("div",{key:J.name,class:normalizeClass(["tab-item",{active:((be=r.value)==null?void 0:be.name)===J.name}]),style:normalizeStyle({backgroundColor:((ke=r.value)==null?void 0:ke.name)===J.name?"var(--primary-color)":J.color,color:((we=r.value)==null?void 0:we.name)===J.name?"#ffffff":Ee(J.color)}),onClick:Ce=>A(J)},[createBaseVNode("span",_hoisted_14$4,toDisplayString$1(J.name),1),createBaseVNode("div",_hoisted_15$4,[createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(Ce=>X(J),["stop"])},K[22]||(K[22]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_16$4),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(Ce=>U(J),["stop"])},K[23]||(K[23]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_17$4)])],14,_hoisted_13$5)}),128)),createBaseVNode("button",{class:"add-tab",onClick:K[2]||(K[2]=J=>se("primary"))},[K[24]||(K[24]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addPrimaryCategory")),1)])])]),r.value?(openBlock(),createElementBlock("div",_hoisted_18$3,[createBaseVNode("div",_hoisted_19$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value.groups,J=>{var be,ke,we;return openBlock(),createElementBlock("div",{key:J.name,class:normalizeClass(["tab-item",{active:((be=a.value)==null?void 0:be.name)===J.name}]),style:normalizeStyle({backgroundColor:((ke=a.value)==null?void 0:ke.name)===J.name?"var(--primary-color)":J.color,color:((we=a.value)==null?void 0:we.name)===J.name?"#ffffff":Ee(J.color)}),onClick:Ce=>ne(J)},[createBaseVNode("span",_hoisted_21$3,toDisplayString$1(J.name),1),createBaseVNode("div",_hoisted_22$3,[createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(Ce=>ue(J),["stop"])},K[25]||(K[25]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_23$3),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(Ce=>Y(J),["stop"])},K[26]||(K[26]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_24$3)])],14,_hoisted_20$3)}),128)),r.value?(openBlock(),createElementBlock("button",{key:0,class:"add-tab",onClick:K[3]||(K[3]=J=>se("group"))},[K[27]||(K[27]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addGroup")),1)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_25$3,[createBaseVNode("div",_hoisted_26$3,[createBaseVNode("div",_hoisted_27$3,toDisplayString$1(a.value?a.value.name:unref(n)("tagManager.selectCategory")),1),createBaseVNode("div",_hoisted_28$3,[createBaseVNode("button",{class:"add-btn",onClick:ce,disabled:!a.value},[K[28]||(K[28]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addTag")),1)],8,_hoisted_29$3),f.value?(openBlock(),createElementBlock("button",{key:0,class:"delete-btn",onClick:P,disabled:!d.value.length},toDisplayString$1(unref(n)("tagManager.deleteSelected")),9,_hoisted_30$3)):(openBlock(),createElementBlock("button",{key:1,class:"has-delete-action-btn",onClick:q,disabled:!a.value},toDisplayString$1(unref(n)("tagManager.hasDeleteAction")),9,_hoisted_31$3)),f.value?(openBlock(),createElementBlock("button",{key:2,class:"cancel-delete-btn",onClick:I},toDisplayString$1(unref(n)("tagManager.cancelDelete")),1)):createCommentVNode("",!0)])]),a.value?(openBlock(),createElementBlock("div",_hoisted_32$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(R.value,J=>(openBlock(),createElementBlock("div",{key:J.id,class:"tag-wrapper"},[createBaseVNode("div",{class:"tag-content",onClick:be=>Le(J)},[createBaseVNode("div",{class:"tag-main",style:normalizeStyle({backgroundColor:J.color||"transparent"})},[createTextVNode(toDisplayString$1(J.desc)+" ",1),createBaseVNode("div",_hoisted_34$3,[createBaseVNode("button",{class:"action-btn move",onClick:withModifiers(be=>B(J),["stop"]),title:unref(n)("tagManager.moveTag")},K[29]||(K[29]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"move-icon"},[createBaseVNode("path",{d:"M13 6v3h8V6h-8zm0 5v3h8v-3h-8zm-8 5v3h8v-3H5zm0-5v3h8v-3H5zm0-5v3h8V6H5z"})],-1)]),8,_hoisted_35$3),createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(be=>z(J),["stop"]),title:unref(n)("tagManager.editTag")},K[30]||(K[30]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"edit-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_36$3),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(be=>_(J),["stop"]),title:unref(n)("tagManager.deleteTag")},K[31]||(K[31]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"delete-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_37$3)])],4),createBaseVNode("div",_hoisted_38$3,toDisplayString$1(J.text),1)],8,_hoisted_33$3),f.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":K[4]||(K[4]=be=>d.value=be),value:J.id_index,class:"tag-checkbox"},null,8,_hoisted_39$3)),[[vModelCheckbox,d.value]]):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0)]),o.value?(openBlock(),createElementBlock("div",_hoisted_40$3,[createBaseVNode("div",{class:"dialog-content",onMousedown:K[9]||(K[9]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_41$3,[createBaseVNode("h2",null,toDisplayString$1(ye()),1),createBaseVNode("button",{class:"close-btn",onClick:me},"×")]),createBaseVNode("div",_hoisted_42$3,[c.value=="primary"?(openBlock(),createElementBlock("div",_hoisted_43$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.categoryName")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":K[5]||(K[5]=J=>N.value.name=J),placeholder:unref(n)("tagManager.categoryNamePlaceholder"),onKeyup:withKeys(ie,["enter"])},null,40,_hoisted_44$3),[[vModelText,N.value.name]])])):createCommentVNode("",!0),c.value=="group"?(openBlock(),createElementBlock("div",_hoisted_45$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.groupName")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":K[6]||(K[6]=J=>x.value.name=J),placeholder:unref(n)("tagManager.groupNamePlaceholder"),onKeyup:withKeys(ie,["enter"])},null,40,_hoisted_46$2),[[vModelText,x.value.name]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_47$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.backgroundColor")),1),createBaseVNode("div",_hoisted_48$2,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:V.value})},null,4),createBaseVNode("div",_hoisted_49$2,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":K[7]||(K[7]=J=>j.value.hex=J),onInput:F,class:"color-input"},null,544),[[vModelText,j.value.hex]]),createBaseVNode("div",_hoisted_50$2,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":K[8]||(K[8]=J=>j.value.alpha=J),min:"0",max:"100",onInput:F,class:"alpha-slider"},null,544),[[vModelText,j.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_51$2,toDisplayString$1(j.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_52$2,[createBaseVNode("button",{class:"cancel-btn",onClick:me},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:ie},toDisplayString$1(unref(n)("common.confirm")),1)])],32)])):createCommentVNode("",!0),i.value?(openBlock(),createElementBlock("div",_hoisted_53$2,[createBaseVNode("div",{class:"dialog-content",onMousedown:K[14]||(K[14]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_54$2,[createBaseVNode("h2",null,toDisplayString$1(u.value?unref(n)("tagManager.editTag"):unref(n)("tagManager.addTag")),1),createBaseVNode("button",{class:"close-btn",onClick:ge},"×")]),createBaseVNode("div",_hoisted_55$2,[createBaseVNode("div",_hoisted_56$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.text")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":K[10]||(K[10]=J=>m.value.desc=J),placeholder:unref(n)("tagManager.textPlaceholder")},null,8,_hoisted_57$1),[[vModelText,m.value.desc]])]),createBaseVNode("div",_hoisted_58$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.description")),1),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":K[11]||(K[11]=J=>m.value.text=J),placeholder:unref(n)("tagManager.descriptionPlaceholder"),rows:"4"},"            ",8,_hoisted_59$1),[[vModelText,m.value.text]])]),createBaseVNode("div",_hoisted_60$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.backgroundColor")),1),createBaseVNode("div",_hoisted_61$1,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:V.value})},null,4),createBaseVNode("div",_hoisted_62$1,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":K[12]||(K[12]=J=>j.value.hex=J),onInput:F,class:"color-input"},null,544),[[vModelText,j.value.hex]]),createBaseVNode("div",_hoisted_63$1,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":K[13]||(K[13]=J=>j.value.alpha=J),min:"0",max:"100",onInput:F,class:"alpha-slider"},null,544),[[vModelText,j.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_64$1,toDisplayString$1(j.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_65$1,[createBaseVNode("button",{class:"cancel-btn",onClick:ge},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:G},toDisplayString$1(unref(n)("common.confirm")),1)])],32)])):createCommentVNode("",!0),C.value?(openBlock(),createElementBlock("div",_hoisted_66$1,[createBaseVNode("div",{class:"dialog-content confirm-dialog",onMousedown:K[15]||(K[15]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_67$1,[createBaseVNode("h2",null,toDisplayString$1(unref(n)("common.confirmDelete")),1),createBaseVNode("button",{class:"close-btn",onClick:le},"×")]),createBaseVNode("div",_hoisted_68$1,[createBaseVNode("p",_hoisted_69$1,toDisplayString$1(Q.value),1)]),createBaseVNode("div",_hoisted_70,[createBaseVNode("button",{class:"cancel-btn",onClick:le},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"delete-btn",onClick:b},toDisplayString$1(unref(n)("common.delete")),1)])],32)])):createCommentVNode("",!0),y.value?(openBlock(),createElementBlock("div",_hoisted_71,[createBaseVNode("div",_hoisted_72,[createBaseVNode("div",_hoisted_73,[createBaseVNode("h2",null,toDisplayString$1(unref(n)("tagManager.moveTag")),1),createBaseVNode("button",{class:"close-btn",onClick:K[16]||(K[16]=J=>y.value=!1)},"×")]),createBaseVNode("div",_hoisted_74,[createBaseVNode("div",_hoisted_75,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.targetTag")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":K[17]||(K[17]=J=>v.value=J),class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(re.value,J=>(openBlock(),createElementBlock("option",{key:J.id_index,value:J.id_index},toDisplayString$1(J.desc+" --> "+J.text),9,_hoisted_76))),128))],512),[[vModelSelect,v.value]])]),createBaseVNode("div",_hoisted_77,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.movePosition")),1),createBaseVNode("div",_hoisted_78,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{class:"radio-input",type:"radio","onUpdate:modelValue":K[18]||(K[18]=J=>w.value=J),value:"before"},null,512),[[vModelRadio,w.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.moveBefore")),1)]),createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{class:"radio-input",type:"radio","onUpdate:modelValue":K[19]||(K[19]=J=>w.value=J),value:"after"},null,512),[[vModelRadio,w.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.moveAfter")),1)])])])]),createBaseVNode("div",_hoisted_79,[createBaseVNode("button",{class:"cancel-btn",onClick:K[20]||(K[20]=J=>y.value=!1)},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:L},toDisplayString$1(unref(n)("common.confirm")),1)])])])):createCommentVNode("",!0)]))}},TagManager=_export_sfc(_sfc_main$9,[["__scopeId","data-v-d3da1948"]]),baseZIndex=100,activeWindow=ref(""),windowZIndexes=ref({}),windowManager={setActiveWindow(e){activeWindow.value!==e&&(activeWindow.value=e,Object.keys(windowZIndexes.value).forEach(t=>{windowZIndexes.value[t]=baseZIndex}),windowZIndexes.value[e]=baseZIndex+10)},getZIndex(e){return windowZIndexes.value[e]||(windowZIndexes.value[e]=baseZIndex),windowZIndexes.value[e]},registerWindow(e){windowZIndexes.value[e]||(windowZIndexes.value[e]=baseZIndex)},unregisterWindow(e){delete windowZIndexes.value[e]}},loraApi={getLoraList:e=>request({url:"/get_lora_list",method:"get",params:e}),getAllLoraList:e=>request({url:"/get_lora_load_all",method:"get",params:e}),getAllLoraStatus:e=>request({url:"/get_lora_load_status",method:"get",params:e}),getLoraDetail:e=>request({url:"/lorainfo/api/loras/info",method:"get",params:e}),getLoraRefresh:e=>request({url:"/lorainfo/api/loras/info/refresh",method:"get",params:e}),postUplaodImg:(e,t,n)=>{const s=new FormData;return s.append("image",e),s.append("path",t),s.append("fileName",n),request({url:"/lorainfo/api/loras/set/img",method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}})},postLoraSave:(e,t)=>{const n=new FormData;return n.append("json",JSON.stringify(t)),request({url:"/lorainfo/api/loras/info?file="+e,method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}})}},_hoisted_1$8={class:"lora-detail__content"},_hoisted_2$7={key:0,class:"lora-detail__loading"},_hoisted_3$6={key:1,class:"lora-detail__body"},_hoisted_4$6={class:"lora-detail__tags"},_hoisted_5$6=["title"],_hoisted_6$6=["title"],_hoisted_7$6={class:"lora-detail__table"},_hoisted_8$6={class:"label"},_hoisted_9$6={colspan:"2"},_hoisted_10$5={class:"label"},_hoisted_11$5={colspan:"2",class:"hash"},_hoisted_12$4={class:"label"},_hoisted_13$4={colspan:"2"},_hoisted_14$3=["href"],_hoisted_15$3={key:1,class:"not-found"},_hoisted_16$3=["title"],_hoisted_17$3={class:"label"},_hoisted_18$2=["title"],_hoisted_19$2={key:1,class:"text"},_hoisted_20$2={class:"actions"},_hoisted_21$2={viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_22$2={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},_hoisted_23$2={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},_hoisted_24$2={class:"label"},_hoisted_25$2=["title"],_hoisted_26$2=["onUpdate:modelValue","type","onKeyup"],_hoisted_27$2={key:1,class:"text"},_hoisted_28$2={class:"actions"},_hoisted_29$2=["onClick"],_hoisted_30$2={viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_31$2={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},_hoisted_32$2={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},_hoisted_33$2={key:0},_hoisted_34$2={class:"label"},_hoisted_35$2=["title"],_hoisted_36$2={key:0,class:"word-selection"},_hoisted_37$2={colspan:"2"},_hoisted_38$2={class:"word-list"},_hoisted_39$2=["onClick"],_hoisted_40$2={key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},_hoisted_41$2={key:1},_hoisted_42$2={key:0,class:"lora-detail__images"},_hoisted_43$2={class:"image-wrapper"},_hoisted_44$2=["onClick"],_hoisted_45$2=["src"],_hoisted_46$1={class:"image-info"},_hoisted_47$1={key:0,class:"info-item"},_hoisted_48$1=["href"],_hoisted_49$1={key:1,class:"info-item"},_hoisted_50$1={key:2,class:"info-item"},_hoisted_51$1={key:3,class:"info-item"},_hoisted_52$1={key:4,class:"info-item"},_hoisted_53$1={key:5,class:"info-item"},_hoisted_54$1={key:6,class:"info-item"},_hoisted_55$1={key:7,class:"info-item"},STORAGE_PREFIX$1="weilin_tools_",_sfc_main$8={__name:"lora_detail",emits:["close","update"],setup(e,{expose:t,emit:n}){const{t:s}=useI18n(),r=ref(!1),a=ref({}),o=ref(!1),i={loraDetail:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},u=ref((()=>{try{const z=localStorage.getItem(`${STORAGE_PREFIX$1}loraDetailState`);if(z){const G=JSON.parse(z),ge={...i};return G.loraDetail&&(ge.loraDetail={...i.loraDetail,...G.loraDetail}),ge}}catch(z){console.error("Error loading window states:",z)}return{...i}})());watch(u,z=>{try{localStorage.setItem(`${STORAGE_PREFIX$1}loraDetailState`,JSON.stringify(z))}catch(G){console.error("Error saving window states:",G)}},{deep:!0}),onMounted(()=>{windowManager.registerWindow("loraDetail")}),onUnmounted(()=>{windowManager.unregisterWindow("loraDetail")});const c=z=>{o.value=!1},d=(z,G)=>{u.value[z]&&(u.value[z].position={...G})},f=(z,G)=>{u.value[z]&&(u.value[z].size={...G})};t({open:z=>{o.value=!0,windowManager.setActiveWindow("loraDetail"),r.value=!0,a.value=z,nextTick(()=>{x()})}});const v=ref(""),w=ref({}),S=ref({}),g=ref([]),N=[{key:"strengthMin",label:s("lora.strengthMin"),tip:s("lora.strengthMinTip"),type:"number"},{key:"strengthMax",label:s("lora.strengthMax"),tip:s("lora.strengthMaxTip"),type:"number"},{key:"strWeight",label:s("lora.strWeight"),tip:s("lora.strWeightTip"),type:"number"},{key:"loraWorks",label:s("lora.promptWords"),tip:s("lora.promptWordsTip")}],x=()=>{v.value=a.value.name,a.value={},g.value=[],S.value={name:!1,nameValue:"",min:!1,minValue:"",max:!1,maxValue:"",notes:!1,notesValue:"",loraWorks:!1,loraWorksValue:""},loraApi.getLoraDetail({file:v.value,refresh:!1,light:!1}).then(z=>{a.value=z.data,nextTick(function(){var G,ge,j,V,F,te;a.value.name=a.value.name||((ge=(G=a.value.raw)===null||G===void 0?void 0:G.metadata)===null||ge===void 0?void 0:ge.ss_output_name===void 0?ge["modelspec.title"]:ge.ss_output_name)||"",S.value.nameValue=a.value.name,a.value.strengthMin=(j=a.value.strengthMin)!==null&&j!==void 0?j:"",S.value.minValue=a.value.strengthMin,a.value.strengthMax=(V=a.value.strengthMax)!==null&&V!==void 0?V:"",S.value.maxValue=a.value.strengthMax,a.value.userNote=(F=a.value.userNote)!==null&&F!==void 0?F:"",S.value.notesValue=a.value.userNote,a.value.loraWorks=(te=a.value.loraWorks)!==null&&te!==void 0?te:"",S.value.loraWorksValue=a.value.loraWorks,r.value=!1})}).catch(z=>{message({type:"warn",str:"message.networkError"}),r.value=!1})},m=z=>{let ge=new URL(z).pathname.split("/").pop();return ge=ge.split("?")[0],decodeURIComponent(ge)},$=async z=>{try{const G=await fetch(z),ge=m(z),j=await G.blob();loraApi.postUplaodImg(j,a.value.file,ge).then(V=>{message({type:"success",str:"message.saveSuccess"})}).catch(V=>{message({type:"warn",str:"message.unknownError"})})}catch{message({type:"warn",str:"message.unknownError"})}},E=computed(()=>{var z;return(z=a.value.links)==null?void 0:z.find(G=>G.includes("civitai.com/models"))}),k=computed(()=>{var z,G;return((G=(z=a.value.raw)==null?void 0:z.civitai)==null?void 0:G.error)==="Model not found"}),R=computed(()=>a.value.trainedWords||[]),A=async()=>{r.value=!0,loraApi.getLoraRefresh({file:v.value}).then(z=>{a.value=z.data,nextTick(function(){r.value=!1})}).catch(z=>{message({type:"warn",str:"message.networkError"}),r.value=!1})},ne=z=>{w.value[z]?X(z):se(z)},se=z=>{w.value[z]=!0,S.value[z]=a.value[z],nextTick(()=>{z==="name"&&nameInput.value&&nameInput.value.focus()})},X=z=>{ie({[z]:S.value[z]}),w.value[z]=!1},ue=z=>{w.value[z]=!1,S.value[z]=a.value[z]},ie=z=>{r.value=!0,loraApi.postLoraSave(v.value,z).then(G=>{a.value=G.data,nextTick(function(){var ge,j,V,F,te;a.value.name=a.value.name||((j=(ge=a.value.raw)===null||ge===void 0?void 0:ge.metadata)===null||j===void 0?void 0:j.ss_output_name===void 0?j["modelspec.title"]:j.ss_output_name)||"",S.value.nameValue=a.value.name,a.value.strengthMin=(V=a.value.strengthMin)!==null&&V!==void 0?V:"",S.value.minValue=a.value.strengthMin,a.value.strengthMax=(F=a.value.strengthMax)!==null&&F!==void 0?F:"",S.value.maxValue=a.value.strengthMax,a.value.userNote=(te=a.value.userNote)!==null&&te!==void 0?te:"",S.value.notesValue=a.value.userNote,r.value=!1}),message({type:"success",str:"message.saveSuccess"})}).catch(G=>{message({type:"warn",str:"message.networkError"}),r.value=!1})},ye=z=>{const G=g.value.indexOf(z);G===-1?g.value.push(z):g.value.splice(G,1)},me=z=>g.value.includes(z),ce=async()=>{g.value.length&&navigator.clipboard.writeText(g.value).then(z=>{message({type:"success",str:"message.copySuccess"})},z=>{message({type:"warn",str:"message.copyFailed"})})};return ref(!1),ref(!1),computed(()=>r.value?s("common.loading"):s("common.ready")),(z,G)=>o.value?(openBlock(),createBlock(DraggableWindow,{key:0,title:unref(s)("lora.title"),position:u.value.loraDetail.position,size:u.value.loraDetail.size,"z-index":unref(windowManager).getZIndex("loraDetail"),"onUpdate:position":G[4]||(G[4]=ge=>d("loraDetail",ge)),"onUpdate:size":G[5]||(G[5]=ge=>f("loraDetail",ge)),onActive:G[6]||(G[6]=ge=>unref(windowManager).setActiveWindow("loraDetail")),onClose:G[7]||(G[7]=ge=>c())},{default:withCtx(()=>{var ge;return[createBaseVNode("div",_hoisted_1$8,[r.value?(openBlock(),createElementBlock("div",_hoisted_2$7,G[8]||(G[8]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"is-rotating"},[createBaseVNode("path",{d:"M12 4V2C6.48 2 2 6.48 2 12H4C4 7.58 7.58 4 12 4Z"})],-1)]))):(openBlock(),createElementBlock("div",_hoisted_3$6,[G[23]||(G[23]=createBaseVNode("div",{class:"lora-detail__title"},"Lora 信息",-1)),createBaseVNode("ul",_hoisted_4$6,[a.value.type?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass(["lora-detail__tag",`-type-${a.value.type.toLowerCase()}`]),title:unref(s)("lora.type")},toDisplayString$1(a.value.type),11,_hoisted_5$6)):createCommentVNode("",!0),a.value.baseModel?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(["lora-detail__tag",`-basemodel-${a.value.baseModel.toLowerCase()}`]),title:unref(s)("lora.baseModel")},toDisplayString$1(a.value.baseModel),11,_hoisted_6$6)):createCommentVNode("",!0)]),createBaseVNode("table",_hoisted_7$6,[createBaseVNode("tbody",null,[createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_8$6,toDisplayString$1(unref(s)("lora.file")),1),createBaseVNode("td",_hoisted_9$6,toDisplayString$1(a.value.file),1)]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_10$5,toDisplayString$1(unref(s)("lora.hash")),1),createBaseVNode("td",_hoisted_11$5,toDisplayString$1(a.value.sha256),1)]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_12$4,toDisplayString$1(unref(s)("lora.civitai")),1),createBaseVNode("td",_hoisted_13$4,[E.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("a",{href:E.value,target:"_blank",class:"civitai-link"},[G[9]||(G[9]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"})],-1)),createBaseVNode("span",null,toDisplayString$1(unref(s)("lora.viewOnCivitai")),1)],8,_hoisted_14$3),createBaseVNode("button",{class:"refresh-btn",onClick:A},toDisplayString$1(unref(s)("common.refresh")),1)],64)):k.value?(openBlock(),createElementBlock("div",_hoisted_15$3,[createBaseVNode("i",null,toDisplayString$1(unref(s)("lora.modelNotFound")),1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(s)("lora.modelNotFoundTip")},G[10]||(G[10]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_16$3))])):(openBlock(),createElementBlock("button",{key:2,class:"fetch-btn",onClick:A},toDisplayString$1(unref(s)("lora.fetchFromCivitai")),1))])]),createBaseVNode("tr",{class:normalizeClass({"is-editing":w.value.name})},[createBaseVNode("td",_hoisted_17$3,[createTextVNode(toDisplayString$1(unref(s)("lora.name"))+" ",1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(s)("lora.nameTip")},G[11]||(G[11]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_18$2))]),createBaseVNode("td",null,[w.value.name?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":G[0]||(G[0]=j=>S.value.name=j),type:"text",onKeyup:[G[1]||(G[1]=withKeys(j=>X("name"),["enter"])),G[2]||(G[2]=withKeys(j=>ue("name"),["esc"]))],ref:"nameInput"},null,544)),[[vModelText,S.value.name]]):(openBlock(),createElementBlock("span",_hoisted_19$2,toDisplayString$1(a.value.name),1))]),createBaseVNode("td",_hoisted_20$2,[createBaseVNode("button",{class:"edit-btn",onClick:G[3]||(G[3]=j=>ne("name"))},[(openBlock(),createElementBlock("svg",_hoisted_21$2,[w.value.name?(openBlock(),createElementBlock("path",_hoisted_22$2)):(openBlock(),createElementBlock("path",_hoisted_23$2))]))])])],2),(openBlock(),createElementBlock(Fragment,null,renderList(N,j=>createBaseVNode("tr",{key:j.key,class:normalizeClass({"is-editing":w.value[j.key]})},[createBaseVNode("td",_hoisted_24$2,[createTextVNode(toDisplayString$1(j.label)+" ",1),j.tip?(openBlock(),createElementBlock("svg",{key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:j.tip},G[12]||(G[12]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_25$2)):createCommentVNode("",!0)]),createBaseVNode("td",null,[w.value[j.key]?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":V=>S.value[j.key]=V,type:j.type||"text",onKeyup:[withKeys(V=>X(j.key),["enter"]),withKeys(V=>ue(j.key),["esc"])]},null,40,_hoisted_26$2)),[[vModelDynamic,S.value[j.key]]]):(openBlock(),createElementBlock("span",_hoisted_27$2,toDisplayString$1(a.value[j.key]),1))]),createBaseVNode("td",_hoisted_28$2,[createBaseVNode("button",{class:"edit-btn",onClick:V=>ne(j.key)},[(openBlock(),createElementBlock("svg",_hoisted_30$2,[w.value[j.key]?(openBlock(),createElementBlock("path",_hoisted_31$2)):(openBlock(),createElementBlock("path",_hoisted_32$2))]))],8,_hoisted_29$2)])],2)),64)),R.value.length?(openBlock(),createElementBlock("tr",_hoisted_33$2,[createBaseVNode("td",_hoisted_34$2,[createTextVNode(toDisplayString$1(unref(s)("lora.trainedWords"))+" ",1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(s)("lora.trainedWordsTip")},G[13]||(G[13]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_35$2)),g.value.length?(openBlock(),createElementBlock("div",_hoisted_36$2,[createTextVNode(toDisplayString$1(unref(s)("lora.selectedWords",{count:g.value.length}))+" ",1),createBaseVNode("button",{class:"copy-btn",onClick:ce},toDisplayString$1(unref(s)("common.copy")),1)])):createCommentVNode("",!0)]),createBaseVNode("td",_hoisted_37$2,[createBaseVNode("ul",_hoisted_38$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(R.value,j=>(openBlock(),createElementBlock("li",{key:j.word,class:normalizeClass(["word-item",{"is-selected":me(j.word)}]),onClick:V=>ye(j.word)},[createBaseVNode("span",null,toDisplayString$1(j.word),1),j.civitai?(openBlock(),createElementBlock("svg",_hoisted_40$2,G[14]||(G[14]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"},null,-1)]))):createCommentVNode("",!0),j.count!=null?(openBlock(),createElementBlock("small",_hoisted_41$2,toDisplayString$1(j.count),1)):createCommentVNode("",!0)],10,_hoisted_39$2))),128))])])])):createCommentVNode("",!0)])]),(ge=a.value.images)!=null&&ge.length?(openBlock(),createElementBlock("ul",_hoisted_42$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value.images,(j,V)=>(openBlock(),createElementBlock("li",{key:V,class:"lora-detail__image-item"},[createBaseVNode("figure",null,[createBaseVNode("div",_hoisted_43$2,[createBaseVNode("div",{class:"image-action",onClick:F=>$(j.url)}," 设置为Lora封面 ",8,_hoisted_44$2),createBaseVNode("img",{src:j.url},null,8,_hoisted_45$2)]),createBaseVNode("figcaption",_hoisted_46$1,[j.civitaiUrl?(openBlock(),createElementBlock("span",_hoisted_47$1,[createBaseVNode("a",{href:j.civitaiUrl,target:"_blank",class:"civitai-link"},G[15]||(G[15]=[createTextVNode(" C站 civitai "),createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})],-1)]),8,_hoisted_48$1)])):createCommentVNode("",!0),j.seed?(openBlock(),createElementBlock("span",_hoisted_49$1,[G[16]||(G[16]=createBaseVNode("label",null,"种子 seed",-1)),createTextVNode(" "+toDisplayString$1(j.seed),1)])):createCommentVNode("",!0),j.steps?(openBlock(),createElementBlock("span",_hoisted_50$1,[G[17]||(G[17]=createBaseVNode("label",null,"步数 steps",-1)),createTextVNode(" "+toDisplayString$1(j.steps),1)])):createCommentVNode("",!0),j.cfg?(openBlock(),createElementBlock("span",_hoisted_51$1,[G[18]||(G[18]=createBaseVNode("label",null,"引导系数 cfg",-1)),createTextVNode(" "+toDisplayString$1(j.cfg),1)])):createCommentVNode("",!0),j.sampler?(openBlock(),createElementBlock("span",_hoisted_52$1,[G[19]||(G[19]=createBaseVNode("label",null,"采样器 sampler",-1)),createTextVNode(" "+toDisplayString$1(j.sampler),1)])):createCommentVNode("",!0),j.model?(openBlock(),createElementBlock("span",_hoisted_53$1,[G[20]||(G[20]=createBaseVNode("label",null,"基础模型 model",-1)),createTextVNode(" "+toDisplayString$1(j.model),1)])):createCommentVNode("",!0),j.positive?(openBlock(),createElementBlock("span",_hoisted_54$1,[G[21]||(G[21]=createBaseVNode("label",null,"正向提示词 positive",-1)),createTextVNode(" "+toDisplayString$1(j.positive),1)])):createCommentVNode("",!0),j.negative?(openBlock(),createElementBlock("span",_hoisted_55$1,[G[22]||(G[22]=createBaseVNode("label",null,"反向提示词 negative",-1)),createTextVNode(" "+toDisplayString$1(j.negative),1)])):createCommentVNode("",!0)])])]))),128))])):createCommentVNode("",!0)]))])]}),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0)}},loraDetail=_export_sfc(_sfc_main$8,[["__scopeId","data-v-3fed607a"]]),_hoisted_1$7={class:"header-actions"},_hoisted_2$6=["title"],_hoisted_3$5={class:"lora-info"},_hoisted_4$5={class:"lora-header"},_hoisted_5$5=["title"],_hoisted_6$5={class:"lora-actions"},_hoisted_7$5=["onClick","title"],_hoisted_8$5=["onClick","title"],_hoisted_9$5={class:"lora-weights"},_hoisted_10$4={class:"weight-item"},_hoisted_11$4=["onUpdate:modelValue"],_hoisted_12$3={class:"weight-item"},_hoisted_13$3=["onUpdate:modelValue"],prefix$3="weilin_prompt_ui_",_sfc_main$7={__name:"lora_stack",props:{isOpen:{type:Boolean,default:!1},selectedLoras:{type:Array,default:[]}},emits:["close","update:selectedLoras"],setup(e,{expose:t,emit:n}){const{t:s}=useI18n(),r=e,a=n,o=()=>{window.postMessage({type:"weilin_prompt_ui_openLoraManager_addLora"},"*")},i=d=>{r.selectedLoras.find(f=>f.name===d.name)||(r.selectedLoras.push({name:d.name,weight:1,text_encoder_weight:1,...d}),a("update:selectedLoras",r.selectedLoras))},l=d=>{const f=r.selectedLoras.findIndex(y=>y.name===d.name);f>-1&&(r.selectedLoras.splice(f,1),a("update:selectedLoras",r.selectedLoras))},u=ref(),c=d=>{u.value.open({name:d.lora})};return window.addEventListener("message",d=>{d.data.type==="weilin_prompt_ui_selectLora"&&i(d.data.lora)}),t({addLora:i,removeLora:l}),(d,f)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$3}lora-stack`),style:normalizeStyle([{width:e.isOpen?"300px":"0"},{paddingRight:e.isOpen?"16px":"0"}])},[createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-header`)},[createBaseVNode("h3",{class:normalizeClass(`${prefix$3}lora-title`)},toDisplayString$1(unref(s)("controls.loraStack")),3),createBaseVNode("div",_hoisted_1$7,[createBaseVNode("button",{class:normalizeClass(`${prefix$3}add-btn`),onClick:o,title:unref(s)("controls.addLora")},f[1]||(f[1]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1)]),10,_hoisted_2$6),createBaseVNode("button",{class:normalizeClass(`${prefix$3}close-btn`),onClick:f[0]||(f[0]=y=>d.$emit("close"))},f[2]||(f[2]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),2)])],2),createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.selectedLoras,y=>(openBlock(),createElementBlock("div",{key:y.name,class:"lora-item"},[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("span",{class:"lora-name",title:y.name},toDisplayString$1(y.name),9,_hoisted_5$5),createBaseVNode("div",_hoisted_6$5,[createBaseVNode("button",{class:"look-on-btn",onClick:v=>c(y),title:unref(s)("controls.lookOnLora")},f[3]||(f[3]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"14",height:"14"},[createBaseVNode("path",{d:"M576.5 930.2H163.1c-52.9 0-96-43.1-96-96v-672c0-52.9 43.1-96 96-96h672c52.9 0 96 43.1 96 96V577c0 17.7-14.3 32-32 32s-32-14.3-32-32V162.2c0-17.6-14.4-32-32-32h-672c-17.6 0-32 14.4-32 32v672c0 17.6 14.4 32 32 32h413.4c17.7 0 32 14.3 32 32s-14.3 32-32 32z","p-id":"3466"}),createBaseVNode("path",{d:"M692.4 322.3H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h446.7c17.7 0 32 14.3 32 32s-14.3 32-32 32zM388.5 530.2H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.6-14.3 32-31.9 32zM388.5 738H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.7-14.3 32-31.9 32z","p-id":"3467"}),createBaseVNode("path",{d:"M624.1 792.5c-94.8 0-172-77.2-172-172s77.2-172 172-172 172 77.2 172 172-77.1 172-172 172z m0-280c-59.6 0-108 48.4-108 108s48.4 108 108 108 108-48.4 108-108-48.4-108-108-108z","p-id":"3468"}),createBaseVNode("path",{d:"M820.8 864.2L710.5 753.9c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L866 818.9c12.5 12.5 12.5 32.8 0 45.3s-32.7 12.5-45.2 0z","p-id":"3469"})],-1)]),8,_hoisted_7$5),createBaseVNode("button",{class:"remove-btn",onClick:v=>l(y),title:unref(s)("controls.removeLora")},f[4]||(f[4]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_8$5)])]),createBaseVNode("div",_hoisted_9$5,[createBaseVNode("div",_hoisted_10$4,[createBaseVNode("label",null,toDisplayString$1(unref(s)("loraManager.modelWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":v=>y.weight=v,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_11$4),[[vModelText,y.weight]])]),createBaseVNode("div",_hoisted_12$3,[createBaseVNode("label",null,toDisplayString$1(unref(s)("loraManager.textEncoderWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":v=>y.text_encoder_weight=v,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_13$3),[[vModelText,y.text_encoder_weight]])])])])]))),128))],2)],2)],2),createVNode(loraDetail,{ref_key:"loraDetailLoraStackRef",ref:u},null,512)],6))}},LoraStack=_export_sfc(_sfc_main$7,[["__scopeId","data-v-ec65a11d"]]);function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i18nJsautotranslate$1={exports:{}},i18nJsautotranslate=i18nJsautotranslate$1.exports,hasRequiredI18nJsautotranslate;function requireI18nJsautotranslate(){return hasRequiredI18nJsautotranslate||(hasRequiredI18nJsautotranslate=1,function(module){if(typeof translate=="object"&&typeof translate.version=="string")throw new Error("translate.js 已经加载过一次了，当前是重复加载，避免你的翻译出现异常，已帮你拦截此次加载。本信息只是给你一个提示，你可以检查一下你的项目中是否出现了重复引入 translate.js ，当然，这个异常并不会影响到你的具体使用，它已经自动帮你处理拦截了这个异常，只不过提示出来是让你知道，你的代码里出现了重复引入的情况。");var translate={version:"3.13.12.20250307",useVersion:"v2",setUseVersion2:function(){translate.useVersion="v2",console.log("提示：自 v2.10 之后的版本默认就是使用V2版本（当前版本为:"+translate.version+"）， translate.setUseVersion2() 可以不用再加这一行了。当然加了也无所谓，只是加了跟不加是完全一样的。")},translate:null,includedLanguages:"zh-CN,zh-TW,en",resourcesUrl:"//res.zvo.cn/translate",selectLanguageTag:{documentId:"translate",show:!0,languages:"",alreadyRender:!1,selectOnChange:function(e){var t=e.target.value;translate.changeLanguage(t)},refreshRender:function(){let e=document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage");e&&e.parentNode.removeChild(e),translate.selectLanguageTag.alreadyRender=!1,translate.selectLanguageTag.render()},customUI:function(e){var t=function(i){translate.selectLanguageTag.selectOnChange(i)},n=document.createElement("select");n.id=translate.selectLanguageTag.documentId+"SelectLanguage",n.className=translate.selectLanguageTag.documentId+"SelectLanguage";for(var s=translate.language.getCurrent(),r=0;r<e.length;r++){var a=document.createElement("option");if(a.setAttribute("value",e[r].id),translate.selectLanguageTag.languages.length>0){var o=(","+translate.selectLanguageTag.languages+",").toLowerCase();if(o.indexOf(","+e[r].id.toLowerCase()+",")<0)continue}s!=null&&typeof s<"u"&&s.length>0?s==e[r].id&&a.setAttribute("selected","selected"):e[r].id==translate.language.getLocal()&&a.setAttribute("selected","selected"),a.appendChild(document.createTextNode(e[r].name)),n.appendChild(a)}window.addEventListener?n.addEventListener("change",t,!1):n.attachEvent("onchange",t),document.getElementById(translate.selectLanguageTag.documentId).appendChild(n)},render:function(){if(!translate.selectLanguageTag.alreadyRender&&(translate.selectLanguageTag.alreadyRender=!0,!!translate.selectLanguageTag.show)){if(document.getElementById(translate.selectLanguageTag.documentId)==null){var e=document.getElementsByTagName("body");if(e.length==0){console.log("body tag not find, translate.selectLanguageTag.render() is not show Select Language");return}var t=e[0],n=document.createElement("div");n.id=translate.selectLanguageTag.documentId,t.appendChild(n)}else if(document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage")!=null)return;translate.request.post(translate.request.api.language,{},function(s){if(s.result==0){console.log("load language list error : "+s.info);return}translate.selectLanguageTag.customUI(s.list)},null)}}},localLanguage:"zh-CN",googleTranslateElementInit:function(){var e="";document.getElementById("translate")!=null&&(e="translate"),translate.translate=new google.translate.TranslateElement({pageLanguage:"zh-CN",includedLanguages:translate.selectLanguageTag.languages,layout:0},e)},execute_v1:function(){console.log("=====ERROR======"),console.log("The v1 version has been discontinued since 2022. Please use the latest V3 version and refer to: http://translate.zvo.cn/41162.html")},setCookie:function(e,t){var n=e+"="+escape(t);document.cookie=n},getCookie:function(e){for(var t=document.cookie,n=t.split("; "),s=0;s<n.length;s++){var r=n[s].split("=");if(r[0]==e)return unescape(r[1])}return""},currentLanguage:function(){var e=translate.getCookie("googtrans");return e.length>0?e.substr(e.lastIndexOf("/")+1,e.length-1):translate.localLanguage},changeLanguage:function(e){var t=",en,de,hi,lt,hr,lv,ht,hu,zh-CN,hy,uk,mg,id,ur,mk,ml,mn,af,mr,uz,ms,el,mt,is,it,my,es,et,eu,ar,pt-PT,ja,ne,az,fa,ro,nl,en-GB,no,be,fi,ru,bg,fr,bs,sd,se,si,sk,sl,ga,sn,so,gd,ca,sq,sr,kk,st,km,kn,sv,ko,sw,gl,zh-TW,pt-BR,co,ta,gu,ky,cs,pa,te,tg,th,la,cy,pl,da,tr,";if(t.indexOf(","+e+",")>-1){console.log("您使用的是v1版本的切换语种方式，v1已在2021年就以废弃，请更换为v2，参考文档： http://translate.zvo.cn/41549.html"),translate.check();var n="/"+translate.localLanguage+"/"+e,s=document.location.host.split(".");if(s.length>2){var r=s[s.length-2]+"."+s[s.length-1];document.cookie="googtrans=;expires="+new Date(1)+";domain="+r+";path=/",document.cookie="googtrans="+n+";domain="+r+";path=/"}translate.setCookie("googtrans",""+n),translate.refreshCurrentPage();return}if(translate.useVersion="v2",translate.to!=null&&translate.to.length>0&&translate.to!=translate.language.getLocal())var a=!0;if(translate.to=e,translate.storage.set("to",e),a)location.reload();else{translate.execute();const o=document.querySelectorAll("iframe");for(let i=0;i<o.length;i++){const u=o[i].contentWindow;typeof u.translate=="object"&&typeof u.translate.version=="string"&&u.translate.execute()}}},check:function(){window.location.protocol=="file:"&&console.log(`\r
---WARNING----\r
translate.js 主动翻译组件自检异常，当前协议是file协议，翻译组件要在正常的线上http、https协议下才能正常使用翻译功能\r
------------`)},to:"",autoDiscriminateLocalLanguage:!1,documents:[],inProgressNodes:[],ignore:{tag:["style","script","link","pre","code"],class:["ignore","translateSelectLanguage"],id:[],isIgnore:function(e){if(e==null||typeof e>"u")return!1;for(var t=e,n=100;n-- >0;){if(t==null||typeof t>"u")return!1;var s=translate.element.getNodeName(t).toLowerCase();if(s.length>0){if(s=="body"||s=="html"||s=="#document")return!1;if(translate.ignore.tag.indexOf(s)>-1)return!0}if(t.className!=null){var r=t.className;if(r==null||typeof r!="string")continue;r=r.trim().split(" ");for(var a=0;a<r.length;a++)if(r[a]!=null&&r[a].trim().length>0&&translate.ignore.class.indexOf(r[a])>-1)return!0}if(t.id!=null&&typeof t.id<"u"&&translate.ignore.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1},text:[]},refreshCurrentPage:function(){location.reload()},nomenclature:{data:new Array,old_Data:[],set:function(e){alert("请将 translate.nomenclature.set 更换为 append，具体使用可参考： https://github.com/xnx3/translate ")},append:function(e,t,n){typeof translate.nomenclature.data[e]>"u"&&(translate.nomenclature.data[e]=new Array),typeof translate.nomenclature.data[e][t]>"u"&&(translate.nomenclature.data[e][t]=new Array);for(var s=n.split(`
`),r=0;r<s.length;r++){var a=s[r].trim();if(!(a.length<1)){var o=a.split("=");if(o.length==2){var i=o[0].trim(),l=o[1].trim();i.length==0||l.length==0||(translate.nomenclature.data[e][t][i]=l)}}}translate.nomenclature.data[e][t]=translate.util.objSort(translate.nomenclature.data[e][t])},get:function(){return translate.nomenclature.data},dispose:function(e){if(e==null||e.length==0||typeof translate.nomenclature.data[translate.language.getLocal()]>"u"||typeof translate.nomenclature.data[translate.language.getLocal()][translate.to]>"u")return e;for(var t in translate.nomenclature.data[translate.language.getLocal()][translate.to]){var n=translate.nomenclature.data[translate.language.getLocal()][translate.to][t];if(typeof n!="function"){var s=e.indexOf(t);if(s>-1)if(translate.language.getLocal()=="english"){var r="";if(s!=0){r=e.substr(s-1,1);var a=translate.language.getCharLanguage(r);if(a=="english"||a=="romance")continue}var o="";if(s+t.length!=e.length){o=e.substr(s+t.length,1);var a=translate.language.getCharLanguage(o);if(a=="english"||a=="romance")continue}e=e.replace(new RegExp(r+t+o,"g"),r+n+o)}else e=e.replace(new RegExp(t,"g"),n)}}return e}},office:{export:function(){if(translate.language.getLocal()==translate.language.getCurrent()){alert("本地语种跟要翻译的语种一致，无需导出");return}var e="";for(var t in translate.nodeQueue){translate.nodeQueue[t];for(var n in translate.nodeQueue[t].list)if(!(typeof n!="string"||n.length<1))for(var s in translate.nodeQueue[t].list[n])e=e+`
`+translate.nodeQueue[t].list[n][s].original+"="+translate.storage.get("hash_"+translate.language.getCurrent()+"_"+s)}e.length>0?(e="translate.office.append('"+translate.language.getCurrent()+"',`"+e+"\n`);",translate.util.loadMsgJs(),msg.popups({text:'<textarea id="msgPopupsTextarea" style="width:100%; height:100%; color: black; padding: 8px;">loaing...</textarea>',width:"750px",height:"600px",padding:"1px"}),document.getElementById("msgPopupsTextarea").value=e):msg.alert("无有效内容！")},showPanel:function(){let e=document.createElement("div");e.setAttribute("id","translate_export"),e.setAttribute("class","ignore");let t=document.createElement("button");t.onclick=function(){translate.office.export()},t.innerHTML="导出配置信息",t.setAttribute("style","margin-left: 72px; margin-top: 30px; margin-bottom: 20px; font-size: 25px; background-color: blue; padding: 15px; padding-top: 3px; padding-bottom: 3px; border-radius: 3px;"),e.appendChild(t);let n=document.createElement("div");n.innerHTML='1. 首先将当前语种切换为你要翻译的语种<br/>2. 点击导出按钮，将翻译的配置信息导出<br/>3. 将导出的配置信息粘贴到代码中，即可完成<br/><a href="asd" target="_black" style="color: aliceblue;">点此进行查阅详细使用说明</a>',n.setAttribute("style","font-size: 14px; padding: 12px;"),e.appendChild(n),e.setAttribute("style","background-color: black; color: #fff; width: 320px; height: 206px; position: fixed; bottom: 50px; right: 50px;"),document.body.appendChild(e),translate.util.loadMsgJs()},append:function(e,t){for(var n=t.split(`
`),s=0;s<n.length;s++){var r=n[s].trim();if(!(r.length<1)){var a=r.split("=");if(a.length==2){var o=a[0],i=a[1];o.length==0||i.length==0||translate.storage.set("hash_"+e+"_"+translate.util.hash(o),i)}}}}},setAutoDiscriminateLocalLanguage:function(){translate.autoDiscriminateLocalLanguage=!0},nodeQueue:{},setDocuments:function(e){e==null||typeof e>"u"||(typeof e.length>"u"?translate.documents[0]=e:translate.documents=e,translate.nodeQueue={})},getDocuments:function(){if(translate.documents!=null&&typeof translate.documents<"u"&&translate.documents.length>0)return translate.documents;var e=new Array;return e[0]=document.documentElement,e},listener:{isStart:!1,start:function(){translate.temp_linstenerStartInterval=setInterval(function(){if(document.readyState=="complete"){if(clearInterval(translate.temp_linstenerStartInterval),translate.language.getCurrent()==translate.language.getLocal()&&!translate.language.translateLocal)return;translate.listener.addListener()}},300)},ignoreNode:[],translateExecuteNodeIgnoreExpireTime:1e3,addIgnore:function(e,t){let n="";typeof e=="string"?n=e:n=nodeuuid.uuid(e),translate.listener.ignoreNode[n]=Date.now()+t},refreshIgnoreNode:function(){var e=Date.now();for(const t in translate.listener.ignoreNode)translate.listener.ignoreNode[t]<e&&delete translate.listener.ignoreNode[t]},addListener:function(){translate.listener.isStart=!0,translate.listener.config={attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},translate.listener.callback=function(s,r){var a=[];for(let d of s){let f=[];d.type==="childList"?d.addedNodes.length>0?f=d.addedNodes:d.removedNodes.length>0:d.type==="attributes"||d.type==="characterData"&&(f=[d.target]);for(let y of f){for(var o=!1,i=0;i<a.length;i++)if(a[i].isSameNode(y)){o=!0;break}if(o)break;a.push.apply(a,[y])}}if(a.length>0){var l=[];for(let d of a){for(var u=!1,c=0;c<translate.inProgressNodes.length;c++)if(translate.inProgressNodes[c].node.isSameNode(d)){u=!0;break}if(u)continue;let f=nodeuuid.uuid(d);typeof translate.listener.ignoreNode[f]=="number"&&translate.listener.ignoreNode[f]>Date.now()||l.push(d)}if(l.length<1)return;setTimeout(function(){translate.execute(l)},10)}},translate.listener.observer=new MutationObserver(translate.listener.callback);for(var e=translate.getDocuments(),t=0;t<e.length;t++){var n=e[t];n!=null&&translate.listener.observer.observe(n,translate.listener.config)}},renderTaskFinish:function(e){},execute:{renderStartByApi:[],renderStartByApiRun:function(e){for(var t=0;t<translate.listener.execute.renderStartByApi.length;t++)try{translate.listener.execute.renderStartByApi[t](e)}catch(n){console.log(n)}},renderFinishByApi:[],renderFinishByApiRun:function(e){for(var t=0;t<translate.listener.execute.renderFinishByApi.length;t++)try{translate.listener.execute.renderFinishByApi[t](e)}catch(n){console.log(n)}}}},renderTask:class{constructor(){this.taskQueue=[],this.nodes=[]}add(e,t,n,s){var r=translate.element.nodeAnalyse.get(e,s),a=translate.util.hash(r.text);typeof this.nodes[a]>"u"&&(this.nodes[a]=new Array),this.nodes[a].push(e);var o=this.taskQueue[a];(o==null||typeof o>"u")&&(o=new Array);var i=new Array;t.substr(0,1)==" "&&n.substr(0,1)!=" "&&(n=" "+n),t.substr(t.length-1,1)===" "&&n.substr(0,1)!=" "&&(n=n+" "),i.originalText=t,i.resultText=n,i.attribute=s,o.push(i),this.taskQueue[a]=o}execute(){for(var e in this.taskQueue){var t=this.taskQueue[e];typeof t!="function"&&(t.sort((i,l)=>l.originalText.length-i.originalText.length),this.taskQueue[e]=t)}translate.listener.refreshIgnoreNode();for(var e in this.nodes)for(var t=this.taskQueue[e],n=0;n<this.nodes[e].length;n++)for(var s=0;s<t.length;s++){var r=t[s];if(typeof t!="function"){var a=this.nodes[e][s];setTimeout(function(u){for(var c=0;c<translate.inProgressNodes.length;c++)if(translate.inProgressNodes[c].node.isSameNode(u)){translate.inProgressNodes[c].number=translate.inProgressNodes[c].number-1,translate.inProgressNodes[c].number<1&&translate.inProgressNodes.splice(c,1);break}},50,a),translate.listener.addIgnore(this.nodes[e][s],translate.listener.translateExecuteNodeIgnoreExpireTime),translate.element.nodeAnalyse.set(this.nodes[e][s],r.originalText,r.resultText,r.attribute)}}if(typeof this.taskQueue<"u"&&Object.keys(this.taskQueue).length>0){var o=this;setTimeout(function(){for(var i in o.nodes)for(var l in o.nodes[i]){var u=translate.element.nodeAnalyse.get(o.nodes[i][0]),c=nodeuuid.uuid(u.node);c.length!=0&&(translate.nodeHistory[c]={},translate.nodeHistory[c].node=u.node,translate.nodeHistory[c].translateText=u.text)}translate.listener.renderTaskFinish(o)},50)}}},state:0,waitingExecute:{queue:[],add:function(e){translate.waitingExecute.queue.push(e);let t=setInterval(function(){if(translate.state==0){clearInterval(t);var n=translate.waitingExecute.get();translate.execute(n)}},500)},get:function(){return translate.waitingExecute.queue.length>0?translate.waitingExecute.queue.shift():(console.log("警告， translate.waitingExecute.get 出现异常，quque已空，但还往外取。"),null)},isAllExecuteFinish:function(e){for(var t in translate.translateRequest[e])for(var n=0;n<translate.translateRequest[e][t].length;n++)if(translate.translateRequest[e][t][n].executeFinish==0)return;translate.state=0,translate.executeNumber++,translate.listener.execute.renderFinishByApiRun(e)}},executeNumber:0,execute:function(e){if(translate.state!=0){console.log("当前翻译还未完结，新的翻译任务已加入等待翻译队列中，待翻译结束后便会执行当前翻译任务。"),translate.waitingExecute.add(e);return}translate.state=1,typeof e<"u"&&(translate.useVersion="v2"),translate.useVersion=="v1"&&(console.log("提示：https://github.com/xnx3/translate 在 v2.5 版本之后，由于谷歌翻译调整，免费翻译通道不再支持，所以v1版本的翻译接口不再被支持，v1全线下架。考虑到v1已不能使用，当前已自动切换到v2版本。如果您使用中发现什么异常，请针对v2版本进行适配。"),translate.useVersion="v2");try{translate.init()}catch{}var t=translate.util.uuid();if(translate.to==null||translate.to==""){var n=translate.storage.get("to");n!=null&&typeof n<"u"&&n.length>0&&(translate.to=n)}try{translate.selectLanguageTag.render()}catch(C){console.log(C)}if(translate.to==null||typeof translate.to>"u"||translate.to.length==0){translate.autoDiscriminateLocalLanguage&&translate.executeByLocalLanguage(),translate.state=0;return}if(translate.to==translate.language.getLocal()&&!translate.language.translateLocal){translate.state=0;return}translate.images.execute();var s;typeof e<"u"&&e!=null?typeof e.length>"u"?(s=new Array,s[0]=e):s=e:s=translate.getDocuments(),s.length>500&&(console.log("------tip------"),console.log("translate.execute( docs ) 传入的docs.length 过大，超过500，这很不正常，当前 docs.length : "+s.length+" ,如果你感觉真的没问题，请联系作者 http://translate.zvo.cn/43006.html 说明情况，根据你的情况进行分析。 当前只取前500个元素进行翻译"));for(var r=0;r<s.length&r<500;r++){var a=s[r];translate.element.whileNodes(t,a)}if(translate.language.translateLanguagesRange.length>0)for(var o in translate.nodeQueue[t].list)translate.language.translateLanguagesRange.indexOf(o)<0&&delete translate.nodeQueue[t].list[o];typeof translate.nodeQueue[t]>"u"&&(translate.nodeQueue[t]=new Array,translate.nodeQueue[t].list=[],console.log("--- translate.js warn tip 警告！！ ---"),console.log("您使用translate.js时可能放的位置不对，不要吧 translate.js 放在网页最顶部，这样当 translate.js 进行执行，也就是 translate.execute() 执行时，因为网页是从上往下加载，它放在网页最顶部，那么它执行时网页后面的内容都还没加载出来，这个是不会获取到网页任何内容的，也就是它是不起任何作用的"));for(var o in translate.nodeQueue[t].list){for(var i in translate.nodeQueue[t].list[o])if(typeof translate.nodeQueue[t].list[o][i]!="function"){for(var l=translate.nodeQueue[t].list[o][i].nodes.length-1;l>-1;l--){var u=translate.element.nodeAnalyse.get(translate.nodeQueue[t].list[o][i].nodes[l].node),c=nodeuuid.uuid(u.node);typeof translate.nodeHistory[c]<"u"&&translate.nodeHistory[c].translateText==u.text&&translate.nodeQueue[t].list[o][i].nodes.splice(l,1)}translate.nodeQueue[t].list[o][i].nodes.length==0&&delete translate.nodeQueue[t].list[o][i]}Object.keys(translate.nodeQueue[t].list[o]).length==0&&delete translate.nodeQueue[t].list[o]}var d={},f={},y={},v=[];for(var o in translate.nodeQueue[t].list){if(o==null||typeof o>"u"||o.length==0||o=="undefined")continue;d[o]=[],f[o]=[];let T=new translate.renderTask;y[o]=[];for(var i in translate.nodeQueue[t].list[o])if(typeof translate.nodeQueue[t].list[o][i]!="function"){var w=translate.nodeQueue[t].list[o][i].original,S=translate.nodeQueue[t].list[o][i].translateText,g=w==S?i:translate.util.hash(S);translate.nodeQueue[t].list[o][i].cacheHash=g;var N=translate.storage.get("hash_"+translate.to+"_"+g);if(N!=null&&N.length>0){for(var x=0;x<translate.nodeQueue[t].list[o][i].nodes.length;x++){for(var m=translate.nodeQueue[t].list[o][i].nodes[x].node,$=!1,E=0;E<translate.inProgressNodes.length;E++)translate.inProgressNodes[E].node.isSameNode(m)&&(translate.inProgressNodes[E].number++,$=!0);$||translate.inProgressNodes.push({node:m,number:1});var k=translate.nodeQueue[t].list[o][i].nodes[x].beforeText+N+translate.nodeQueue[t].list[o][i].nodes[x].afterText;T.add(translate.nodeQueue[t].list[o][i].nodes[x].node,w,k,translate.nodeQueue[t].list[o][i].nodes[x].attribute);for(var R=-1,r=0;r<y[o].length;r++)if(translate.nodeQueue[t].list[o][i].nodes[x].node.isSameNode(y[o][r].node)){R=r;break}for(var A=-1,r=0;r<v.length;r++)if(translate.nodeQueue[t].list[o][i].nodes[x].node.isSameNode(v[r].node)){A=r;break}R==-1&&(R=y[o].length,y[o][R]={},y[o][R].node=translate.nodeQueue[t].list[o][i].nodes[x].node,y[o][R].array=[]),A==-1&&(A=v.length,v[A]={},v[A].node=translate.nodeQueue[t].list[o][i].nodes[x].node,v[A].array=[]);var ne=y[o][R].array.length;y[o][R].array[ne]=k;var se=v[A].array.length;v[A].array[se]=k}continue}d[o].push(S),f[o].push(i)}T.execute()}for(var o in y){for(var X=Object.keys(translate.nodeQueue[t].list[o]),ue=X.length,r=0;r<y[o].length;r++){for(var ie=0;ie<v.length;ie++)if(y[o][r].node.isSameNode(v[ie].node)){y[o][r].array=v[ie].array;break}y[o][r].array.sort(function(M,Q){return Q.length-M.length});for(var ye=translate.element.nodeAnalyse.get(y[o][r].node),me=ye.text,ce=0;ce<y[o][r].array.length;ce++)y[o][r].array[ce]<1||(me=me.replace(new RegExp(translate.util.regExp.pattern(y[o][r].array[ce]),"g"),translate.util.regExp.resultText(`
`)));for(var z=me.split(`
`),G=0;G<z.length;G++)z[G]<1||translate.addNodeToQueue(t,ye.node,z[G])}var ge=Object.keys(translate.nodeQueue[t].list[o]),j=ge.length;if(ue-j!=0)for(var V=0;V<ge.length;V++){var F=ge[V];if(X.indexOf(F)==-1){var te=translate.nodeQueue[t].list[o][F],g=te.original==te.translateText?F:translate.util.hash(te.translateText);translate.nodeQueue[t].list[o][F].cacheHash=g,d[o].push(te.translateText),f[o].push(F)}}}var ae=[];for(var o in translate.nodeQueue[t].list)typeof d[o]>"u"||d[o].length<1||o!=translate.to&&ae.push(o);if(ae.length==0){translate.state=0,translate.executeNumber++;return}for(var o in f)if(!(typeof f[o]>"u")&&!(f[o].length<1))for(var de=0;de<f[o].length;de++)for(var Z=f[o][de],ee=0;ee<translate.nodeQueue[t].list[o][Z].nodes.length;ee++){for(var m=translate.nodeQueue[t].list[o][Z].nodes[ee].node,$=!1,E=0;E<translate.inProgressNodes.length;E++)translate.inProgressNodes[E].node.isSameNode(m)&&(translate.inProgressNodes[E].number++,$=!0);$||translate.inProgressNodes.push({node:m,number:1})}translate.state=20,translate.listener.execute.renderStartByApiRun(t);for(var he in ae){var o=ae[he];if(typeof d[o]>"u"||d[o].length<1){console.log("异常,理论上不应该存在： typeof(translateTextArray[lang]) == 'undefined' || translateTextArray[lang].length < 1"),translate.state=0,translate.executeNumber++;return}(typeof translate.translateRequest[t]>"u"||translate.translateRequest[t]==null)&&(translate.translateRequest[t]={}),translate.translateRequest[t][o]={},translate.translateRequest[t][o].executeFinish=0,translate.translateRequest[t][o].addtime=Math.floor(Date.now()/1e3);var Ee=translate.request.api.translate,Le={from:o,to:translate.to,text:encodeURIComponent(JSON.stringify(d[o]))};translate.request.post(Ee,Le,function(T){if(T.result==0){translate.translateRequest[t][U].result=2,translate.translateRequest[t][U].executeFinish=1,translate.translateRequest[t][U].stoptime=Math.floor(Date.now()/1e3),translate.waitingExecute.isAllExecuteFinish(t),console.log("=======ERROR START======="),console.log(d[T.from]),console.log("response : "+T.info),console.log("=======ERROR END  =======");return}if(typeof translate.nodeQueue[t]>"u"){console.log("提示：你很可能多次引入了 translate.js 所以造成了翻译本身的数据错乱，这只是个提示，它还是会给你正常翻译的，但是你最好不要重复引入太多次 translate.js ，正常情况下只需要引入一次 translate.js 就可以了。太多的话很可能会导致你页面卡顿");return}let M=new translate.renderTask;for(var Q=0;Q<f[T.from].length;Q++){var U=T.from,Y=T.text[Q];if(Y!=null){Y.toLowerCase().indexOf(d[T.from][Q].toLowerCase())>-1&&(Y=d[T.from][Q]);var _=f[T.from][Q],b=translate.nodeQueue[t].list[U][_].cacheHash,B="";try{B=translate.nodeQueue[t].list[U][_].original}catch(re){console.log("uuid:"+t+", originalWord:"+B+", lang:"+U+", hash:"+_+", text:"+Y+", queue:"+translate.nodeQueue[t]),console.log(re);continue}for(var L=0;L<translate.nodeQueue[t].list[U][_].nodes.length;L++)M.add(translate.nodeQueue[t].list[U][_].nodes[L].node,B,translate.nodeQueue[t].list[U][_].nodes[L].beforeText+Y+translate.nodeQueue[t].list[U][_].nodes[L].afterText,translate.nodeQueue[t].list[U][_].nodes[L].attribute);translate.storage.set("hash_"+T.to+"_"+b,Y)}}M.execute(),translate.translateRequest[t][U].result=1,translate.translateRequest[t][U].executeFinish=1,translate.translateRequest[t][U].stoptime=Math.floor(Date.now()/1e3),setTimeout(function(){translate.waitingExecute.isAllExecuteFinish(t)},10)},function(T){translate.translateRequest[t][o].executeFinish=1,translate.translateRequest[t][o].stoptime=Math.floor(Date.now()/1e3),translate.translateRequest[t][o].result=3,translate.waitingExecute.isAllExecuteFinish(t)})}},translateRequest:{},nodeHistory:{},element:{tagAttribute:{},nodeAnalyse:{get:function(e,t){return translate.element.nodeAnalyse.analyse(e,"","",t)},set:function(e,t,n,s){translate.element.nodeAnalyse.analyse(e,t,n,s)},analyse:function(e,t,n,s){var r=new Array;r.node=e,r.text="";var a=translate.element.getNodeName(e);if(s!=null&&typeof s=="string"&&s.length>0){if(r.text=e[s],typeof t<"u"&&t.length>0){typeof e[s]<"u"&&(e[s]=e[s].replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n)));var o=e.getAttribute(s);o!=null&&typeof o<"u"&&e.setAttribute(s,o.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n)))}return r}if(a=="#text"&&typeof e.parentNode<"u"){var i=translate.element.getNodeName(e.parentNode);i=="TEXTAREA"&&(a="TEXTAREA",e=e.parentNode)}if(a=="INPUT"||a=="TEXTAREA"){if(e.attributes==null||typeof e.attributes>"u")return r.text="",r;if(a=="INPUT"&&typeof e.attributes.type<"u"&&typeof e.attributes.type.nodeValue!=null&&(e.attributes.type.nodeValue.toLowerCase()=="button"||e.attributes.type.nodeValue.toLowerCase()=="submit")){var l=e.attributes.value;if(l!=null&&typeof l<"u"&&typeof l.nodeValue<"u"&&l.nodeValue.length>0)return typeof t<"u"&&t.length>0&&(l.nodeValue=l.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),r.text=l.nodeValue,r.node=l,r}return typeof e.attributes.placeholder<"u"?(typeof t<"u"&&t.length>0&&(e.attributes.placeholder.nodeValue=e.attributes.placeholder.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),r.text=e.attributes.placeholder.nodeValue,r.node=e.attributes.placeholder,r):(r.text="",r)}if(a=="META"){if(typeof e.name<"u"&&e.name!=null){var u=e.name.toLowerCase(),c=e.getAttribute("property"),d="";if(typeof c<"u"&&c!=null&&c.length>0&&(d=c.toLowerCase()),u=="keywords"||u=="description"||u=="sharetitle"||d=="og:title"||d=="og:description"||d=="og:site_name"||d=="og:novel:latest_chapter_name")return typeof t<"u"&&t!=null&&t.length>0&&(e.content=e.content.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),r.text=e.content,r}return r.text="",r}return a=="IMG"?typeof e.alt>"u"||e.alt==null?(r.text="",r):(typeof t<"u"&&t.length>0&&(e.alt=e.alt.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),r.text=e.alt,r):(e.nodeValue==null||typeof e.nodeValue>"u"||e.nodeValue.trim().length==0?r.text="":(typeof t<"u"&&t!=null&&t.length>0&&(e.nodeValue=e.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),r.text=e.nodeValue),r)}},getNodeName:function(e){if(e==null||typeof e>"u"||e.nodeName==null||typeof e.nodeName>"u")return"";var t=e.nodeName;return t},whileNodes:function(e,t){if(!(t==null||typeof t>"u")){(typeof translate.nodeQueue[e]>"u"||translate.nodeQueue[e]==null)&&(translate.nodeQueue[e]=new Array,translate.nodeQueue[e].expireTime=Date.now()+120*1e3,translate.nodeQueue[e].list=new Array),typeof t=="object"&&typeof t.title=="string"&&t.title.length>0&&(translate.ignore.isIgnore(t)||translate.addNodeToQueue(e,t,t.title,"title"));var n=translate.element.getNodeName(t).toLowerCase();if(typeof translate.element.tagAttribute[n]<"u")for(var s in translate.element.tagAttribute[n]){var r=translate.element.tagAttribute[n][s],a=t.getAttribute(r);(typeof a>"u"||a==null)&&(a=t[r]),!(typeof a>"u"||a==null)&&translate.addNodeToQueue(e,t,a,r)}var o=t.childNodes;if(!(o==null||typeof o>"u"))if(o.length>0)for(var i=0;i<o.length;i++)translate.element.whileNodes(e,o[i]);else translate.element.findNode(e,t)}},findNode:function(e,t){if(!(t==null||typeof t>"u")&&t.parentNode!=null){var n=translate.element.getNodeName(t.parentNode);if(n!=""&&!(translate.ignore.tag.indexOf(n.toLowerCase())>-1)&&!translate.ignore.isIgnore(t)){var s=translate.element.nodeAnalyse.get(t);s.text.length>0&&translate.addNodeToQueue(e,s.node,s.text)}}}},addNodeToQueue:function(e,t,n,s){if(!(t==null||n==null||n.length==0)){var r=translate.element.getNodeName(t);if(r.toLowerCase()!="#comment"){if(translate.util.hash(n),translate.util.findTag(n)){if(t.parentNode==null)return;var a=translate.element.getNodeName(t.parentNode);if(a=="SCRIPT"||a=="STYLE")return}var o=new Array;o.push(n);for(var i=0;i<translate.ignore.text.length;i++)translate.ignore.text[i].trim().length!=0&&(o=translate.addNodeToQueueTextAnalysis(e,t,o,s,translate.ignore.text[i],translate.ignore.text[i]));if(typeof translate.temp_nomenclature>"u"&&(translate.temp_nomenclature=new Array),typeof translate.temp_nomenclature[translate.language.getLocal()]>"u"&&(l=new Array),typeof translate.nomenclature.data[translate.language.getLocal()]<"u"&&typeof translate.nomenclature.data[translate.language.getLocal()][translate.to]<"u"){var l;for(var u in translate.nomenclature.data[translate.language.getLocal()][translate.to]){var c=translate.nomenclature.data[translate.language.getLocal()][translate.to][u];o=translate.addNodeToQueueTextAnalysis(e,t,o,s,u,c),typeof l<"u"&&l.push(u)}typeof translate.temp_nomenclature[translate.language.getLocal()]>"u"&&(translate.temp_nomenclature[translate.language.getLocal()]=l)}for(var d=0;d<o.length;d++)o[d].trim().length!=0&&(translate.ignore.text.indexOf(o[d].trim())>-1||typeof translate.temp_nomenclature[translate.language.getLocal()]<"u"&&translate.temp_nomenclature[translate.language.getLocal()].indexOf(o[d].trim())>-1||translate.addNodeToQueueAnalysis(e,t,o[d],s))}}},addNodeToQueueTextAnalysis:function(e,t,n,s,r,a){for(var o=new Array,i=0;i<n.length;i++){var l=n[i];if(l.trim()!=a.trim()){var u=l.indexOf(r);if(u>-1){if(r!=a){var c=u-a.length;c<0&&(c=0);var d=u+a.length;d>l.length&&(d=l.length);var f=l.substring(c,d);if(f.indexOf(a)>-1)continue}if(translate.language.wordBlankConnector(translate.to)){if(u>0){var y=l.charAt(u-1);/\s/.test(y)||(a=" "+a)}u+r.length<l.length&&(l.charAt(u+r.length),/\s/.test(y)||(a=a+" "))}r!=a&&translate.element.nodeAnalyse.set(t,r,a,s);for(var v=l.split(r),w=0;w<v.length;w++){var S=v[w];S.trim().length!=0&&(n.push(S),o.push(l))}}}}if(o.length>0)for(var g=0;g<o.length;g++){let N=n.indexOf(o[g]);N>-1&&n.splice(N,1)}return n},addNodeToQueueAnalysis:function(e,t,n,s){var r=translate.language.recognition(n),a=r.languageArray;typeof a[translate.to]<"u"&&delete a[translate.to];var o=translate.whole.isWhole(t);if(o){var i=r.languageName;translate.addNodeQueueItem(e,t,n,s,i,"","")}else for(var i in a)for(var l=0;l<a[i].list.length;l++)if(!(typeof a[i].list[l]>"u"||typeof a[i].list[l].text>"u")){var u=a[i].list[l].text,c=a[i].list[l].beforeText,d=a[i].list[l].afterText;translate.addNodeQueueItem(e,t,u,s,i,c,d)}},addNodeQueueItem:function(e,t,n,s,r,a,o){(translate.nodeQueue[e].list[r]==null||typeof translate.nodeQueue[e].list[r]>"u")&&(translate.nodeQueue[e].list[r]=new Array);var i=translate.util.hash(n);(translate.nodeQueue[e].list[r][i]==null||typeof translate.nodeQueue[e].list[r][i]>"u")&&(translate.nodeQueue[e].list[r][i]=new Array,translate.nodeQueue[e].list[r][i].nodes=new Array,translate.nodeQueue[e].list[r][i].original=n,translate.nodeQueue[e].list[r][i].translateText=n);var l=!1;if(typeof t.isSameNode<"u"){for(var u=0;u<translate.nodeQueue[e].list[r][i].nodes.length;u++)if(t.isSameNode(translate.nodeQueue[e].list[r][i].nodes[u].node)){l=!0;continue}}if(!l){var c=translate.nodeQueue[e].list[r][i].nodes.length;translate.nodeQueue[e].list[r][i].nodes[c]=new Array,translate.nodeQueue[e].list[r][i].nodes[c].node=t,translate.nodeQueue[e].list[r][i].nodes[c].attribute=s,translate.nodeQueue[e].list[r][i].nodes[c].beforeText=a,translate.nodeQueue[e].list[r][i].nodes[c].afterText=o}},whole:{isEnableAll:!1,enableAll:function(){translate.whole.isEnableAll=!0},class:[],tag:[],id:[],executeTip:function(){translate.whole.class.length==0&&translate.whole.tag.length==0&&translate.whole.id.length==0||console.log("您开启了 translate.whole 此次行为避开了浏览器端的文本语种自动识别，而是暴力的直接对某个元素的整个文本进行翻译，很可能会产生非常大的翻译量，请谨慎！有关每日翻译字符的说明，可参考： http://translate.zvo.cn/42557.html "),translate.whole.tag.indexOf("html")>-1&&console.log("自检发现您设置了 translate.whole.tag 其中有 html ，这个是不生效的，最大只允许设置到 body ")},isWhole:function(e){if(translate.whole.class.length==0&&translate.whole.tag.length==0&&translate.whole.id.length==0&&translate.whole.isEnableAll==!1||e==null||typeof e>"u")return!1;if(translate.whole.isEnableAll)return!0;for(var t=e,n=100;n-- >0;){if(t==null||typeof t>"u")return!1;var s=translate.element.getNodeName(t).toLowerCase();if(s.length>0){if(s=="html"||s=="#document")return!1;if(translate.whole.tag.indexOf(s)>-1)return!0}if(t.className!=null){var r=t.className;if(r==null||typeof r!="string")continue;r=r.trim().split(" ");for(var a=0;a<r.length;a++)if(r[a]!=null&&r[a].trim().length>0&&translate.whole.class.indexOf(r[a])>-1)return!0}if(t.id!=null&&typeof t.id<"u"&&translate.whole.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1}},language:{englishVarietys:["french","italian","deutsch"],local:"",translateLocal:!1,translateLanguagesRange:[],setLocal:function(e){translate.useVersion="v2",translate.language.local=e},getLocal:function(){return(translate.language.local==null||translate.language.local.length<1)&&translate.language.autoRecognitionLocalLanguage(),translate.language.local},getCurrent:function(){var e=translate.storage.get("to");return e!=null&&typeof e<"u"&&e.length>0?e:translate.language.getLocal()},setDefaultTo:function(e){var t=translate.storage.get("to");t!=null&&typeof t<"u"&&t.length>0||(translate.storage.set("to",e),translate.to=e)},clearCacheLanguage:function(){translate.to="",translate.storage.set("to","")},setUrlParamControl:function(e){(typeof e>"u"||e.length<1)&&(e="language");var t=translate.util.getUrlParam(e);typeof t>"u"||t==""||t=="null"||t=="undefined"||(translate.storage.set("to",t),translate.to=t)},autoRecognitionLocalLanguage:function(){if(!(translate.language.local!=null&&translate.language.local.length>2)){var e=document.body.outerText;if(e==null||typeof e>"u"||e.length<1){translate.language.local="chinese_simplified";return}e=e.replace(/\n|\t|\r/g,""),translate.language.local="chinese_simplified";var t=translate.language.recognition(e);return translate.language.local=t.languageName,translate.language.local}},get:function(e){for(var t=new Array,n=new Array,s=[],r=[],a=0;a<e.length;a++){var o=e.charAt(a),i=translate.language.getCharLanguage(o);i==""&&(i="unidentification");var l=translate.language.analyse(i,n,s,r,o);n=l.langStrs,typeof s.language<"u"&&(r.language=s.language,r.charstr=s.charstr,r.storage_language=s.storage_language),s.language=l.storage_language,s.charstr=o,s.storage_language=l.storage_language,t.push(i)}return typeof n.unidentification<"u"&&delete n.unidentification,typeof n.specialCharacter<"u"&&delete n.specialCharacter,typeof n.number<"u"&&delete n.number,n},recognition:function(e){var t=translate.language.get(e),n=[],s=[],r=0;for(var a in t)if(typeof t[a]=="object"){for(var o=0,i=0;i<t[a].length;i++)o=o+t[a][i].text.length;r=r+o,n[a]=o,s[a]=o}var l=[];for(var u in n)n[u]/r>.01&&(l[l.length]=u+"");if(l.length>1&&l.indexOf("english")>-1)if(l.indexOf("romance")>-1){var c=translate.language.romanceSentenceAnaly(e);c.length==0?console.log("语种识别异常，应该是 法语、西班牙语、葡萄牙语、意大利语 中的一种才是，除非是除了这四种语种之外的别的 罗曼语族 中的语种，当前已将 "+e+"识别为英语。 你可以联系我们求助 https://translate.zvo.cn/4030.html"):(n[c]=n.romance+n.english,n.english=0)}else n.english=0;l.indexOf("chinese_simplified")>-1&&l.indexOf("chinese_traditional")>-1&&(n.chinese_simplified=0);var d="",f=0;for(var u in n)n[u]>f&&(d=u,f=n[u]);var y={};for(var u in t)y[u]={},y[u].number=s[u],y[u].list=t[u];var v={languageName:d,languageArray:y};if(v.languageName=="english"){var w=translate.language.getLocal();translate.language.englishVarietys.indexOf(w)>-1&&(v.languageName=w)}return v},getCharLanguage:function(e){if(e==null||typeof e>"u")return"";if(this.russian(e))return"russian";if(this.english(e))return"english";if(this.romance(e))return"romance";if(this.specialCharacter(e))return"specialCharacter";if(this.number(e))return"number";var t=this.chinese(e);return t=="simplified"?"chinese_simplified":t=="traditional"?"chinese_traditional":this.japanese(e)?"japanese":this.korean(e)?"korean":""},analyse:function(e,t,n,s,r){typeof t[e]>"u"&&(t[e]=new Array);var a=0;typeof n.storage_language>"u"||(translate.language.connector(r)&&(e=n.storage_language),n.storage_language==e?a=t[e].length-1:a=t[e].length),typeof t[e][a]>"u"&&(t[e][a]=new Array,t[e][a].beforeText="",t[e][a].afterText="",t[e][a].text=""),t[e][a].text=t[e][a].text+r,translate.language.wordBlankConnector(translate.language.getLocal())==!1&&translate.language.wordBlankConnector(translate.to)&&n.storage_language!=null&&typeof n.storage_language<"u"&&n.storage_language.length>0&&n.storage_language!="specialCharacter"&&(translate.language.wordBlankConnector(n.storage_language)==!1&&translate.language.wordBlankConnector(e)?t[n.storage_language][t[n.storage_language].length-1].afterText=" ":n.storage_language=="english"&&e!="english"&&(t[e][a].beforeText=" "));var o=new Array;return o.langStrs=t,o.storage_language=e,o},connector:function(e){return!!(/.*[\u0020\u00A0\u202F\u205F\u3000]+.*$/.test(e)||/.*[\u0030-\u0039]+.*$/.test(e)||/.*[\u0021\u0022\u0023\u0024\u0025\u0026\u0027\u002C\u002D\u002E\u003A\u003B\u003F\u0040]+.*$/.test(e)||/.*[\u3002\uFF1F\uFF01\uFF0C\u3001\uFF1B\uFF1A\u300C\u300D\u300E\u300F\u2018\u2019\u201C\u201D\uFF08\uFF09\u3014\u3015\u3010\u3011\u2014\u2026\u2013\uFF0E\u300A\u300B\u3008\u3009\u00b7]+.*$/.test(e))},wordBlankConnector:function(e){if(e==null||typeof e>"u")return!0;switch(e.trim().toLowerCase()){case"chinese_simplified":return!1;case"chinese_traditional":return!1;case"korean":return!1;case"japanese":return!1}return!0},chinese_traditional_dict:"皚藹礙愛翺襖奧壩罷擺敗頒辦絆幫綁鎊謗剝飽寶報鮑輩貝鋇狽備憊繃筆畢斃閉邊編貶變辯辮鼈癟瀕濱賓擯餅撥缽鉑駁蔔補參蠶殘慚慘燦蒼艙倉滄廁側冊測層詫攙摻蟬饞讒纏鏟産闡顫場嘗長償腸廠暢鈔車徹塵陳襯撐稱懲誠騁癡遲馳恥齒熾沖蟲寵疇躊籌綢醜櫥廚鋤雛礎儲觸處傳瘡闖創錘純綽辭詞賜聰蔥囪從叢湊竄錯達帶貸擔單鄲撣膽憚誕彈當擋黨蕩檔搗島禱導盜燈鄧敵滌遞締點墊電澱釣調諜疊釘頂錠訂東動棟凍鬥犢獨讀賭鍍鍛斷緞兌隊對噸頓鈍奪鵝額訛惡餓兒爾餌貳發罰閥琺礬釩煩範販飯訪紡飛廢費紛墳奮憤糞豐楓鋒風瘋馮縫諷鳳膚輻撫輔賦複負訃婦縛該鈣蓋幹趕稈贛岡剛鋼綱崗臯鎬擱鴿閣鉻個給龔宮鞏貢鈎溝構購夠蠱顧剮關觀館慣貫廣規矽歸龜閨軌詭櫃貴劊輥滾鍋國過駭韓漢閡鶴賀橫轟鴻紅後壺護滬戶嘩華畫劃話懷壞歡環還緩換喚瘓煥渙黃謊揮輝毀賄穢會燴彙諱誨繪葷渾夥獲貨禍擊機積饑譏雞績緝極輯級擠幾薊劑濟計記際繼紀夾莢頰賈鉀價駕殲監堅箋間艱緘繭檢堿鹼揀撿簡儉減薦檻鑒踐賤見鍵艦劍餞漸濺澗漿蔣槳獎講醬膠澆驕嬌攪鉸矯僥腳餃繳絞轎較稭階節莖驚經頸靜鏡徑痙競淨糾廄舊駒舉據鋸懼劇鵑絹傑潔結誡屆緊錦僅謹進晉燼盡勁荊覺決訣絕鈞軍駿開凱顆殼課墾懇摳庫褲誇塊儈寬礦曠況虧巋窺饋潰擴闊蠟臘萊來賴藍欄攔籃闌蘭瀾讕攬覽懶纜爛濫撈勞澇樂鐳壘類淚籬離裏鯉禮麗厲勵礫曆瀝隸倆聯蓮連鐮憐漣簾斂臉鏈戀煉練糧涼兩輛諒療遼鐐獵臨鄰鱗凜賃齡鈴淩靈嶺領餾劉龍聾嚨籠壟攏隴樓婁摟簍蘆盧顱廬爐擄鹵虜魯賂祿錄陸驢呂鋁侶屢縷慮濾綠巒攣孿灤亂掄輪倫侖淪綸論蘿羅邏鑼籮騾駱絡媽瑪碼螞馬罵嗎買麥賣邁脈瞞饅蠻滿謾貓錨鉚貿麽黴沒鎂門悶們錳夢謎彌覓綿緬廟滅憫閩鳴銘謬謀畝鈉納難撓腦惱鬧餒膩攆撚釀鳥聶齧鑷鎳檸獰甯擰濘鈕紐膿濃農瘧諾歐鷗毆嘔漚盤龐國愛賠噴鵬騙飄頻貧蘋憑評潑頗撲鋪樸譜臍齊騎豈啓氣棄訖牽扡釺鉛遷簽謙錢鉗潛淺譴塹槍嗆牆薔強搶鍬橋喬僑翹竅竊欽親輕氫傾頃請慶瓊窮趨區軀驅齲顴權勸卻鵲讓饒擾繞熱韌認紉榮絨軟銳閏潤灑薩鰓賽傘喪騷掃澀殺紗篩曬閃陝贍繕傷賞燒紹賒攝懾設紳審嬸腎滲聲繩勝聖師獅濕詩屍時蝕實識駛勢釋飾視試壽獸樞輸書贖屬術樹豎數帥雙誰稅順說碩爍絲飼聳慫頌訟誦擻蘇訴肅雖綏歲孫損筍縮瑣鎖獺撻擡攤貪癱灘壇譚談歎湯燙濤縧騰謄銻題體屜條貼鐵廳聽烴銅統頭圖塗團頹蛻脫鴕馱駝橢窪襪彎灣頑萬網韋違圍爲濰維葦偉僞緯謂衛溫聞紋穩問甕撾蝸渦窩嗚鎢烏誣無蕪吳塢霧務誤錫犧襲習銑戲細蝦轄峽俠狹廈鍁鮮纖鹹賢銜閑顯險現獻縣餡羨憲線廂鑲鄉詳響項蕭銷曉嘯蠍協挾攜脅諧寫瀉謝鋅釁興洶鏽繡虛噓須許緒續軒懸選癬絢學勳詢尋馴訓訊遜壓鴉鴨啞亞訝閹煙鹽嚴顔閻豔厭硯彥諺驗鴦楊揚瘍陽癢養樣瑤搖堯遙窯謠藥爺頁業葉醫銥頤遺儀彜蟻藝億憶義詣議誼譯異繹蔭陰銀飲櫻嬰鷹應纓瑩螢營熒蠅穎喲擁傭癰踴詠湧優憂郵鈾猶遊誘輿魚漁娛與嶼語籲禦獄譽預馭鴛淵轅園員圓緣遠願約躍鑰嶽粵悅閱雲鄖勻隕運蘊醞暈韻雜災載攢暫贊贓髒鑿棗竈責擇則澤賊贈紮劄軋鍘閘詐齋債氈盞斬輾嶄棧戰綻張漲帳賬脹趙蟄轍鍺這貞針偵診鎮陣掙睜猙幀鄭證織職執紙摯擲幟質鍾終種腫衆謅軸皺晝驟豬諸誅燭矚囑貯鑄築駐專磚轉賺樁莊裝妝壯狀錐贅墜綴諄濁茲資漬蹤綜總縱鄒詛組鑽緻鐘麼為隻兇準啟闆裡靂餘鍊",chinese:function(e){return/.*[\u4e00-\u9fa5]+.*$/.test(e)?this.chinese_traditional_dict.indexOf(e)>-1?"traditional":"simplified":""},japanese:function(e){return!!/.*[\u3040-\u309F\u30A0-\u30FF]+.*$/.test(e)},korean:function(e){return!!/.*[\uAC00-\uD7AF]+.*$/.test(e)},russian:function(e){return!!/.*[\u0411\u0412\u0414\u0416\u0417\u0418\u0419\u041B\u041C\u041D\u041E\u041F\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042E\u042F\u0407\u0406]+.*$/.test(e)},number:function(e){return!!/.*[\u0030-\u0039]+.*$/.test(e)},english:function(e){return/.*[\u0041-\u005a]+.*$/.test(e)?!0:!!/.*[\u0061-\u007a]+.*$/.test(e)},romance_dict:["é","è","ê","à","ç","œ","ñ","á","ó","ò","ì","ã","õ"],romance:function(e){return this.romance_dict.indexOf(e)>-1},romanceSentenceAnaly:function(e){const t={french:{score:0,chars:["é","è","ê","à","ç","œ"]},spanish:{score:0,chars:["ñ","á","ó"],pairs:["ll"]},italian:{score:0,chars:["ò","ì"],pairs:["cc","ss"]},portuguese:{score:0,chars:["ã","õ"]}};for(let r=0;r<e.length;r++){const a=e[r].toLowerCase();if(Object.keys(t).forEach(o=>{t[o].chars.includes(a)&&(t[o].score+=1)}),r<e.length-1){const o=e.slice(r,r+2).toLowerCase();Object.keys(t).forEach(i=>{const l=t[i].pairs;l&&l.includes(o)&&(t[i].score+=2)})}}let n="",s=-1;return Object.keys(t).forEach(r=>{t[r].score>s&&(s=t[r].score,n=r)}),n||""},specialCharacter:function(e){return!!(/.*[\u2460-\u24E9]+.*$/.test(e)||/.*[\u2500-\u25FF]+.*$/.test(e)||/.*[\u3200-\u33FF]+.*$/.test(e)||/.*[\uFF00-\uFF5E]+.*$/.test(e)||/.*[\u2000-\u22FF]+.*$/.test(e)||/.*[\u3001-\u3036]+.*$/.test(e)||/.*[\u0020-\u002F]+.*$/.test(e)||/.*[\u003B\u003B\u003C\u003D\u003E\u003F\u005B\u005C\u005D\u005E\u005F\u0060\u007B\u007C\u007D\u007E]+.*$/.test(e)||/.*[\u0009\u000a\u0020\u00A0\u1680\u180E\u202F\u205F\u3000\uFEFF]+.*$/.test(e)||/.*[\u2000-\u200B]+.*$/.test(e)||/.*[\u00A1-\u0105]+.*$/.test(e)||/.*[\u2C60-\u2C77]+.*$/.test(e))}},executeByLocalLanguage:function(){var e=translate.util.browserDefaultLanguage();if(typeof e<"u"&&e.length>0){translate.changeLanguage(e);return}translate.request.post(translate.request.api.ip,{},function(t){t.result==0?(console.log("==== ERROR 获取当前用户所在区域异常 ===="),console.log(t.info),console.log("==== ERROR END ====")):(translate.storage.set("to",t.language),translate.to=t.language,translate.selectLanguageTag,translate.execute())},null)},util:{uuid:function(){var e=new Date().getTime();window.performance&&typeof window.performance.now=="function"&&(e+=performance.now());var t="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var s=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n=="x"?s:s&3|8).toString(16)});return t},findTag:function(e){var t=/<[^>]+>/g;return t.test(e)},arrayFindMaxNumber:function(e){for(var t={},n=[],s=0,r=0,a=e.length;r<a;r++)t[e[r]]?t[e[r]]++:t[e[r]]=1,t[e[r]]>s&&(s=t[e[r]]);for(var o in t)t[o]===s&&n.push(o);return n},hash:function(e){if(e==null||typeof e>"u")return e;var t=0,n,s;if(e.length===0)return t;for(n=0;n<e.length;n++)s=e.charCodeAt(n),t=(t<<5)-t+s,t|=0;return t+""},charReplace:function(e){return e==null?"":(e=e.trim(),e=e.replace(/\t|\n|\v|\r|\f/g,""),e)},regExp:{pattern:function(e){return e=e.replace(/\\/g,"\\\\"),e=e.replace(/\"/g,'\\"'),e=e.replace(/\?/g,"\\?"),e=e.replace(/\$/g,"\\$"),e=e.replace(/\(/g,"\\("),e=e.replace(/\)/g,"\\)"),e=e.replace(/\|/g,"\\|"),e=e.replace(/\+/g,"\\+"),e=e.replace(/\*/g,"\\*"),e=e.replace(/\[/g,"\\["),e=e.replace(/\]/g,"\\]"),e=e.replace(/\^/g,"\\^"),e=e.replace(/\{/g,"\\{"),e=e.replace(/\}/g,"\\}"),e},resultText:function(e){return e}},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return n!=null?unescape(n[2]):""},synchronizesLoadJs:function(e){var t=null;if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch{t=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(t=new XMLHttpRequest);if(t.open("GET",e,!1),t.send(null),t.readyState==4)if(t.status>=200&&t.status<300||t.status==0||t.status==304){var n=document.getElementsByTagName("HTML")[0],s=document.createElement("script");s.language="javascript",s.type="text/javascript";try{s.appendChild(document.createTextNode(t.responseText))}catch{s.text=t.responseText}return n.appendChild(s),!0}else return!1;else return!1},loadMsgJs:function(){typeof msg<"u"||translate.util.synchronizesLoadJs("https://res.zvo.cn/msg/msg.js")},objSort:function(e){var t=Array.from(Object.keys(e));t.sort(function(r,a){return a.length-r.length});var n=new Array;for(var s of t)n[s]=e[s];return n},versionStringToInt:function(e){var t=e.split("."),n=0;return n=parseInt(t[0])*1e3*1e3+n,n=parseInt(t[1])*1e3+n,n=parseInt(t[2])+n,n},split:function(e,t,n){let s=t,r=[];if(JSON.stringify(e).length<=t)r.push(e);else{let a=JSON.stringify(e).trim().substring(1,JSON.stringify(e).length-1);if(JSON.stringify(e).length-t<=2){t=t-4;let o=a.substring(0,a.lastIndexOf('","')+1),i=a.substring(a.lastIndexOf('","')+2);r.push(JSON.parse("["+o+"]")),r.push(JSON.parse("["+i+"]"))}else{t=t-2;let o=0;for(;o-a.length<0;){let i="";o+t-a.length>=0?i=a.substring(o):i=a.substring(o,o+t);let l=i.length,u=1;i.endsWith('"')?i.endsWith('","')?l-=2:i.startsWith('"')||(l=i.lastIndexOf('","')+1):i.endsWith('",')?l-=1:(l=i.lastIndexOf('","')+1,l<=0&&(i.startsWith('"')?l=i.length-1:l=i.length-2,i.endsWith('"')||(u=0)));let c="";l-i.length>0||l-0==0?(c=i,l=l+c.length):c=i.substring(0,l),!c.startsWith('"')&&!c.startsWith(',"')&&(c='"'+c),c.endsWith('"')||(c=c+'"'),o+=l+u,c="["+c+"]";try{r.push(JSON.parse(c))}catch{o=o-(l+u)+1}}}}return n&&n>0&&(r=translate.util._splitMaxSize(r,s,n)),r},_splitMaxSize:function(e,t,n){let s=[],r=[];if(e.forEach(function(a,o){if(a=r.concat(a),a.length>n){let l=a.slice(0,n),u=a.slice(n),c=1;for(;JSON.stringify(l).length>t&&(l=a.slice(0,n-c),u=a.slice(n-c),c++,!(c>=a.length+1)););s.push(l),r.length=0,r=u}else{let l=a,u=[],c=1;for(;JSON.stringify(l).length>t&&(l=a.slice(0,n-c),u=a.slice(n-c),c++,!(c>=a.length+1)););s.push(l),r.length=0,r=u}}),r.length>0){let a=[];a.push(r);let o=translate.util._splitMaxSize(a,t,n);s=s.concat(o)}return s},browserLanguage:{"zh-CN":"chinese_simplified","zh-TW":"chinese_traditional","zh-HK":"chinese_traditional",co:"corsican",gn:"guarani",rw:"kinyarwanda",ha:"hausa",no:"norwegian",nl:"dutch",yo:"yoruba",en:"english","en-US":"english",kok:"gongen",la:"latin",ne:"nepali",fr:"french",cs:"czech",haw:"hawaiian",ka:"georgian",ru:"russian",fa:"persian",bho:"bhojpuri",hi:"hindi",be:"belarusian",sw:"swahili",is:"icelandic",yi:"yiddish",tw:"twi",ga:"irish",gu:"gujarati",km:"khmer",sk:"slovak",he:"hebrew",kn:"kannada",hu:"hungarian",ta:"tamil",ar:"arabic",bn:"bengali",az:"azerbaijani",sm:"samoan",af:"afrikaans",id:"indonesian",da:"danish",sn:"shona",bm:"bambara",lt:"lithuanian",vi:"vietnamese",mt:"maltese",tk:"turkmen",as:"assamese",ca:"catalan",si:"singapore",ceb:"cebuano",gd:"scottish-gaelic",sa:"sanskrit",pl:"polish",gl:"galician",lv:"latvian",uk:"ukrainian",tt:"tatar",cy:"welsh",ja:"japanese",fil:"filipino",ay:"aymara",lo:"lao",te:"telugu",ro:"romanian",ht:"haitian_creole",doi:"dogrid",sv:"swedish",mai:"maithili",th:"thai",hy:"armenian",my:"burmese",ps:"pashto",hmn:"hmong",dv:"dhivehi",lb:"luxembourgish",sd:"sindhi",ku:"kurdish",tr:"turkish",mk:"macedonian",bg:"bulgarian",ms:"malay",lg:"luganda",mr:"marathi",et:"estonian",ml:"malayalam",de:"deutsch",sl:"slovene",ur:"urdu",pt:"portuguese",ig:"igbo",ckb:"kurdish_sorani",om:"oromo",el:"greek",es:"spanish",fy:"frisian",so:"somali",am:"amharic",ny:"nyanja",pa:"punjabi",eu:"basque",it:"italian",sq:"albanian",ko:"korean",tg:"tajik",fi:"finnish",ky:"kyrgyz",ee:"ewe",hr:"croatian",kri:"creole",qu:"quechua",bs:"bosnian",mi:"maori"},browserDefaultLanguage:function(){var e=navigator.language||navigator.userLanguage;if(typeof e=="string"&&e.length>0){var t=translate.util.browserLanguage[e];if(typeof t>"u")console.log("browser default language : "+e+", translate.js current translate channel not support this language ");else return t}return""}},service:{name:"translate.service",use:function(e){if(translate.enterprise.isUse==!0){console.log("您已启用了企业级翻译通道 translate.enterprise.use(); (文档：https://translate.zvo.cn/4087.html) , 所以您设置的 translate.service.use('"+e+"'); (文档：https://translate.zvo.cn/4081.html) 将失效不起作用，有企业级翻译通道全部接管。");return}typeof e=="string"&&e=="client.edge"&&(translate.service.name=e,translate.whole.enableAll())},edge:{api:{auth:"https://edge.microsoft.com/translate/auth",translate:"https://api.cognitive.microsofttranslator.com/translate?from={from}&to={to}&api-version=3.0&includeSentenceLength=true"},language:{json:[{id:"ukrainian",name:"Україна",serviceId:"uk"},{id:"norwegian",name:"Norge",serviceId:"no"},{id:"welsh",name:"Iaith Weleg",serviceId:"cy"},{id:"dutch",name:"nederlands",serviceId:"nl"},{id:"japanese",name:"日本語",serviceId:"ja"},{id:"filipino",name:"Pilipino",serviceId:"fil"},{id:"english",name:"English",serviceId:"en"},{id:"lao",name:"ກະຣຸນາ",serviceId:"lo"},{id:"telugu",name:"తెలుగుName",serviceId:"te"},{id:"romanian",name:"Română",serviceId:"ro"},{id:"nepali",name:"नेपालीName",serviceId:"ne"},{id:"french",name:"Français",serviceId:"fr"},{id:"haitian_creole",name:"Kreyòl ayisyen",serviceId:"ht"},{id:"czech",name:"český",serviceId:"cs"},{id:"swedish",name:"Svenska",serviceId:"sv"},{id:"russian",name:"Русский язык",serviceId:"ru"},{id:"malagasy",name:"Malagasy",serviceId:"mg"},{id:"burmese",name:"ဗာရမ်",serviceId:"my"},{id:"pashto",name:"پښتوName",serviceId:"ps"},{id:"thai",name:"คนไทย",serviceId:"th"},{id:"armenian",name:"Արմենյան",serviceId:"hy"},{id:"chinese_simplified",name:"简体中文",serviceId:"zh-CHS"},{id:"persian",name:"Persian",serviceId:"fa"},{id:"chinese_traditional",name:"繁體中文",serviceId:"zh-CHT"},{id:"kurdish",name:"Kurdî",serviceId:"ku"},{id:"turkish",name:"Türkçe",serviceId:"tr"},{id:"hindi",name:"हिन्दी",serviceId:"hi"},{id:"bulgarian",name:"български",serviceId:"bg"},{id:"malay",name:"Malay",serviceId:"ms"},{id:"swahili",name:"Kiswahili",serviceId:"sw"},{id:"oriya",name:"ଓଡିଆ",serviceId:"or"},{id:"icelandic",name:"ÍslandName",serviceId:"is"},{id:"irish",name:"Íris",serviceId:"ga"},{id:"khmer",name:"ភាសា​ខ្មែរName",serviceId:"km"},{id:"gujarati",name:"ગુજરાતી",serviceId:"gu"},{id:"slovak",name:"Slovenská",serviceId:"sk"},{id:"kannada",name:"ಕನ್ನಡ್Name",serviceId:"kn"},{id:"hebrew",name:"היברית",serviceId:"he"},{id:"hungarian",name:"magyar",serviceId:"hu"},{id:"marathi",name:"मराठीName",serviceId:"mr"},{id:"tamil",name:"தாமில்",serviceId:"ta"},{id:"estonian",name:"eesti keel",serviceId:"et"},{id:"malayalam",name:"മലമാലം",serviceId:"ml"},{id:"inuktitut",name:"ᐃᓄᒃᑎᑐᑦ",serviceId:"iu"},{id:"arabic",name:"بالعربية",serviceId:"ar"},{id:"deutsch",name:"Deutsch",serviceId:"de"},{id:"slovene",name:"slovenščina",serviceId:"sl"},{id:"bengali",name:"বেঙ্গালী",serviceId:"bn"},{id:"urdu",name:"اوردو",serviceId:"ur"},{id:"azerbaijani",name:"azerbaijani",serviceId:"az"},{id:"portuguese",name:"português",serviceId:"pt"},{id:"samoan",name:"lifiava",serviceId:"sm"},{id:"afrikaans",name:"afrikaans",serviceId:"af"},{id:"tongan",name:"汤加语",serviceId:"to"},{id:"greek",name:"ελληνικά",serviceId:"el"},{id:"indonesian",name:"IndonesiaName",serviceId:"id"},{id:"spanish",name:"Español",serviceId:"es"},{id:"danish",name:"dansk",serviceId:"da"},{id:"amharic",name:"amharic",serviceId:"am"},{id:"punjabi",name:"ਪੰਜਾਬੀName",serviceId:"pa"},{id:"albanian",name:"albanian",serviceId:"sq"},{id:"lithuanian",name:"Lietuva",serviceId:"lt"},{id:"italian",name:"italiano",serviceId:"it"},{id:"vietnamese",name:"Tiếng Việt",serviceId:"vi"},{id:"korean",name:"한국어",serviceId:"ko"},{id:"maltese",name:"Malti",serviceId:"mt"},{id:"finnish",name:"suomi",serviceId:"fi"},{id:"catalan",name:"català",serviceId:"ca"},{id:"croatian",name:"hrvatski",serviceId:"hr"},{id:"bosnian",name:"bosnian",serviceId:"bs-Latn"},{id:"polish",name:"Polski",serviceId:"pl"},{id:"latvian",name:"latviešu",serviceId:"lv"},{id:"maori",name:"Maori",serviceId:"mi"}],getMap:function(){if(typeof translate.service.edge.language.map>"u"){translate.service.edge.language.map=new Array;for(var e=0;e<translate.service.edge.language.json.length;e++){var t=translate.service.edge.language.json[e];translate.service.edge.language.map[t.id]=t.serviceId}}return translate.service.edge.language.map}},translate:function(e,t,n,s){var r=JSON.parse(decodeURIComponent(t.text));let a=translate.util.split(r,4e4,900);translate.request.send(translate.service.edge.api.auth,{},function(o){for(var i=translate.service.edge.language.getMap()[t.from],l=translate.service.edge.language.getMap()[t.to],u=translate.service.edge.api.translate.replace("{from}",i).replace("{to}",l),c=0;c<a.length;c++){for(var d=[],f=0;f<a[c].length;f++)d.push({Text:a[c][f]});translate.request.send(u,JSON.stringify(d),function(y){var v={};v.info="SUCCESS",v.result=1,v.from=t.from,v.to=t.to,v.text=[];for(var w=0;w<y.length;w++)v.text.push(y[w].translations[0].text);if(a.length>1){for(var S=-1,g=0;g<a.length;g++)if(a[g].length-v.text.length==0){S=g;break}S<0&&(console.log("------ERROR--------"),console.log("翻译内容过多，进行拆分，但拆分判断出现异常，currentIndex：-1 请联系 http://translate.zvo.cn/43006.html 说明"));for(var N=0;N<S;N++)for(var x=a[N].length,m=0;m<x;m++)v.text.unshift(null);for(var $=a.length-1;$>S;$--)for(var E=a[$].length,m=0;m<E;m++)v.text.push(null)}n(v)},"post",!0,{Authorization:"Bearer "+o,"Content-Type":"application/json"},s,!0)}},"get",!0,{"content-type":"application/x-www-form-urlencoded"},function(o){console.log("---------error--------"),console.log("edge translate service error, http code : "+o.status+", response text : "+o.responseText)},!0)}}},request:{api:{host:["https://api.translate.zvo.cn/","https://america.api.translate.zvo.cn/"],language:"language.json",translate:"translate.json",ip:"ip.json",connectTest:"connectTest.json",init:"init.json"},response:function(e){},speedDetectionControl:{hostMasterNodeCutTime:2e3,hostQueue:[],hostQueueIndex:-1,disableTime:1e6,getHostQueue:function(){if(translate.request.speedDetectionControl.hostQueue.length==0){var e=translate.storage.get("speedDetectionControl_hostQueue");if(e==null||typeof e>"u"){typeof translate.request.api.host=="string"&&(translate.request.api.host=[""+translate.request.api.host]),translate.request.speedDetectionControl.hostQueue=[];for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.hostQueue[t]={host:n,time:0}}}else translate.request.speedDetectionControl.hostQueue=JSON.parse(e);var s=translate.storage.get("speedDetectionControl_lasttime");(s==null||typeof s>"u")&&(s=0);var r=6e4;new Date().getTime()-s>r&&translate.request.speedDetectionControl.checkResponseSpeed()}return translate.request.speedDetectionControl.hostQueue},checkResponseSpeed_Storage:function(e,t){translate.request.speedDetectionControl.checkHostQueue.push({host:e,time:t}),translate.request.speedDetectionControl.checkHostQueue.sort((n,s)=>n.time-s.time),translate.storage.set("speedDetectionControl_hostQueue",JSON.stringify(translate.request.speedDetectionControl.checkHostQueue)),translate.storage.set("speedDetectionControl_lasttime",new Date().getTime()),translate.request.speedDetectionControl.hostQueue=translate.request.speedDetectionControl.checkHostQueue},checkResponseSpeed:function(){var e={"content-type":"application/x-www-form-urlencoded"};translate.request.speedDetectionControl.checkHostQueue=[],translate.request.speedDetectionControl.checkHostQueueMap=[],typeof translate.request.api.host=="string"&&(translate.request.api.host=[""+translate.request.api.host]);for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.checkHostQueueMap[n]={start:new Date().getTime()};try{translate.request.send(n+translate.request.api.connectTest,{host:n},function(s){var r=s.info,a=translate.request.speedDetectionControl.checkHostQueueMap[r],o=new Date().getTime()-a.start;translate.request.api.host[0]==r&&(o=o-translate.request.speedDetectionControl.hostMasterNodeCutTime,o<0&&(o=0)),translate.request.speedDetectionControl.checkResponseSpeed_Storage(r,o)},"post",!0,e,function(s){var r=s.requestURL.replace("connectTest.json","");translate.request.speedDetectionControl.checkResponseSpeed_Storage(r,translate.request.speedDetectionControl.disableTime)},!1)}catch(s){console.log(s)}}},getHostQueueIndex:function(){if(translate.request.speedDetectionControl.hostQueueIndex<0){var e=translate.storage.get("speedDetectionControl_hostQueueIndex");typeof e>"u"||e==null?(translate.request.speedDetectionControl.hostQueueIndex=0,translate.storage.set("speedDetectionControl_hostQueueIndex",0)):translate.request.speedDetectionControl.hostQueueIndex=e}return translate.request.speedDetectionControl.hostQueueIndex},getHost:function(){var e=translate.request.speedDetectionControl.getHostQueue(),t=translate.request.speedDetectionControl.getHostQueueIndex();return e.length>t||(console.log("异常，下标越界了！index："+t),t=e.length-1),e[t].host}},getUrl:function(e){var t=translate.request.speedDetectionControl.getHost(),n=t+e+"?v="+translate.version;return n},post:function(e,t,n,s){var r={"content-type":"application/x-www-form-urlencoded"};if(!(typeof t>"u")){if(translate.enterprise.automaticAdaptationService(),translate.request.getUrl(e),translate.service.name=="client.edge"){if(e==translate.request.api.translate){translate.service.edge.translate(e,t,n,s);return}if(e==translate.request.api.language){var a={};a.info="SUCCESS",a.result=1,a.list=translate.service.edge.language.json,n(a);return}}this.send(e,t,n,"post",!0,r,s,!0)}},send:function(e,t,n,s,r,a,o,i){var l="";if((t==null||typeof t>"u")&&(t={}),typeof t=="string")l=t;else{t.browserDefaultLanguage=translate.util.browserDefaultLanguage(),typeof translate.enterprise.key<"u"&&typeof translate.enterprise.key=="string"&&translate.enterprise.key.length>0&&(t.key=translate.enterprise.key);for(var u in t)l.length>0&&(l=l+"&"),l=l+u+"="+t[u]}e.indexOf("https://")==0||e.indexOf("http://")==0||(e=translate.request.getUrl(e));var c=null;try{c=new XMLHttpRequest}catch{c=new ActiveXObject("Microsoft.XMLHTTP")}if(c.open(s,e,r),a!=null)for(var u in a)c.setRequestHeader(u,a[u]);return translate.service.name=="translate.service"&&c.setRequestHeader("currentpage",window.location.href+""),c.send(l),c.onreadystatechange=function(){if(c.readyState==4)if(translate.request.response(c),c.status==200){var d=null;if(!(typeof c.responseText>"u"||c.responseText==null)){if(c.responseText.indexOf("{")>-1&&c.responseText.indexOf("}")>-1)try{d=JSON.parse(c.responseText)}catch(f){console.log(f)}}d==null?n(c.responseText):n(d)}else i&&(e.indexOf(translate.request.api.connectTest)>-1||(translate.service.name=="translate.service"&&!translate.enterprise.isUse&&console.log(`----- translate.js 提示 -----
非常抱歉，translate.service 开源免费的翻译服务器当前并发及流量太大导致阻塞！
这个情况是时不时发生的，大概一天24小时可能会有一二十分钟这种情况，主要是因为使用量太大了，月使用量能超四十亿次，所以在高发时会出现这种情况。
解决这种情况可以有两种方案：
【方案一】：使用采用最新版本 3.8.0及更高版本，js引用文件为 https://cdn.staticfile.net/translate.js/3.8.0/translate.js 并且使用 client.edge 模式 （增加一行设置代码就好，可参考 https://translate.zvo.cn/4081.html ），这样就不会再出现这种情况了。这个是我们的 translate.service 通道阻塞导致，更换别的通道就可以避免这样了。而且这个方案也是完全免费的。 
【方案二】：采用企业级稳定翻译通道 ,但是这个相比于 方案一 来说，是有一定的收费的，大概一年600，这个就是专门为了高速及高稳定准备的，而相比于这个方案二，方案一则是全免费的。 因为方案二我们是部署了两个集群，而每个集群又下分了数个网络节点，包含中国大陆、香港、美国、欧洲、 等多个州，充分保障稳定、高效，同样也产生了不少成本，所以才需要付费。更多信息说明可以参考： http://translate.zvo.cn/4087.html 

-------------`),console.log("------- translate.js service api response error --------"),console.log("    http code : "+c.status),console.log("    response : "+c.response),console.log("    request url : "+e),console.log("    request data : "+JSON.stringify(t)),console.log("    request method : "+s),console.log("---------------------- end ----------------------"))),c.requestURL=e,o!=null&&o(c)},c},translateText:function(e,t){var n=new Array,s=translate.language.getLocal(),r=translate.language.getCurrent();if(typeof e=="string")n[0]=e;else{var a=Object.prototype.toString.call(e);if(a=="[object Array]")n=e;else if(a=="[object Object]")typeof e.texts>"u"&&console.log("translate.request.translateText 传入的值类型异常，因为你没有传入 obj.texts 要翻译的具体文本！ 请查阅文档： https://translate.zvo.cn/4077.html"),typeof e.texts=="string"?n=[e.texts]:n=e.texts,typeof e.from=="string"&&e.from.length>0&&(s=e.from),typeof e.to=="string"&&e.to.length>0&&(r=e.to);else{console.log("translate.request.translateText 传入的值类型错误，请查阅文档： https://translate.zvo.cn/4077.html");return}}var o=translate.request.api.translate,i={from:s,to:r,text:encodeURIComponent(JSON.stringify(n))};translate.request.post(o,i,function(l){l.result==0&&(console.log("=======ERROR START======="),console.log("from : "+l.from),console.log("to : "+l.to),console.log("translate text array : "+n),console.log("response : "+l.info),console.log("=======ERROR END  =======")),t(l)},null)},listener:{minIntervalTime:800,lasttime:0,executetime:0,delayExecuteTime:200,addExecute:function(){var e=Date.now();translate.request.listener.lasttime==0?(translate.request.listener.executetime=e,translate.request.listener.lasttime=1):translate.request.listener.executetime>1||(e<translate.request.listener.lasttime+translate.request.listener.minIntervalTime?translate.request.listener.executetime=translate.request.listener.lasttime+translate.request.listener.minIntervalTime:translate.request.listener.executetime=e)},trigger:function(e){return!0},start:function(){if(typeof translate.request.listener.isStart<"u")return;translate.request.listener.isStart=!0,setInterval(function(){var t=Date.now();if(translate.request.listener.executetime>1&&t>translate.request.listener.executetime+translate.request.listener.delayExecuteTime){translate.request.listener.executetime=0,translate.request.listener.lasttime=t;try{translate.execute()}catch(n){console.log(n)}}},100),new PerformanceObserver(t=>{for(var n=!1,s=0;s<t.getEntries().length;s++){var r=t.getEntries()[s];if(r.initiatorType==="fetch"||r.initiatorType==="xmlhttprequest"){var a=r.name;typeof translate.request.api.host=="string"&&(translate.request.api.host=[translate.request.api.host]);for(var o=!1,i=0;i<translate.request.api.host.length;i++)if(a.indexOf(translate.request.api.host[i])>-1){o=!0;break}if(a.indexOf(translate.service.edge.api.auth)>-1&&(o=!0),a.indexOf(".microsofttranslator.com/translate")>-1&&(o=!0),o||!translate.request.listener.trigger())continue;n=!0;break}}n&&translate.request.listener.addExecute()}).observe({type:"resource",buffered:!0})}}},storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},images:{queues:[],add:function(e){for(var t in e)translate.images.queues[t]=e[t]},execute:function(){if(!(Object.keys(translate.images.queues).length<1)){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t];if(!(typeof n.src>"u"||n.src==null||n.src.length==0)){var s=n.getAttribute("src");for(var r in translate.images.queues){var a=r,o=translate.images.queues[r];a==s&&(o=o.replace(new RegExp("{language}","g"),translate.to),n.src=o)}}}for(var i=document.getElementsByTagName("*"),t=0;t<i.length;t++){var l=i[t],u=window.getComputedStyle(l,null),c=u.backgroundImage;if(c!="none"){var d=translate.images.gainCssBackgroundUrl(c);if(typeof translate.images.queues[d]<"u"){var o=translate.images.queues[d];o=o.replace(new RegExp("{language}","g"),translate.to),l.style.backgroundImage='url("'+o+'")'}}}}},gainCssBackgroundUrl:function(e){var t=e.indexOf('"'),n=e.lastIndexOf('"');if(t!=-1&&n!=-1){var s=e.substring(t+1,n);return s}return e}},reset:function(){var e=translate.language.getCurrent();for(var t in translate.nodeQueue)for(var n in translate.nodeQueue[t].list)for(var s in translate.nodeQueue[t].list[n]){var r=translate.nodeQueue[t].list[n][s];for(var a in r.nodes){var o=translate.storage.get("hash_"+e+"_"+s);typeof o>"u"||o!=null&&o.length!=0&&translate.element.nodeAnalyse.analyse(r.nodes[a].node,o,r.original,r.nodes[a].node.attribute)}}translate.storage.set("to",""),translate.to=null,translate.selectLanguageTag.render()},selectionTranslate:{selectionX:0,selectionY:0,callTranslate:function(e){let t=window.getSelection();if(t.anchorOffset==t.focusOffset)return;let n=window.getSelection().toString();var s=translate.request.api.translate,r={from:translate.language.getLocal(),to:translate.to,text:encodeURIComponent(JSON.stringify([n]))};translate.request.post(s,r,function(a){if(a.result==0)return;let o=document.querySelector("#translateTooltip");o.innerText=a.text[0],o.style.top=selectionY+20+"px",o.style.left=selectionX+50+"px",o.style.display=""},null)},start:function(){let e=document.createElement("span");e.innerText="",e.setAttribute("id","translateTooltip"),e.setAttribute("style","background-color:black;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:999;top:150%;left:50%; "),document.body.appendChild(e),document.addEventListener("mousedown",t=>{selectionX=t.pageX,selectionY=t.pageY},!1),document.addEventListener("mouseup",translate.selectionTranslate.callTranslate,!1),document.addEventListener("click",t=>{document.querySelector("#translateTooltip").style.display="none"},!1)}},enterprise:{isUse:!1,use:function(){if(translate.enterprise.isUse=!0,translate.request.speedDetectionControl.hostMasterNodeCutTime=300,translate.request.api.host=["https://america-enterprise-api-translate.zvo.cn/","https://beijing.enterprise.api.translate.zvo.cn/","https://deutsch.enterprise.api.translate.zvo.cn/","https://america.api.translate.zvo.cn:666/","https://api.translate.zvo.cn:666/","https://api.translate.zvo.cn:888/"],translate.service.name=="client.edge"){translate.service.name="translate.service",console.log("您已启用了企业级翻译通道 translate.enterprise.use(); (文档：https://translate.zvo.cn/4087.html) , 所以您设置的 translate.service.use('client.edge'); (文档：https://translate.zvo.cn/4081.html) 将失效不起作用，有企业级翻译通道全部接管。");return}},automaticAdaptationService:function(){if(translate.enterprise.isUse){var e=translate.request.speedDetectionControl.getHostQueue();e.length>0&&e[0].time+1>translate.request.speedDetectionControl.disableTime&&(translate.service.name="client.edge")}},key:""},init:function(){if(!(typeof translate.init_execute<"u")){translate.init_execute="已进行";try{translate.request.send(translate.request.api.init,{},function(data){if(data.result==0){console.log("translate.js init 初始化异常："+data.info);return}else if(data.result==1){var newVersion=translate.util.versionStringToInt(data.version),currentVersion=translate.util.versionStringToInt(translate.version.replace("v",""));newVersion>currentVersion&&console.log("Tip : translate.js find new version : "+data.version)}else eval(data.info)},"post",!0,null,function(e){},!1)}catch(e){}}},progress:{api:{isTip:!0,setUITip:function(e){translate.progress.api.isTip=e},startUITip:function(){const e=document.createElement("style");e.textContent=`
					/* CSS部分 */
					/* 灰色水平加载动画 */
					.translate_api_in_progress {
					  position: relative;
					  overflow: hidden; /* 隐藏超出部分的动画 */
					}

					/* 蒙版层 */
					.translate_api_in_progress::after {
					  content: '';
					  position: absolute;
					  top: 0;
					  left: 0;
					  width: 100%;
					  height: 100%;
					  background: rgba(255, 255, 255, 1); /* 半透明白色遮罩 */
					  z-index: 2;
					}

					/* 水平加载条动画 */
					.translate_api_in_progress::before {
					  content: '';
					  position: absolute;
					  top: 50%;
					  left: 0;
					  width: 100%;
					  height:100%; /* 细线高度 */
					  background: linear-gradient(
					    90deg,
					    transparent 0%,
					    #e8e8e8 25%,  /* 浅灰色 */
					    #d0d0d0 50%,  /* 中灰色 */
					    #e8e8e8 75%,  /* 浅灰色 */
					    transparent 100%
					  );
					  background-size: 200% 100%;
					  animation: translate_api_in_progress_horizontal-loader 3.5s linear infinite;
					  z-index: 3;
					  transform: translateY(-50%);
					}

					@keyframes translate_api_in_progress_horizontal-loader {
					  0% {
					    background-position: 200% 0;
					  }
					  100% {
					    background-position: -200% 0;
					  }
					}
				`,document.head.appendChild(e),translate.progress.api.isTip&&(translate.listener.execute.renderStartByApi.push(function(t){for(var n in translate.nodeQueue[t].list)if(translate.language.getCurrent()!=n)for(var s in translate.nodeQueue[t].list[n])for(var r in translate.nodeQueue[t].list[n][s].nodes){var a=translate.nodeQueue[t].list[n][s].nodes[r].node,o=a.parentNode;if(o!=null&&o.childNodes.length==1)if(typeof o.className>"u"||o.className==null||o.className=="")o.className=" translate_api_in_progress";else{if(o.className.indexOf("translate_api_in_progress")>-1)continue;o.className=o.className+" translate_api_in_progress"}}}),translate.listener.execute.renderFinishByApi.push(function(t){for(var n in translate.nodeQueue[t].list)if(translate.language.getCurrent()!=n)for(var s in translate.nodeQueue[t].list[n])for(var r in translate.nodeQueue[t].list[n][s].nodes){var a=translate.nodeQueue[t].list[n][s].nodes[r].node,o=a.parentNode;if(o!=null){var i=o.className;typeof i>"u"||i==null||i==""||i.indexOf("translate_api_in_progress")<-1||(o.className=i.replace(/translate_api_in_progress/g,""))}}}))}}},jsObject:function(e,t=""){var n={};if(typeof e=="object"&&e!==null)if(Array.isArray(e))e.forEach((s,r)=>{const a=t?`${t}[${r}]`:`[${r}]`;translate.jsObject(s,a)});else for(const s in e){const r=t?`${t}.${s}`:s;typeof e[s]=="object"&&e[s]!==null?translate.jsObject(e[s],r):typeof e[s]=="string"&&typeof n[e[s]]>"u"&&(n[e[s]]=new Array)}else typeof e=="string"&&typeof e=="string"&&(typeof n[e]>"u"&&(n[e]=new Array),n[e].push("not key"));return n}},nodeuuid={index:function(e){var t=e.parentNode;if(t==null)return"";var n;if(typeof e.tagName>"u")n=t.childNodes;else{n=[];for(var s=t.childNodes,r=0;r<s.length;r++)s[r].tagName===e.tagName&&n.push(s[r])}var a=Array.prototype.indexOf.call(n,e);return e.nodeName+""+(a+1)},uuid:function(e){for(var t="",n=e;n!=null;){var s=nodeuuid.index(n);s!=""&&(t!=""&&(t="_"+t),t=s+t),n=n.parentNode}return t},enableRemoteDebug:function(){}};console.log(`------ translate.js ------
Two lines of js html automatic translation, page without change, no language configuration file, no API Key, SEO friendly! Open warehouse : https://github.com/xnx3/translate 
两行js实现html全自动翻译。 无需改动页面、无语言配置文件、无API Key、对SEO友好！完全开源，代码仓库：https://gitee.com/mail_osc/translate`),function(e,t){module.exports?module.exports=t():e.translate=t()}(i18nJsautotranslate,function(){return translate})}(i18nJsautotranslate$1)),i18nJsautotranslate$1.exports}var i18nJsautotranslateExports=requireI18nJsautotranslate();const translate=getDefaultExportFromCjs(i18nJsautotranslateExports),historyApi={getHistory:()=>request({url:"/prompt/history/get_history",method:"get"}),saveHistory:e=>request({url:"/prompt/history/add_history",method:"post",data:e}),deleteHistory:e=>request({url:"/prompt/history/delete_history",method:"post",data:{id_index:e}}),batchDeleteHistory:e=>request({url:"/prompt/history/batch_delete_history",method:"post",data:{id_index:e}}),getFavorite:()=>request({url:"/prompt/collect_history/get_collect_history",method:"get"}),addFavorite:e=>request({url:"/prompt/collect_history/add_collect_history",method:"post",data:e}),editFavorite:e=>request({url:"/prompt/collect_history/edit_collect_history",method:"post",data:e}),deleteFavorite:e=>request({url:"/prompt/collect_history/delete_collect_history",method:"post",data:{id_index:e}}),batchDeleteFavorite:e=>request({url:"/prompt/collect_history/batch_delete_collect_history",method:"post",data:{id_indices:e}})},autocompleteApi={getAutocomplete:e=>request({url:"/prompt/fast/autocomplete",method:"post",data:{query:e}})},_hoisted_1$6={class:"weilin_prompt_ui_prompt-box"},_hoisted_2$5={class:"center-container"},_hoisted_3$4={class:"action-item"},_hoisted_4$4=["title"],_hoisted_5$4={class:"action-text"},_hoisted_6$4={class:"action-item"},_hoisted_7$4={class:"action-text"},_hoisted_8$4={class:"action-item"},_hoisted_9$4=["title"],_hoisted_10$3={class:"action-text"},_hoisted_11$3={class:"action-item"},_hoisted_12$2=["title"],_hoisted_13$2={class:"action-text"},_hoisted_14$2={key:0,class:"action-item"},_hoisted_15$2=["title"],_hoisted_16$2={class:"action-text"},_hoisted_17$2={class:"action-item"},_hoisted_18$1=["title"],_hoisted_19$1={class:"action-text"},_hoisted_20$1={class:"action-item"},_hoisted_21$1=["title"],_hoisted_22$1={class:"action-text"},_hoisted_23$1={class:"action-item"},_hoisted_24$1=["title"],_hoisted_25$1={class:"action-text"},_hoisted_26$1={class:"action-item"},_hoisted_27$1=["title"],_hoisted_28$1={class:"action-text"},_hoisted_29$1=["placeholder"],_hoisted_30$1=["onClick"],_hoisted_31$1={class:"tag"},_hoisted_32$1={class:"desc"},_hoisted_33$1={class:"prompt-input-translate-area"},_hoisted_34$1=["placeholder"],_hoisted_35$1=["title"],_hoisted_36$1={key:1,class:"tokens-container"},_hoisted_37$1=["onDragstart","onDragover","onDrop"],_hoisted_38$1=["onMouseenter","onMouseleave"],_hoisted_39$1=["title"],_hoisted_40$1=["onMouseenter","onMouseleave"],_hoisted_41$1=["title"],_hoisted_42$1=["onMouseenter","onMouseleave"],_hoisted_43$1=["onClick"],_hoisted_44$1=["value","onInput","onBlur","onKeyup"],_hoisted_45$1={key:3,class:"translation-result"},_hoisted_46=["onClick","title"],_hoisted_47={class:"translated-text"},_hoisted_48={key:4,class:"line-break"},_hoisted_49={class:"weight-control"},_hoisted_50={class:"weight-label"},_hoisted_51=["title"],_hoisted_52={class:"bracket-btn-group"},_hoisted_53={class:"bracket-btn-container"},_hoisted_54={class:"vertical-btn-group"},_hoisted_55=["title"],_hoisted_56=["title"],_hoisted_57={class:"bracket-btn-container"},_hoisted_58={class:"vertical-btn-group"},_hoisted_59=["title"],_hoisted_60=["title"],_hoisted_61={class:"bracket-btn-container"},_hoisted_62={class:"vertical-btn-group"},_hoisted_63=["title"],_hoisted_64=["title"],_hoisted_65={class:"tag-manager-section"},_hoisted_66={class:"header-left"},_hoisted_67={class:"section-title"},_hoisted_68={class:"header-right"},_hoisted_69={class:"tag-manager-container"},prefix$2="weilin_prompt_ui_",_sfc_main$6={__name:"prompt_index",props:{promptManager:{type:String,default:"prompt_global"}},setup(e,{expose:t}){useTagStore();const{t:n}=useI18n(),s=ref(),r=ref(),a=e,o=ref(""),i=ref([]),l={},u=ref(null),c=ref(!1),d=ref({top:"0px",left:"0px"}),f=ref(!1),y=ref(null),v=ref(null),w=ref(null),S=ref([]),g=ref(!1),N=ref(!1),x=ref([]),m=ref(0),$=ref(""),E=ref(null),k=ref(""),R=()=>{g.value=!g.value},A=()=>{g.value=!1},ne=()=>{y.value.open()},se=ref(1),X=()=>{if(u.value===null)return;let O=i.value[u.value].text;if(!ye(O)){message({type:"warn",str:"message.noFinishKuo"});return}const W=pe=>pe.startsWith("(")&&pe.endsWith(")")&&!pe.slice(1,-1).includes("(")&&!pe.slice(1,-1).includes(")")&&!pe.slice(1,-1).includes("[")&&!pe.slice(1,-1).includes("]")&&!pe.slice(1,-1).includes("{")&&!pe.slice(1,-1).includes("}")&&!pe.slice(1,-1).includes("<")&&!pe.slice(1,-1).includes(">"),oe=pe=>{const Se=/^([\(\[\{\<]*)(.*?)([\)\]\}\>]*)$/,Te=pe.match(Se);if(!Te)return pe;const[,Ie,xe,Me]=Te;if(/[\(\[\{\<].*[\)\]\}\>]/.test(xe))return Ie+oe(xe)+Me;const Ve=xe.replace(/:\d+(\.\d+)?$/,"");return se.value===1?Ie+Ve+Me:Ie+Ve+":"+se.value+Me};let fe=O;if(/[\(\[\{\<\)\]\}\>]/.test(O))se.value===1&&W(O)?fe=O.slice(1,-1).replace(/:\d+(\.\d+)?$/,""):fe=oe(O);else{const pe=O.replace(/:\d+(\.\d+)?$/,"");se.value===1?fe=pe:fe=`(${pe}:${se.value})`}i.value[u.value].text=fe,te()},ue=D=>{if(u.value===null)return;let W=i.value[u.value].text;const oe={"(":")","[":"]","{":"}","<":">"}[D];W=`${D}${W}${oe}`,i.value[u.value].text=W,te()},ie=D=>{if(u.value===null)return;let W=i.value[u.value].text;const oe={"(":")","[":"]","{":"}","<":">"};W.startsWith(D)&&W.endsWith(oe[D])&&(W=W.slice(1,-1),i.value[u.value].text=W,te())},ye=D=>{const O=[],W={"(":")","[":"]","{":"}","<":">"};for(let oe of D)if(W[oe])O.push(oe);else if(Object.values(W).includes(oe)&&(O.length===0||W[O.pop()]!==oe))return!1;return O.length===0};onBeforeUpdate(()=>{for(const D in l)delete l[D]}),ref(!0),ref(!1);const me=D=>/[\p{L}]/u.test(D),ce=D=>{const O=D.match(/([^:]+):[\d.]+/);return O?O[1]:D},z=ref(null),G=D=>{if(!(D!=null&&D.target))return;let O=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",W=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",oe=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",fe=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",pe=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true";localStorage.getItem("weilin_prompt_ui_comma_conversion")||(localStorage.setItem("weilin_prompt_ui_comma_conversion","true"),O=!0),localStorage.getItem("weilin_prompt_ui_period_conversion")||(localStorage.setItem("weilin_prompt_ui_period_conversion","true"),W=!0),localStorage.getItem("weilin_prompt_ui_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_bracket_conversion","true"),oe=!0),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion","true"),fe=!0),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")||(localStorage.setItem("weilin_prompt_ui_underscore_to_bracket","false"),pe=!1),O&&(o.value=o.value.replace(/，/g,",")),W&&(o.value=o.value.replace(/。/g,".")),oe&&(o.value=o.value.replace(/【/g,"[").replace(/】/g,"]").replace(/（/g,"(").replace(/）/g,")")),fe&&(o.value=o.value.replace(/《/g,"<").replace(/》/g,">")),pe&&(o.value=o.value.replace(/_/g," ")),E.value&&clearTimeout(E.value);const Se=D.target.value;E.value=setTimeout(()=>{var Ie;if(Se===""||Se.length<k.value.length){k.value=Se;return}const Te=Se.slice(k.value.length);if(Te.trim()!==""){const xe=Te.split(",").filter(Boolean),Me=(Ie=xe[xe.length-1])==null?void 0:Ie.trim();Me&&$e(Me)}},300),te()},ge=()=>{const D=o.value;let O=[];O=((pe,Se=0)=>{let Te=[],Ie=Se,xe="",Me=[];for(;Ie<pe.length;){const Ve=pe[Ie];Me.length===0&&Ve===","?(xe.trim()&&Te.push(xe.trim()),xe=""):xe+=Ve,Ie++}return xe.trim()&&(Me.length===0?Te.push(...xe.split(",").filter(Boolean).map(Ve=>Ve.trim())):Te.push(xe.trim())),Te})(D);const oe=[],fe=new Map;i.value.forEach(pe=>{fe.set(pe.text,pe)}),O.forEach(pe=>{const Se=pe.trim();Se&&(fe.has(Se)?oe.push(fe.get(Se)):oe.push({text:Se,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}))}),i.value=oe,o.value=i.value.map(pe=>pe.text).join(", ");for(let pe=0;pe<i.value.length;pe++)if(i.value[pe].text.length>0&&!i.value[pe].translate){let Se=i.value[pe].text;const Te=ce(Se.trim());translatorApi.getTranslateLocal(Te).then(Ie=>{const xe=Ie;i.value[pe].translate=xe.translated.translate,i.value[pe].color=xe.translated.color})}z.value&&clearTimeout(z.value),z.value=setTimeout(()=>{F()},5e3),te()},j=()=>{i.value.forEach((D,O)=>{if(D.translate&&/[a-zA-Z]/.test(D.translate)){const W=D.text;translate.request.translateText(W,function(oe){if(oe.result>0){const fe=oe.text.map(pe=>pe.replace(/[\[\]“”]/g,"")).join(", ");i.value[O].translate=fe}})}})},V=ref(""),F=()=>{const D=o.value.replace(/[\s\t\n]+/g,"");if(S.value.length>0){if(D.length>0){const O={prompt:o.value,lora:S.value},W=JSON.stringify(O);V.value!=W&&(V.value=W,historyApi.saveHistory({tag:W}))}}else V.value!=o.value&&(V.value=o.value,D.length>0&&historyApi.saveHistory({tag:o.value}));te()},te=()=>{if(o.value.replace(/[\s\t\n]+/g,""),S.value.length>0){V.value=o.value;const D={prompt:o.value,lora:S.value},O=JSON.stringify(D);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:O},"*")}else if(V.value!=o.value){V.value=o.value;const D={prompt:o.value,lora:""},O=JSON.stringify(D);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:O},"*")}},ae=(D,O)=>{Z.value&&(clearTimeout(Z.value),Z.value=null);const W=O.target.getBoundingClientRect();d.value={top:`${W.top-50}px`,left:`${W.left+W.width/2}px`},u.value=D;const oe=i.value[D].text;se.value=de(oe)},de=D=>{const O=[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"<",close:">"}];for(const oe of O)if(D.startsWith(oe.open)&&D.endsWith(oe.close))return de(D.slice(1,-1));const W=D.match(/:(\d+(\.\d+)?)$/);return W?parseFloat(W[1]):1},Z=ref(null),ee=D=>{Z.value&&clearTimeout(Z.value),Z.value=setTimeout(()=>{c.value||Ee(),Z.value=null},100)},he=()=>{c.value=!1,ee(u.value)},Ee=()=>{c.value||(u.value=null)},Le=()=>{if(u.value!==null){const D=u.value;C(D),u.value=null,c.value=!1}},C=D=>{const O=o.value;let W=i.value[D],oe=0,fe=-1;for(let pe=0;pe<D;pe++){let Se=O.indexOf(i.value[pe].text,oe);Se!==-1&&(oe=Se+i.value[pe].text.length)}if(W.text===`
`||W.text==="	"){for(let pe=oe;pe<O.length;pe++)if(O[pe]===W.text){fe=pe;break}}else fe=O.indexOf(W.text,oe);if(fe!==-1){const pe=W.text===`
`?" ":"",Se=O.substring(0,fe)+pe+O.substring(fe+W.text.length);o.value=Se}i.value.splice(D,1),o.value=i.value.map(pe=>pe.text).join(", "),te()},T=(D,O)=>{const W=o.value;let oe=0,fe=-1;for(let Se=0;Se<D;Se++){let Te=W.indexOf(i.value[Se].text,oe);Te!==-1&&(oe=Te+i.value[Se].text.length)}const pe=i.value[D].text;if(fe=W.indexOf(pe,oe),fe!==-1){const Se=O.target.value,Te=W.substring(0,fe)+Se+W.substring(fe+pe.length);o.value=Te,i.value[D]={...i.value[D],text:Se},te()}},M=D=>{i.value[D].isPunctuation||(i.value[D].isEditing=!0,setTimeout(()=>{const O=l[D];if(O){O.focus();const W=O.value.length;O.setSelectionRange(W,W),Q(O),O.addEventListener("input",()=>Q(O)),te()}}))},Q=D=>{const O=document.createElement("span");O.style.visibility="hidden",O.style.position="absolute",O.style.whiteSpace="pre";const W=window.getComputedStyle(D);O.style.font=W.font,O.style.fontSize=W.fontSize,O.style.fontFamily=W.fontFamily,O.style.padding=W.padding,O.style.border=W.border,O.textContent=D.value||D.placeholder||"",document.body.appendChild(O);const oe=O.offsetWidth;D.style.width=`${Math.max(oe+4,20)}px`,document.body.removeChild(O)},U=D=>{i.value[D].isEditing=!1};watch(i,D=>{we()},{deep:!0}),watch(S,D=>{te()},{deep:!0});const Y=()=>{f.value=!f.value,f.value&&nextTick(()=>{var O;const D=v.value.getBoundingClientRect();(O=w.value)==null||O.setPosition(D)})},_=()=>{f.value=!1},b=D=>{var O,W;v.value&&!v.value.contains(D.target)&&w.value&&!w.value.$el.contains(D.target)&&_(),(O=s.value)!=null&&O.contains&&((W=r.value)!=null&&W.contains)&&!s.value.contains(D.target)&&!r.value.contains(D.target)&&(N.value=!1)},B=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openTagManager_prompt"},"*")},L=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openLoraManager"},"*")},re=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openHistoryManager"},"*")},q=ref(!0),I=()=>{q.value=!q.value};onMounted(()=>{document.addEventListener("click",b),window.addEventListener("message",P),le()}),onUnmounted(()=>{document.removeEventListener("click",b),z.value&&clearTimeout(z.value),window.removeEventListener("message",P)});const P=D=>{if(D.data.type==="weilin_prompt_ui_insertTag"){const O=o.value,W=D.data.tagText;O===""?o.value=W:(O.endsWith(" "),o.value=O+", "+W),k.value=o.value,ge()}else if(D.data.type==="weilin_prompt_ui_user_history_tag"){const O=D.data.tagText;V.value=O,H(O)}else if(D.data.type!=="weilin_prompt_ui_refresh_all_data"){if(D.data.type==="weilin_prompt_ui_translate_setting")le();else if(D.data.type==="weilin_prompt_ui_selectLora"&&D.data.lora.loraWorks!=null&&D.data.lora.loraWorks.length>0){const O=o.value,W=D.data.lora.loraWorks;O===""?o.value=W:(O.endsWith(" "),o.value=O+", "+W),k.value=o.value,ge()}}},le=async()=>{const D=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",O=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified";localStorage.getItem("weilin_prompt_ui_sourceLanguage")||localStorage.setItem("weilin_prompt_ui_sourceLanguage",D),localStorage.getItem("weilin_prompt_ui_targetLanguage")||localStorage.setItem("weilin_prompt_ui_targetLanguage",O),D!=="auto"&&translate.language.setLocal(D),translate.language.setDefaultTo(O)},_e=(D,O)=>{translate.request.translateText(D,function(W){if(W.result>0){const oe=W.text.map(fe=>fe.replace(/[\[\]“”]/g,"")).join(", ");O.translate=oe}})},ve=()=>{var O={from:translate.language.recognition($.value).languageName,to:"english",texts:[$.value]};translate.request.translateText(O,function(W){if(W.result>0){const oe=W.text.map(fe=>fe.replace(/[\[\]“”]/g,"")).join(", ");i.value.push({text:oe,translate:$.value,isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),$.value="",we()}})},Ne=()=>{k.value=o.value,ge()},$e=D=>{let O=D.replace(/[\[\](){}]/g,"").trim();const oe=ce(O).trim();if(!oe){N.value=!1;return}if(oe.length>20){N.value=!1;return}try{const fe=oe.toLowerCase();autocompleteApi.getAutocomplete(String(fe)).then(pe=>{x.value=pe.data,N.value=x.value.length>0,m.value=0})}catch(fe){console.error("Autocomplete error:",fe),N.value=!1}},Be=D=>{N.value&&(D.key==="ArrowDown"?(D.preventDefault(),m.value=Math.min(m.value+1,x.value.length-1)):D.key==="ArrowUp"?(D.preventDefault(),m.value=Math.max(m.value-1,0)):D.key==="Tab"||D.key==="Enter"?(D.preventDefault(),Ae(m.value)):D.key==="Escape"&&(D.preventDefault(),N.value=!1))},Ae=D=>{if(x.value[D]){N.value=!1;const O=o.value;let W=x.value[D].text,oe="",fe=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",pe=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",Se=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",Te=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",Ie=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true";localStorage.getItem("weilin_prompt_ui_comma_conversion")||(localStorage.setItem("weilin_prompt_ui_comma_conversion","true"),fe=!0),localStorage.getItem("weilin_prompt_ui_period_conversion")||(localStorage.setItem("weilin_prompt_ui_period_conversion","true"),pe=!0),localStorage.getItem("weilin_prompt_ui_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_bracket_conversion","true"),Se=!0),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion","true"),Te=!0),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")||(localStorage.setItem("weilin_prompt_ui_underscore_to_bracket","false"),Ie=!1),fe&&(oe=W.replace(/，/g,",")),pe&&(oe=W.replace(/。/g,".")),Se&&(oe=W.replace(/【/g,"[").replace(/】/g,"]").replace(/（/g,"(").replace(/）/g,")")),Te&&(oe=W.replace(/《/g,"<").replace(/》/g,">")),Ie&&(oe=W.replace(/_/g," "));const xe=Math.max(O.lastIndexOf(" "),O.lastIndexOf(","));xe===-1?o.value=oe:o.value=O.slice(0,xe+1)+oe,k.value=o.value,ge()}},Re=()=>{N.value=!1},H=D=>{try{const O=JSON.parse(D);o.value=O.prompt,k.value=o.value,O.lora.length>0&&(S.value=O.lora),ge()}catch{o.value=D,k.value=o.value,ge()}},K=ref(null),J=(D,O)=>{K.value=D,O.dataTransfer.effectAllowed="move"},be=(D,O)=>{if(O.preventDefault(),K.value!==null&&K.value!==D){const W=i.value[K.value],oe=[...i.value];oe.splice(K.value,1),oe.splice(D,0,W),i.value=oe,K.value=D,we()}},ke=(D,O)=>{O.preventDefault(),K.value=null,we()},we=()=>{o.value=i.value.map(D=>D.text).join(", "),te()},Ce=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*")},Oe=()=>{window.open("https://github.com/weilin9999/WeiLin-Comfyui-Tools","_blank")};return t({setPromptText:H}),(D,O)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[a.promptManager==="prompt"?(openBlock(),createBlock(LoraStack,{key:0,"is-open":g.value,"selected-loras":S.value,onClose:A},null,8,["is-open","selected-loras"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$2}main-content`),style:normalizeStyle({width:g.value?"calc(100% - 300px)":"100%"})},[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$4,[createBaseVNode("button",{class:"language-switch-btn",onClick:withModifiers(Y,["stop"]),ref_key:"langBtnRef",ref:v,title:unref(n)("controls.language")},[O[11]||(O[11]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"translate-icon"},[createBaseVNode("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"})],-1)),createBaseVNode("span",_hoisted_5$4,toDisplayString$1(unref(n)("controls.language")),1)],8,_hoisted_4$4),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[f.value?(openBlock(),createBlock(LanguageSwitcher,{key:0,ref_key:"languageSwitcherRef",ref:w,onClose:_},null,512)):createCommentVNode("",!0)]),_:1})]),createBaseVNode("div",_hoisted_6$4,[createVNode(ThemeSwitch,{title:unref(n)("controls.switchTheme")},{default:withCtx(({isDark:W})=>[createBaseVNode("span",_hoisted_7$4,toDisplayString$1(unref(n)(W?"controls.darkMode":"controls.lightMode")),1)]),_:1},8,["title"])]),createBaseVNode("div",_hoisted_8$4,[createBaseVNode("button",{class:"settings-btn",onClick:ne,title:unref(n)("controls.settings")},[O[12]||(O[12]=createBaseVNode("svg",{class:"settings-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})],-1)),createBaseVNode("span",_hoisted_10$3,toDisplayString$1(unref(n)("controls.settings")),1)],8,_hoisted_9$4)]),createBaseVNode("div",_hoisted_11$3,[createBaseVNode("button",{class:"tag-manager-btn",onClick:B,title:unref(n)("controls.tagManager")},[O[13]||(O[13]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",_hoisted_13$2,toDisplayString$1(unref(n)("controls.tagManager")),1)],8,_hoisted_12$2)]),a.promptManager==="prompt"?(openBlock(),createElementBlock("div",_hoisted_14$2,[createBaseVNode("button",{class:"tag-manager-btn",onClick:R,title:unref(n)("controls.loraStack")},[O[14]||(O[14]=createBaseVNode("svg",{sxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M902.5 485.1c-59-17.5-113.8-3.4-155 27.7V365.1c0-45.2-36.9-82.1-82.1-82.1H511.2c31.1-41.2 45.2-96 27.7-155C522.2 71.6 475 26.1 418 12 303.4-16.5 200.9 69.4 200.9 179.3c0 39.1 13.5 74.7 35.3 103.7H82.1C36.9 283 0 319.9 0 365.1v113.1c0 25.5 27.9 38.8 49.5 25.3 38.8-24.3 87.8-33.6 139.4-19.5 57 15.6 103.4 62.5 118.4 119.7 30.1 115.5-56.2 219.4-166.8 219.4-33.5 0-64.7-9.6-91.1-26.2C27.8 783.4 0 796.8 0 822.2v113.2c0 45.2 36.9 82.1 82.1 82.1h583.3c45.2 0 82.1-36.9 82.1-82.1V787.7c29 21.9 64.6 35.3 103.7 35.3 109.9 0 195.8-102.5 167.3-217.1-14.1-56.9-59.7-104.1-116-120.8z"})],-1)),createBaseVNode("span",_hoisted_16$2,toDisplayString$1(unref(n)("controls.loraStack")),1)],8,_hoisted_15$2)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_17$2,[createBaseVNode("button",{class:"tag-manager-btn",onClick:L,title:unref(n)("controls.loraManager")},[O[15]||(O[15]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M129 128h350v80H209v224h270v80H129V128zM129 895V576h768v319H129z m80-239v159h608V656H209zM730 356c19.882 0 36-16.118 36-36s-16.118-36-36-36-36 16.118-36 36 16.118 36 36 36z"}),createBaseVNode("path",{d:"M578.517 214.386a32.002 32.002 0 0 0-16.01 27.731l0.058 155.918a31.998 31.998 0 0 0 16 27.701l135.156 78.033a32.002 32.002 0 0 0 31.99 0.006l135.058-77.909a32.002 32.002 0 0 0 16.01-27.731l-0.058-155.918a32 32 0 0 0-16-27.701l-135.157-78.033a31.998 31.998 0 0 0-31.989-0.005l-135.058 77.908z m67.002 58.058l84.033-48.591 84.181 48.715 0.034 95.24-84.034 48.591-84.18-48.714-0.034-95.241z"})],-1)),createBaseVNode("span",_hoisted_19$1,toDisplayString$1(unref(n)("controls.loraManager")),1)],8,_hoisted_18$1)]),createBaseVNode("div",_hoisted_20$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:re,title:unref(n)("controls.history")},[O[16]||(O[16]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M653.7 85.83c-235.05 0-426.29 191.25-426.29 426.3s191.24 426.3 426.29 426.3c235.06 0 426.3-191.25 426.3-426.3S888.76 85.83 653.7 85.83z m0 779.98c-195.01 0-353.67-158.65-353.67-353.68S458.69 158.45 653.7 158.45c195.02 0 353.68 158.65 353.68 353.68S848.72 865.81 653.7 865.81z"}),createBaseVNode("path",{d:"M866.78 634.19L695.93 533.61V302.59c0-20.06-16.26-36.31-36.31-36.31s-36.31 16.26-36.31 36.31v253.66c0 17.06 11.8 31.26 27.66 35.16l178.98 105.36c17.28 10.17 39.54 4.41 49.71-12.87 10.17-17.28 4.4-39.54-12.88-49.71zM44.76 324.51h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31zM231.18 703.25H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.25-36.31-36.31-36.31zM36.31 550.19h118.8c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H36.31c-20.05 0-36.31 16.26-36.31 36.31 0 20.06 16.26 36.31 36.31 36.31z"})],-1)),createBaseVNode("span",_hoisted_22$1,toDisplayString$1(unref(n)("controls.history")),1)],8,_hoisted_21$1)]),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:Ce,title:unref(n)("controls.aiChat")},[O[17]||(O[17]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}),createBaseVNode("path",{d:"M6 14h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"})],-1)),createBaseVNode("span",_hoisted_25$1,toDisplayString$1(unref(n)("controls.aiChat")),1)],8,_hoisted_24$1)]),createBaseVNode("div",_hoisted_26$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:Oe,title:unref(n)("controls.github")},[O[18]||(O[18]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})],-1)),createBaseVNode("span",_hoisted_28$1,toDisplayString$1(unref(n)("controls.github")),1)],8,_hoisted_27$1)]),createVNode(SettingDialog,{ref_key:"settingDialog",ref:y},null,512)]),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":O[0]||(O[0]=W=>o.value=W),class:"input-area",onInput:G,onChange:F,placeholder:unref(n)("promptBox.placeholder"),onKeydown:Be,onBlur:Ne,rows:"6",ref_key:"inputAreaRef",ref:r},null,40,_hoisted_29$1),[[vModelText,o.value]]),N.value?(openBlock(),createElementBlock("div",{key:0,class:"autocomplete-container",ref_key:"autocompleteContainerRef",ref:s},[createBaseVNode("button",{class:"close-autocomplete-btn",onClick:Re},"×"),(openBlock(!0),createElementBlock(Fragment,null,renderList(x.value,(W,oe)=>(openBlock(),createElementBlock("div",{key:oe,class:normalizeClass(["autocomplete-item",{selected:oe===m.value}]),onClick:fe=>Ae(oe)},[createBaseVNode("span",_hoisted_31$1,toDisplayString$1(W.text),1),createBaseVNode("span",_hoisted_32$1,toDisplayString$1(W.desc),1)],10,_hoisted_30$1))),128))],512)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_33$1,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":O[1]||(O[1]=W=>$.value=W),class:"prompt-input-translate-area-textarea",onKeyup:O[2]||(O[2]=withKeys(W=>ve(),["enter"])),placeholder:unref(n)("promptBox.translatePlaceholder")},null,40,_hoisted_34$1),[[vModelText,$.value]]),createBaseVNode("button",{class:"translate-btn",onClick:j,title:unref(n)("promptBox.oneClickTranslate")},O[19]||(O[19]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),createBaseVNode("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)]),8,_hoisted_35$1)]),i.value.length>0?(openBlock(),createElementBlock("div",_hoisted_36$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,(W,oe)=>(openBlock(),createElementBlock("div",{class:"token-item-box",key:oe,draggable:"true",onDragstart:fe=>J(oe,fe),onDragover:withModifiers(fe=>be(oe,fe),["prevent"]),onDrop:fe=>ke(oe,fe),style:normalizeStyle({backgroundColor:W.color})},[W.text===`
`?(openBlock(),createElementBlock("div",{key:0,class:"token-item newline-token",onMouseenter:fe=>ae(oe,fe),onMouseleave:fe=>ee()},[createBaseVNode("span",{class:"token-symbol",title:unref(n)("promptBox.newline")},"↵",8,_hoisted_39$1)],40,_hoisted_38$1)):W.text==="	"?(openBlock(),createElementBlock("div",{key:1,class:"token-item tab-token",onMouseenter:fe=>ae(oe,fe),onMouseleave:fe=>ee()},[createBaseVNode("span",{class:"token-symbol",title:unref(n)("promptBox.tab")},"→",8,_hoisted_41$1)],40,_hoisted_40$1)):W.text?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(["token-item",{punctuation:W.isPunctuation}]),onMouseenter:fe=>ae(oe,fe),onMouseleave:fe=>ee()},[!W.isEditing||W.isPunctuation?(openBlock(),createElementBlock("span",{key:0,onClick:fe=>!W.isPunctuation&&M(oe)},toDisplayString$1(W.text),9,_hoisted_43$1)):W.isPunctuation?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:1,value:W.text,onInput:fe=>T(oe,fe),onBlur:fe=>U(oe),onKeyup:withKeys(fe=>U(oe),["enter"]),ref_for:!0,ref:fe=>{fe&&(l[oe]=fe)}},null,40,_hoisted_44$1))],42,_hoisted_42$1)):createCommentVNode("",!0),W.text!==`
`&&W.text!=="	"?(openBlock(),createElementBlock("div",_hoisted_45$1,[me(W.text)?(openBlock(),createElementBlock("div",{key:0,onClick:fe=>_e(W.text,W),class:"translate-button",title:unref(n)("promptBox.translate")},O[20]||(O[20]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),createBaseVNode("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)]),8,_hoisted_46)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_47,toDisplayString$1(W.translate?W.translate:""),1)])):createCommentVNode("",!0),W.text===`
`?(openBlock(),createElementBlock("div",_hoisted_48)):createCommentVNode("",!0)],44,_hoisted_37$1))),128))])):createCommentVNode("",!0),withDirectives(createBaseVNode("div",{class:"token-controls",style:normalizeStyle(d.value),onMouseenter:O[10]||(O[10]=W=>c.value=!0),onMouseleave:he},[createBaseVNode("div",_hoisted_49,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":O[3]||(O[3]=W=>se.value=W),step:"0.1",min:"0.1",max:"2",class:"weight-input",onChange:X},null,544),[[vModelText,se.value]]),createBaseVNode("span",_hoisted_50,toDisplayString$1(unref(n)("promptBox.weight")),1)]),createBaseVNode("button",{onClick:Le,class:"delete-btn",title:unref(n)("promptBox.delete")},O[21]||(O[21]=[createBaseVNode("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_51),createBaseVNode("div",_hoisted_52,[createBaseVNode("div",_hoisted_53,[O[22]||(O[22]=createBaseVNode("div",{class:"bracket-btn"}," () ",-1)),createBaseVNode("div",_hoisted_54,[createBaseVNode("button",{class:"vertical-btn",onClick:O[4]||(O[4]=W=>ue("(")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_55),createBaseVNode("button",{class:"vertical-btn",onClick:O[5]||(O[5]=W=>ie("(")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_56)])]),createBaseVNode("div",_hoisted_57,[O[23]||(O[23]=createBaseVNode("div",{class:"bracket-btn"}," [] ",-1)),createBaseVNode("div",_hoisted_58,[createBaseVNode("button",{class:"vertical-btn",onClick:O[6]||(O[6]=W=>ue("[")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_59),createBaseVNode("button",{class:"vertical-btn",onClick:O[7]||(O[7]=W=>ie("[")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_60)])]),createBaseVNode("div",_hoisted_61,[O[24]||(O[24]=createBaseVNode("div",{class:"bracket-btn"}," {} ",-1)),createBaseVNode("div",_hoisted_62,[createBaseVNode("button",{class:"vertical-btn",onClick:O[8]||(O[8]=W=>ue("{")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_63),createBaseVNode("button",{class:"vertical-btn",onClick:O[9]||(O[9]=W=>ie("{")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_64)])])])],36),[[vShow,u.value!==null&&i.value[u.value]]]),createBaseVNode("div",_hoisted_65,[createBaseVNode("div",{class:"tag-manager-header",onClick:I},[createBaseVNode("div",_hoisted_66,[O[25]||(O[25]=createBaseVNode("svg",{class:"tag-icon",viewBox:"0 0 24 24"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",_hoisted_67,toDisplayString$1(unref(n)("controls.tagManager")),1)]),createBaseVNode("div",_hoisted_68,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["collapse-icon",{"is-collapsed":!q.value}]),viewBox:"0 0 24 24"},O[26]||(O[26]=[createBaseVNode("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"},null,-1)]),2))])]),withDirectives(createBaseVNode("div",_hoisted_69,[createVNode(TagManager)],512),[[vShow,q.value]])])],6)]))}},PromptBox=_export_sfc(_sfc_main$6,[["__scopeId","data-v-ca37eb31"]]),_hoisted_1$5={class:"lora-manager-top-bar"},_hoisted_2$4=["placeholder"],_hoisted_3$3=["title"],_hoisted_4$3=["title"],_hoisted_5$3=["onClick"],_hoisted_6$3=["onClick"],_hoisted_7$3=["onClick"],_hoisted_8$3=["src","alt","title"],_hoisted_9$3=["title"],_hoisted_10$2=["title"],_hoisted_11$2=["title"],prefix$1="weilin_prompt_ui_",_sfc_main$5={__name:"lora_index",props:{loraManager:{type:String,default:"look"}},setup(e){const{t}=useI18n(),n=ref(!1),s=ref("all"),r=ref(""),a=ref(null),o=ref(""),i=e,l=ref({categories:[],allLoras:[],categorizedLoras:{},subCategories:{}}),u=k=>k.local_info.name&&k.local_info.name!==""&&k.local_info.name.length>0?k.local_info.name:k.name,c=ref(),d=k=>{i.loraManager==="addLora"?E(k):c.value.open(k)},f=k=>{const R=k.split(/[\/\\]/);if(R.length===1)return{main:"root",sub:null};const A=R[0];if(R[R.length-1].includes(".")){const ne=R.slice(1,-1),se=ne.length>0?ne.join("/"):"root";return{main:A,sub:se}}else{const ne=R.slice(1).join("/");return{main:A,sub:ne}}},y=k=>{const R=new Set,A={},ne={};k.path.forEach(ue=>{const{main:ie,sub:ye}=f(ue);if(ie!=="root"&&(R.add(ie),A[ie]||(A[ie]={},ne[ie]=new Set),ye)){const me=ye.split("/");me[me.length-1].includes(".")&&me.pop(),me.length===0?ne[ie].add("root"):ne[ie].add(me.join("/"))}}),k.loras.forEach(ue=>{const{main:ie,sub:ye}=f(ue.basename);if(ie==="root")A.root||(A.root={"":[]}),A.root[""].push(ue);else{A[ie]||(A[ie]={});const me=ye?ye.split("/").filter(ce=>!ce.includes(".")).join("/")||"root":"";A[ie][me]||(A[ie][me]=[]),A[ie][me].push(ue)}});const se=Array.from(R).sort();se.push("root");const X={};for(const ue in ne){const ie=Array.from(ne[ue]),ye=ie.indexOf("root");ye!==-1?(ie.splice(ye,1),ie.sort(),ie.push("root")):ie.sort(),X[ue]=ie}return{categories:se,allLoras:k.loras,categorizedLoras:A,subCategories:X}},v=computed(()=>s.value==="all"||s.value==="root"?[]:l.value.subCategories[s.value]||[]),w=computed(()=>{let k=[];if(s.value==="all")k=l.value.allLoras;else{const R=l.value.categorizedLoras[s.value];if(!R)return[];s.value==="root"||!r.value?k=R[""]||[]:k=R[r.value]||[]}if(o.value){const R=o.value.toLowerCase();return k.filter(A=>{var ne;return(ne=A.local_info)!=null&&ne.name?A.local_info.name.toLowerCase().includes(R):A.name.toLowerCase().includes(R)})}return k}),S=k=>{s.value=k,r.value="root"},g=computed(()=>l.value.categories),N=async()=>{const k=await loraApi.getLoraList();l.value=y(k.data)},x=async()=>{a.value!=null&&message({type:"warn",str:"message.isLoading"}),await loraApi.getAllLoraList(),a.value=setInterval(async()=>{await m()},1e3)},m=async()=>{const k=await loraApi.getAllLoraStatus();k.data.isLoading==!1?(clearInterval(a.value),message({type:"success",str:"message.loaddingSuccess"})):message({type:"warn",str:"message.loaddingPrc",name:k.data.progress})},$=async()=>{if(!n.value){n.value=!0;try{await N()}catch(k){console.error("Failed to refresh lora list:",k)}finally{n.value=!1}}};onMounted(()=>{N()});const E=k=>{window.postMessage({type:"weilin_prompt_ui_selectLora",lora:{name:k.model_name,lora:k.name,weight:k.local_info.strengthMin?k.local_info.strengthMin:.5,text_encoder_weight:k.local_info.strWeight?k.local_info.strWeight:.5,loraWorks:k.local_info.loraWorks?k.local_info.loraWorks:""}},"*")};return(k,R)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$1}lora-manager`)},[createBaseVNode("div",_hoisted_1$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":R[0]||(R[0]=A=>o.value=A),class:normalizeClass(`${prefix$1}search-input`),placeholder:unref(t)("loraManager.searchPlaceholder")},null,10,_hoisted_2$4),[[vModelText,o.value]]),createBaseVNode("button",{class:normalizeClass(`${prefix$1}refresh-btn`),onClick:$,title:unref(t)("loraManager.refresh")},[(openBlock(),createElementBlock("svg",{class:normalizeClass([`${prefix$1}refresh-icon`,{"is-rotating":n.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},R[2]||(R[2]=[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},null,-1)]),2))],10,_hoisted_3$3),createBaseVNode("button",{style:{"margin-left":"10px"},class:normalizeClass(`${prefix$1}refresh-btn`),onClick:x,title:unref(t)("loraManager.cacheAll")},[(openBlock(),createElementBlock("svg",{class:normalizeClass([`${prefix$1}refresh-icon`,{"is-rotating":n.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},R[3]||(R[3]=[createBaseVNode("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"},null,-1)]),2))],10,_hoisted_4$3)]),createBaseVNode("div",{class:normalizeClass(`${prefix$1}category-nav`)},[createBaseVNode("button",{class:normalizeClass([`${prefix$1}category-btn`,{active:s.value==="all"}]),onClick:R[1]||(R[1]=A=>S("all"))},toDisplayString$1(unref(t)("loraManager.all")),3),(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,A=>(openBlock(),createElementBlock("button",{key:A,class:normalizeClass([`${prefix$1}category-btn`,{active:s.value===A}]),onClick:ne=>S(A)},toDisplayString$1(A),11,_hoisted_5$3))),128))],2),v.value.length>0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$1}subcategory-nav`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.value,A=>(openBlock(),createElementBlock("button",{key:A,class:normalizeClass([`${prefix$1}category-btn`,{active:r.value===A}]),onClick:ne=>r.value=A},toDisplayString$1(A),11,_hoisted_6$3))),128))],2)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(w.value,A=>(openBlock(),createElementBlock("div",{key:A.file_path,class:normalizeClass(`${prefix$1}lora-item`),onClick:ne=>d(A)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-item-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-preview`)},[A.preview?(openBlock(),createElementBlock("img",{key:0,src:A.preview,alt:A.model_name,title:A.model_name},null,8,_hoisted_8$3)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`${prefix$1}no-preview`)},R[4]||(R[4]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[createBaseVNode("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})],-1)]),2))],2),createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-info`)},[createBaseVNode("h4",{class:normalizeClass(`${prefix$1}lora-name`),title:u(A)},toDisplayString$1(u(A)),11,_hoisted_9$3),createBaseVNode("p",{class:normalizeClass(`${prefix$1}lora-path`),title:A.file_path},toDisplayString$1(A.file_path),11,_hoisted_10$2),createBaseVNode("p",{class:normalizeClass(`${prefix$1}lora-path`),title:unref(t)("loraManager.loraWorks")},toDisplayString$1(A.loraWorks),11,_hoisted_11$2)],2)],2)],10,_hoisted_7$3))),128))],2),createVNode(loraDetail,{ref_key:"loraDetailRef",ref:c},null,512)],2))}},LoraManager=_export_sfc(_sfc_main$5,[["__scopeId","data-v-0fe9ea73"]]),_hoisted_1$4={class:"container"},_hoisted_2$3={class:"tab-container"},_hoisted_3$2={key:0},_hoisted_4$2={class:"search-container"},_hoisted_5$2=["placeholder"],_hoisted_6$2=["title"],_hoisted_7$2=["title","disabled"],_hoisted_8$2=["title"],_hoisted_9$2={class:"history-list"},_hoisted_10$1={class:"action-buttons"},_hoisted_11$1=["onClick","title"],_hoisted_12$1=["onClick","title"],_hoisted_13$1=["onClick","title"],_hoisted_14$1=["value"],_hoisted_15$1={key:1},_hoisted_16$1={class:"search-container"},_hoisted_17$1=["placeholder"],_hoisted_18=["title"],_hoisted_19=["title"],_hoisted_20=["title","disabled"],_hoisted_21=["title"],_hoisted_22={class:"history-list"},_hoisted_23={class:"action-buttons"},_hoisted_24=["onClick","title"],_hoisted_25=["onClick","title"],_hoisted_26=["onClick","title"],_hoisted_27=["value"],_hoisted_28={key:2,class:"dialog-overlay"},_hoisted_29={class:"dialog-header"},_hoisted_30={class:"dialog-body"},_hoisted_31={class:"form-group"},_hoisted_32=["placeholder"],_hoisted_33={class:"form-group"},_hoisted_34=["placeholder"],_hoisted_35={class:"form-group"},_hoisted_36={class:"color-picker"},_hoisted_37={class:"color-controls"},_hoisted_38={class:"alpha-control"},_hoisted_39={class:"alpha-value"},_hoisted_40={class:"dialog-footer"},_hoisted_41={key:3,class:"dialog-overlay"},_hoisted_42={class:"dialog-header"},_hoisted_43={class:"dialog-body"},_hoisted_44={class:"confirm-message"},_hoisted_45={class:"dialog-footer"},_sfc_main$4={__name:"history_index",setup(e){const{t}=useI18n(),n=ref(""),s=ref([]),r=ref([]),a=ref([]),o=ref([]),i=ref("history"),l=ref([]),u=ref(!1),c=ref(!1),d=ref(!1),f=ref({hex:"rgba(255, 123, 2, .4)",alpha:100}),y=ref({name:"",tag:"",color:"rgba(255, 123, 2, .4)"}),v=ref(!1),w=ref(0),S=Z=>({hex:"#FFFFFF",alpha:0}),g=Z=>{const{hex:ee,alpha:he}=S();f.value={hex:ee,alpha:he}},N=()=>{d.value=!1,y.value={id:"",name:"",tag:"",backgroundColor:"transparent"},g(),u.value=!0},x=Z=>{const ee=Z.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(ee){const[,he,Ee,Le,C]=ee,T=`#${((1<<24)+(parseInt(he)<<16)+(parseInt(Ee)<<8)+parseInt(Le)).toString(16).slice(1)}`,M=C?Math.round(parseFloat(C)*100):100;return{hex:T,alpha:M}}return{hex:"#FF7B02",alpha:50}},m=Z=>{d.value=!0,y.value={...Z},f.value=x(Z.color),u.value=!0},$=()=>{u.value=!1,y.value={name:"",tag:"",color:"rgba(255, 123, 2, .4)"},d.value=!1},E=ref(""),k=ref(null),R=computed(()=>{if(!k.value)return"";switch(E.value){case"history":return t("history.deleteHistoryConfirm",{name:k.value.tag});case"favorite":return t("history.deleteFavoriteConfirm",{name:k.value.tag});case"deleteSelected":return t("history.confirmDeleteSelected");case"deleteSelectedFavorite":return t("history.confirmDeleteSelected");default:return""}}),A=Z=>{E.value="history",k.value=Z,c.value=!0},ne=Z=>{E.value="favorite",k.value=Z,c.value=!0},se=()=>{v.value=!1,w.value=0,E.value="deleteSelected",k.value=l.value,c.value=!0},X=()=>{v.value=!1,w.value=0,E.value="deleteSelectedFavorite",k.value=l.value,c.value=!0},ue=async()=>{try{switch(E.value){case"history":historyApi.deleteHistory(k.value.id_index).then(Z=>{ce(),message({type:"success",str:"message.deleteSuccess"})}).catch(Z=>{message({type:"warn",str:"message.networkError"})});break;case"favorite":historyApi.deleteFavorite(k.value.id_index).then(Z=>{z(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.deleteSuccess"})}).catch(Z=>{message({type:"warn",str:"message.networkError"})});break;case"deleteSelected":historyApi.batchDeleteHistory(l.value).then(Z=>{ce(),message({type:"success",str:"message.deleteSuccess"})}).catch(Z=>{message({type:"warn",str:"message.networkError"})});break;case"deleteSelectedFavorite":historyApi.batchDeleteFavorite(k.value).then(Z=>{z(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.deleteSuccess"})}).catch(Z=>{message({type:"warn",str:"message.networkError"})});break}ye()}catch{message({type:"warn",str:"message.networkError"})}},ie=Z=>{Z.target.checked?i.value==="history"?l.value=s.value.map(ee=>ee.id_index):l.value=a.value.map(ee=>ee.id_index):l.value=[]},ye=()=>{c.value=!1,E.value="",k.value=null},me=()=>{if(!y.value.tag){alert(t("history.dialog.tag_placeholder"));return}d.value?historyApi.editFavorite({id_index:y.value.id_index,name:y.value.name,tag:y.value.tag,color:y.value.color}).then(Z=>{z(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.editSuccess"})}).catch(Z=>{message({type:"warn",str:"message.networkError"})}):historyApi.addFavorite({name:y.value.name,tag:y.value.tag,color:y.value.color}).then(Z=>{z(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message({type:"success",str:"message.addSuccess"})}).catch(Z=>{message({type:"warn",str:"message.networkError"})}),$()},ce=()=>{historyApi.getHistory({}).then(Z=>{s.value=Z.data,r.value=s.value}).catch(Z=>{message({type:"warn",str:"message.networkError"})})},z=()=>{historyApi.getFavorite().then(Z=>{a.value=Z.data,o.value=a.value}).catch(Z=>{message({type:"warn",str:"message.networkError"})})},G=()=>{r.value=s.value.filter(Z=>Z.tag.includes(n.value))},ge=()=>{o.value=a.value.filter(Z=>Z.tag.includes(n.value))},j=()=>{ce()},V=()=>{z()},F=Z=>{historyApi.addFavorite({tag:Z.tag}).then(ee=>{ee.code===200?(window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),z(),message({type:"success",str:"message.addFavoriteSuccess"})):message({type:"warn",str:"message.addFavoriteIsExist"})}).catch(ee=>{message({type:"warn",str:"message.networkError"})})},te=Z=>{window.postMessage({type:"weilin_prompt_ui_user_history_tag",tagText:Z.tag},"*")},ae=()=>{l.value=[],v.value=!0},de=()=>{l.value=[],v.value=!1,w.value=0};return onMounted(()=>{ce(),z()}),(Z,ee)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("h1",null,toDisplayString$1(i.value==="history"?unref(t)("history.title"):unref(t)("history.favorites")),1),createBaseVNode("div",_hoisted_2$3,[createBaseVNode("button",{class:normalizeClass([{active:i.value==="history"},"tab-button"]),onClick:ee[0]||(ee[0]=he=>i.value="history")},toDisplayString$1(unref(t)("history.history")),3),createBaseVNode("button",{class:normalizeClass([{active:i.value==="favorites"},"tab-button"]),onClick:ee[1]||(ee[1]=he=>i.value="favorites")},toDisplayString$1(unref(t)("history.favorites")),3)]),i.value==="history"?(openBlock(),createElementBlock("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("button",{class:"refresh-btn",onClick:j},ee[16]||(ee[16]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ee[2]||(ee[2]=he=>n.value=he),placeholder:unref(t)("history.search_placeholder"),onInput:G,class:"search-input"},null,40,_hoisted_5$2),[[vModelText,n.value]]),v.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[3]||(ee[3]=he=>w.value=he),value:1,class:"tag-checkbox",onChange:ie},null,544)),[[vModelCheckbox,w.value]]):createCommentVNode("",!0),v.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"bulk-delete-btn",onClick:ae,title:unref(t)("history.bulk_delete")},ee[17]||(ee[17]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_6$2)),v.value?(openBlock(),createElementBlock("button",{key:2,class:"bulk-delete-btn",onClick:se,title:unref(t)("history.sure_delete"),disabled:l.value.length===0},ee[18]||(ee[18]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)]),8,_hoisted_7$2)):createCommentVNode("",!0),v.value?(openBlock(),createElementBlock("button",{key:3,class:"bulk-delete-btn",onClick:de,title:unref(t)("history.cancel_delete")},ee[19]||(ee[19]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),createBaseVNode("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)]),8,_hoisted_8$2)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_9$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,he=>(openBlock(),createElementBlock("li",{key:he.id_index,class:"history-item"},[createBaseVNode("span",null,toDisplayString$1(he.tag),1),createBaseVNode("div",_hoisted_10$1,[createBaseVNode("button",{onClick:Ee=>F(he),class:"favorite-btn",title:unref(t)("history.add_to_favorites")},ee[20]||(ee[20]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"favorite-icon"},[createBaseVNode("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)]),8,_hoisted_11$1),createBaseVNode("button",{onClick:Ee=>A(he),class:"delete-favorite-btn",title:unref(t)("history.delete_history")},ee[21]||(ee[21]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_12$1),createBaseVNode("button",{onClick:Ee=>te(he),class:"use-btn",title:unref(t)("history.use_item")},ee[22]||(ee[22]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[createBaseVNode("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)]),8,_hoisted_13$1),v.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[4]||(ee[4]=Ee=>l.value=Ee),value:he.id_index,class:"tag-checkbox"},null,8,_hoisted_14$1)),[[vModelCheckbox,l.value]]):createCommentVNode("",!0)])]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_15$1,[createBaseVNode("div",_hoisted_16$1,[createBaseVNode("button",{class:"refresh-btn",onClick:V},ee[23]||(ee[23]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ee[5]||(ee[5]=he=>n.value=he),placeholder:unref(t)("history.search_placeholder"),onInput:ge,class:"search-input"},null,40,_hoisted_17$1),[[vModelText,n.value]]),v.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[6]||(ee[6]=he=>w.value=he),value:1,class:"tag-checkbox",onChange:ie},null,544)),[[vModelCheckbox,w.value]]):createCommentVNode("",!0),createBaseVNode("button",{class:"add-btn",onClick:N,title:unref(t)("history.add_new")},ee[24]||(ee[24]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"add-icon"},[createBaseVNode("path",{d:"M472 472V104c0-22.091 17.909-40 40-40s40 17.909 40 40v368h368c22.091 0 40 17.909 40 40s-17.909 40-40 40H552v368c0 22.091-17.909 40-40 40s-40-17.909-40-40V552H104c-22.091 0-40-17.909-40-40s17.909-40 40-40h368z"})],-1)]),8,_hoisted_18),v.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"bulk-delete-btn",onClick:ae,title:unref(t)("history.bulk_delete")},ee[25]||(ee[25]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_19)),v.value?(openBlock(),createElementBlock("button",{key:2,class:"bulk-delete-btn",onClick:X,title:unref(t)("history.sure_delete"),disabled:l.value.length===0},ee[26]||(ee[26]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)]),8,_hoisted_20)):createCommentVNode("",!0),v.value?(openBlock(),createElementBlock("button",{key:3,class:"bulk-delete-btn",onClick:de,title:unref(t)("history.cancel_delete")},ee[27]||(ee[27]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),createBaseVNode("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)]),8,_hoisted_21)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_22,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,he=>(openBlock(),createElementBlock("li",{key:he.id_index,class:"history-item"},[createBaseVNode("span",null,toDisplayString$1(he.tag),1),createBaseVNode("div",_hoisted_23,[createBaseVNode("button",{onClick:Ee=>m(he),class:"delete-favorite-btn",title:unref(t)("history.edit_favorite")},ee[28]||(ee[28]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M200.59 626.48v129.5h129.5l381.93-381.93-129.5-129.5-381.93 381.93z m611.56-352.57c13.45-13.41 13.48-35.18 0.07-48.62l-0.07-0.07-80.81-80.81c-13.41-13.45-35.18-13.48-48.62-0.07l-0.07 0.07-63.19 63.19 129.5 129.5 63.19-63.19zM131.52 824.96h759.71c23.02 0 34.53 11.51 34.53 34.53 0 23.02-11.51 34.53-34.53 34.53H131.52c-23.02 0-34.53-11.51-34.53-34.53 0-23.02 11.51-34.53 34.53-34.53z","p-id":"2346"})],-1)]),8,_hoisted_24),createBaseVNode("button",{onClick:Ee=>ne(he),class:"delete-favorite-btn",title:unref(t)("history.delete_favorite")},ee[29]||(ee[29]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_25),createBaseVNode("button",{onClick:Ee=>te(he),class:"use-btn",title:unref(t)("history.use_favorite")},ee[30]||(ee[30]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[createBaseVNode("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)]),8,_hoisted_26),v.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[7]||(ee[7]=Ee=>l.value=Ee),value:he.id_index,class:"tag-checkbox"},null,8,_hoisted_27)),[[vModelCheckbox,l.value]]):createCommentVNode("",!0)])]))),128))])])),u.value?(openBlock(),createElementBlock("div",_hoisted_28,[createBaseVNode("div",{class:"dialog-content",onMousedown:ee[14]||(ee[14]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_29,[createBaseVNode("h2",null,toDisplayString$1(d.value?unref(t)("history.dialog.edit_tag"):unref(t)("history.dialog.add_tag")),1),createBaseVNode("button",{class:"close-btn",onClick:$},"×")]),createBaseVNode("div",_hoisted_30,[createBaseVNode("div",_hoisted_31,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.name")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ee[8]||(ee[8]=he=>y.value.name=he),placeholder:unref(t)("history.dialog.name_placeholder")},null,8,_hoisted_32),[[vModelText,y.value.name]])]),createBaseVNode("div",_hoisted_33,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.tag")),1),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ee[9]||(ee[9]=he=>y.value.tag=he),placeholder:unref(t)("history.dialog.tag_placeholder"),rows:"4"},"                        ",8,_hoisted_34),[[vModelText,y.value.tag]])]),createBaseVNode("div",_hoisted_35,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.background_color")),1),createBaseVNode("div",_hoisted_36,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:Z.previewColor})},null,4),createBaseVNode("div",_hoisted_37,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":ee[10]||(ee[10]=he=>f.value.hex=he),onInput:ee[11]||(ee[11]=(...he)=>Z.updateColor&&Z.updateColor(...he)),class:"color-input"},null,544),[[vModelText,f.value.hex]]),createBaseVNode("div",_hoisted_38,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":ee[12]||(ee[12]=he=>f.value.alpha=he),min:"0",max:"100",onInput:ee[13]||(ee[13]=(...he)=>Z.updateColor&&Z.updateColor(...he)),class:"alpha-slider"},null,544),[[vModelText,f.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_39,toDisplayString$1(f.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_40,[createBaseVNode("button",{class:"cancel-btn",onClick:$},toDisplayString$1(unref(t)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:me},toDisplayString$1(unref(t)("common.confirm")),1)])],32)])):createCommentVNode("",!0),c.value?(openBlock(),createElementBlock("div",_hoisted_41,[createBaseVNode("div",{class:"dialog-content confirm-dialog",onMousedown:ee[15]||(ee[15]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_42,[createBaseVNode("h2",null,toDisplayString$1(unref(t)("common.confirmDelete")),1),createBaseVNode("button",{class:"close-btn",onClick:ye},"×")]),createBaseVNode("div",_hoisted_43,[createBaseVNode("p",_hoisted_44,toDisplayString$1(R.value),1)]),createBaseVNode("div",_hoisted_45,[createBaseVNode("button",{class:"cancel-btn",onClick:ye},toDisplayString$1(unref(t)("common.cancel")),1),createBaseVNode("button",{class:"delete-btn",onClick:ue},toDisplayString$1(unref(t)("common.delete")),1)])],32)])):createCommentVNode("",!0)]))}},HistoryManager=_export_sfc(_sfc_main$4,[["__scopeId","data-v-6f760457"]]),_hoisted_1$3=["onMouseenter","onMouseleave","onMousedown","onMouseup"],_hoisted_2$2={key:0,class:"weilin_prompt_ui_menu-container"},_sfc_main$3={__name:"FloatingBall",setup(e){const{t}=useI18n(),n=ref(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1),s=ref(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66);(n.value<1||s.value<66)&&(n.value=1,s.value=66,localStorage.setItem("weilin_prompt_ui_floatingBallCount",n.value),localStorage.setItem("weilin_prompt_ui_floatingBallSize",s.value)),localStorage.getItem("weilin_prompt_ui_floatingBallCount")||localStorage.setItem("weilin_prompt_ui_floatingBallCount",n.value),localStorage.getItem("weilin_prompt_ui_floatingBallSize")||localStorage.setItem("weilin_prompt_ui_floatingBallSize",s.value);const r=ref([]),a=ref([]),o=ref([]),i=ref([]);for(let S=0;S<n.value;S++)o.value[S]=!1,a.value[S]=!1,r.value[S]={x:20+S*(s.value+10),y:window.innerHeight-100,width:s.value+"px",height:s.value+"px"},i.value[S]={left:`${r.value[S].x}px`,top:`${r.value[S].y}px`,width:`${s.value}px`,height:`${s.value}px`};const l=(S,g)=>{a.value[g]=!0,document.addEventListener("mousemove",N=>u(N,g)),document.addEventListener("mouseup",N=>c(N,g))},u=(S,g)=>{a.value[g]&&(r.value[g].x=S.clientX-s.value/2,r.value[g].y=S.clientY-s.value/2,i.value[g]={left:`${r.value[g].x}px`,top:`${r.value[g].y}px`,width:`${s.value}px`,height:`${s.value}px`})},c=(S,g)=>{a.value[g]=!1,document.removeEventListener("mousemove",N=>u(N,g)),document.removeEventListener("mouseup",N=>c(N,g))},d=()=>{},f=S=>{switch(S){case"item1":window.parent.postMessage({type:"weilin_prompt_ui_open_global_prompt_box"},"*");break;case"item2":window.parent.postMessage({type:"weilin_prompt_ui_open_global_tag_manager"},"*");break;case"item3":window.parent.postMessage({type:"weilin_prompt_ui_open_global_lora_manager"},"*");break;case"item4":window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*");break;case"item5":window.parent.postMessage({type:"weilin_prompt_ui_restore_window"},"*");break;case"item6":window.parent.postMessage({type:"weilin_prompt_ui_open_node_list_window"},"*");break}},y=S=>{if(S.data.type==="weilin_prompt_ui_floating_ball_setting"){n.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1,s.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66,o.value=[],a.value=[],r.value=[],i.value=[];for(let g=0;g<n.value;g++)o.value[g]=!1,a.value[g]=!1,r.value[g]={x:20+g*(s.value+10),y:window.innerHeight-100,width:s.value+"px",height:s.value+"px"},i.value[g]={left:`${r.value[g].x}px`,top:`${r.value[g].y}px`,width:`${s.value}px`,height:`${s.value}px`}}},v=S=>{o.value[S]=!0},w=S=>{o.value[S]=!1};return onMounted(()=>{window.addEventListener("message",y)}),onUnmounted(()=>{window.removeEventListener("message",y),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c)}),(S,g)=>(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,N=>(openBlock(),createElementBlock("div",{class:"weilin_prompt_ui_floating-ball",style:normalizeStyle(i.value[N-1]),onMouseenter:x=>v(N-1),onMouseleave:x=>w(N-1),onMousedown:x=>l(x,N-1),onMouseup:x=>c(x,N-1),key:"floating-ball-"+N},[createBaseVNode("div",{class:"weilin_prompt_ui_ball-content",onClick:d},[renderSlot(S.$slots,"default",{},void 0,!0)]),o.value[N-1]?(openBlock(),createElementBlock("div",_hoisted_2$2,[createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:g[0]||(g[0]=x=>f("item1"))},toDisplayString$1(unref(t)("floatingBall.promptBox")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:g[1]||(g[1]=x=>f("item2"))},toDisplayString$1(unref(t)("floatingBall.tagManager")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:g[2]||(g[2]=x=>f("item3"))},toDisplayString$1(unref(t)("floatingBall.loraManager")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:g[3]||(g[3]=x=>f("item4"))},toDisplayString$1(unref(t)("floatingBall.aiWindow")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:g[4]||(g[4]=x=>f("item6"))},toDisplayString$1(unref(t)("floatingBall.openNodeListWindow")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:g[5]||(g[5]=x=>f("item5"))},toDisplayString$1(unref(t)("floatingBall.restoreWindow")),1)])):createCommentVNode("",!0)],44,_hoisted_1$3))),128))}},FloatingBall=_export_sfc(_sfc_main$3,[["__scopeId","data-v-871c1e33"]]),_hoisted_1$2={class:"ai-chat-window"},_hoisted_2$1={class:"history-sidebar"},_hoisted_3$1={class:"history-list"},_hoisted_4$1=["onClick"],_hoisted_5$1={key:0},_hoisted_6$1=["onKeyup","onBlur"],_hoisted_7$1={class:"item-actions"},_hoisted_8$1=["onClick"],_hoisted_9$1=["onClick"],_hoisted_10={class:"chat-main"},_hoisted_11={class:"message-list"},_hoisted_12={class:"message-content"},_hoisted_13={key:0,class:"message assistant"},_hoisted_14={class:"message-content"},_hoisted_15={class:"input-area"},_hoisted_16=["placeholder","onKeydown"],_hoisted_17=["disabled"],_sfc_main$2={__name:"ai_window",setup(e){const{t}=useI18n(),n=ref([]),s=ref(-1),r=ref(""),a=ref(!1),o=ref({}),i=ref(!1),l=ref(""),u=$=>{var E;n.value[$]&&(i.value=!0,l.value=((E=n.value[$])==null?void 0:E.title)||`对话 ${$+1}`,s.value=$)},c=$=>{n.value[$]&&(l.value.trim()&&(n.value[$].title=l.value.trim(),g()),i.value=!1)},d=()=>{i.value=!1},f=()=>{openaiApi.getOpenAiSetting().then($=>{o.value=$.data}).catch($=>{message({type:"warn",str:"message.networkError"})})};onMounted(()=>{f()});const y=computed(()=>n.value[s.value]||{messages:[]}),v=$=>{s.value=$},w=()=>{a.value=!0;const $={title:`对话 ${n.value.length+1}`,messages:[],createdAt:new Date().toISOString()};return n.value.push($),s.value=n.value.length-1,g(),a.value=!1,$},S=()=>{const $=localStorage.getItem("aiChatHistory");$&&(n.value=JSON.parse($))},g=()=>{localStorage.setItem("aiChatHistory",JSON.stringify(n.value))};onMounted(()=>{f(),S()});const N=async()=>{if(!r.value.trim()||a.value)return;(n.value.length===0||s.value===-1)&&w();const $={role:"user",content:r.value,timestamp:new Date().toISOString()};y.value.messages.push($),g(),r.value="";const E={role:"assistant",content:"",timestamp:new Date().toISOString()};y.value.messages.push(E),g(),a.value=!0;try{await m({messages:y.value.messages},k=>{const R=y.value.messages[y.value.messages.length-1];R.content+=k.content,g()},k=>{console.error("Error:",k);const R=y.value.messages[y.value.messages.length-1];R.content="抱歉，出错了，请稍后再试。",g()},()=>{a.value=!1,g()})}catch(k){console.error("Error:",k),a.value=!1;const R=y.value.messages[y.value.messages.length-1];R.content="请求失败，请检查网络连接。",g()}},x=$=>{n.value.splice($,1),s.value===$&&(s.value=Math.max(0,$-1)),g()},m=async($,E,k,R)=>{var A,ne;try{const se=await fetch(o.value.base_url+"/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.value.api_key}`},body:JSON.stringify({model:o.value.model,messages:$.messages,stream:!0})});if(!se.ok)throw new Error(`HTTP error! status: ${se.status}`);const X=se.body.getReader(),ue=new TextDecoder;let ie="";for(;;){const{done:ye,value:me}=await X.read();if(ye){R();break}ie+=ue.decode(me,{stream:!0});const ce=ie.split(`
`);ie=ce.pop();for(const z of ce)if(z.trim()!==""){if(z==="data: [DONE]"){R();return}try{const G=z.replace(/^data: /,""),j=((ne=(A=JSON.parse(G).choices[0])==null?void 0:A.delta)==null?void 0:ne.content)||"";j&&E({content:j})}catch{console.error("Failed to parse message:",z)}}}}catch(se){k(se)}};return($,E)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("button",{class:"new-chat-btn",onClick:w},toDisplayString$1(unref(t)("aiWindow.newChat")),1),createBaseVNode("div",_hoisted_3$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(k,R)=>(openBlock(),createElementBlock("div",{key:R,class:normalizeClass(["history-item",{active:s.value===R}]),onClick:A=>v(R)},[!i.value||s.value!==R?(openBlock(),createElementBlock("span",_hoisted_5$1,toDisplayString$1((k==null?void 0:k.title)||unref(t)("aiWindow.chatName")+` ${R+1}`),1)):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":E[0]||(E[0]=A=>l.value=A),onKeyup:[withKeys(A=>c(R),["enter"]),withKeys(d,["esc"])],onBlur:A=>c(R),class:"rename-input"},null,40,_hoisted_6$1)),[[vModelText,l.value]]),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("button",{class:"rename-btn",onClick:withModifiers(A=>u(R),["stop"])},"✎",8,_hoisted_8$1),i.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"delete-btn",onClick:withModifiers(A=>x(R),["stop"])},"×",8,_hoisted_9$1))])],10,_hoisted_4$1))),128))])]),createBaseVNode("div",_hoisted_10,[createBaseVNode("div",_hoisted_11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value.messages,(k,R)=>(openBlock(),createElementBlock("div",{key:R,class:normalizeClass(["message",k.role])},[createBaseVNode("div",_hoisted_12,[createBaseVNode("pre",null,toDisplayString$1(k.content),1)])],2))),128)),a.value?(openBlock(),createElementBlock("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[createBaseVNode("pre",null,toDisplayString$1(unref(t)("aiWindow.thinking")),1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15,[withDirectives(createBaseVNode("textarea",{class:"ai-chat-textarea","onUpdate:modelValue":E[1]||(E[1]=k=>r.value=k),placeholder:unref(t)("aiWindow.inputMessage"),onKeydown:withKeys(withModifiers(N,["exact","prevent"]),["enter"])},null,40,_hoisted_16),[[vModelText,r.value]]),createBaseVNode("button",{class:"ai-chat-btn",onClick:N,disabled:a.value},toDisplayString$1(unref(t)("aiWindow.send")),9,_hoisted_17)])])]))}},AiWindow=_export_sfc(_sfc_main$2,[["__scopeId","data-v-0cea2906"]]),_hoisted_1$1={class:"lora-info"},_hoisted_2={class:"lora-header"},_hoisted_3=["title"],_hoisted_4={class:"lora-weights"},_hoisted_5={class:"weight-item"},_hoisted_6=["title"],_hoisted_7={class:"weight-item"},_hoisted_8={class:"center-box"},_hoisted_9=["onClick"],prefix="weilin_prompt_ui_",_sfc_main$1={__name:"index",setup(e){const{t}=useI18n(),n=ref([]);window.addEventListener("message",r=>{r.data.type==="weilin_prompt_ui_update_node_list_info"&&(n.value=r.data.nodeList)});const s=r=>{window.postMessage({type:"weilin_prompt_ui_prompt_open_node_wit_seed",seed:r},"*")};return onMounted(()=>{window.postMessage({type:"weilin_prompt_ui_prompt_get_node_list_info"},"*")}),(r,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix}lora-stack`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,o=>(openBlock(),createElementBlock("div",{key:o.id,class:"lora-item"},[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("span",{class:"lora-name",title:o.title},"#"+toDisplayString$1(o.id)+" - "+toDisplayString$1(o.title),9,_hoisted_3)]),createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[createBaseVNode("div",{class:"text-label",title:o.text},toDisplayString$1(o.text),9,_hoisted_6)]),createBaseVNode("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createBaseVNode("button",{onClick:i=>s(o.seed),class:"open-button"},toDisplayString$1(unref(t)("nodeListWindow.openPromptUI")),9,_hoisted_9)])])])])]))),128))],2)],2)],2)],2))}},NodeListWindow=_export_sfc(_sfc_main$1,[["__scopeId","data-v-0c15a742"]]),_hoisted_1={id:"weilin_comfyui_tools_prompt_ui_div"},STORAGE_PREFIX="weilin_tools_",_sfc_main={__name:"App",setup(e){useTagStore();const t=ref(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true");localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")||(localStorage.setItem("weilin_prompt_ui_floatingBallEnabled","true"),t.value=!0);const{t:n}=useI18n(),s=ref(""),r=ref("look"),a=ref("manager"),o=ref("prompt_global"),i=`${STORAGE_PREFIX}theme`,l=ref(localStorage.getItem(i)==="dark"),u=ref(""),c={prompt:{visible:!1,position:{x:100,y:100},size:{width:600,height:400}},tag:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,position:{x:100,y:100},size:{width:300,height:600}}},d=()=>{try{const m=localStorage.getItem(`${STORAGE_PREFIX}windowStates`);if(m){const $=JSON.parse(m),E={...c};for(const k in $)k in E&&(E[k]={...c[k],...$[k]});return E}}catch(m){console.error("Error loading window states:",m)}return{...c}},f=ref(d());watch(f,m=>{try{localStorage.setItem(`${STORAGE_PREFIX}windowStates`,JSON.stringify(m))}catch($){console.error("Error saving window states:",$)}},{deep:!0}),onMounted(()=>{Object.keys(f.value).forEach(m=>{windowManager.registerWindow(m)}),y(),window.addEventListener("message",x)});const y=()=>{let m=localStorage.getItem(i);m||(localStorage.setItem(i,"dark"),m="dark",l.value=!0),l.value=m==="dark";const $=document.getElementById("weilin_comfyui_tools_prompt_ui_div");$&&$.setAttribute("data-theme",l.value?"dark":"light")};onUnmounted(()=>{Object.keys(f.value).forEach(m=>{windowManager.unregisterWindow(m)}),window.removeEventListener("message",x)});const v=m=>{m==="prompt"&&(s.value=""),f.value[m].visible=!1},w=(m,$)=>{f.value[m]&&(f.value[m].position={...$})},S=(m,$)=>{f.value[m]&&(f.value[m].size={...$})},g=()=>{const m={loraDetail:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},$={prompt:{visible:!1,position:{x:100,y:100},size:{width:600,height:400}},tag:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,position:{x:100,y:100},size:{width:400,height:800}}};localStorage.setItem(`${STORAGE_PREFIX}windowStates`,JSON.stringify($)),localStorage.setItem(`${STORAGE_PREFIX}loraDetailState`,JSON.stringify(m)),f.value=d()},N=ref(),x=m=>{m.data.type==="weilin_prompt_ui_openTagManager"?(a.value="manager",f.value.tag.visible=!0,windowManager.setActiveWindow("tag")):m.data.type==="weilin_prompt_ui_openTagManager_prompt"?(a.value="prompt",f.value.tag.visible=!0,windowManager.setActiveWindow("tag")):m.data.type==="weilin_prompt_ui_openPromptBox"?(s.value=m.data.id,o.value="prompt",f.value.prompt.visible=!0,nextTick(()=>{N.value.setPromptText(m.data.prompt)}),windowManager.setActiveWindow("prompt")):m.data.type==="weilin_prompt_ui_openLoraManager"?(r.value="look",f.value.lora.visible=!0,windowManager.setActiveWindow("lora")):m.data.type==="weilin_prompt_ui_openLoraManager_addLora"?(r.value="addLora",f.value.lora.visible=!0,windowManager.setActiveWindow("lora")):m.data.type==="weilin_prompt_ui_openHistoryManager"?(f.value.history.visible=!0,windowManager.setActiveWindow("history")):m.data.type==="weilin_prompt_ui_openAiWindow"?(f.value.ai_window.visible=!0,windowManager.setActiveWindow("ai_window")):m.data.type==="weilin_prompt_ui_open_node_list_window"?(f.value.node_list_window.visible=!0,windowManager.setActiveWindow("node_list_window")):m.data.type==="weilin_prompt_ui_prompt_finish_prompt"?window.postMessage({type:"weilin_prompt_ui_prompt_update_prompt_"+s.value,data:m.data.data},"*"):m.data.type==="weilin_prompt_ui_open_global_prompt_box"?(o.value="prompt_global",s.value="global",f.value.prompt.visible=!0,nextTick(()=>{N.value.setPromptText(u.value)}),windowManager.setActiveWindow("prompt")):m.data.type==="weilin_prompt_ui_open_global_tag_manager"?(a.value="manager",f.value.tag.visible=!0,windowManager.setActiveWindow("tag")):m.data.type==="weilin_prompt_ui_open_global_lora_manager"?(r.value="look",f.value.lora.visible=!0,windowManager.setActiveWindow("lora")):m.data.type==="weilin_prompt_ui_prompt_update_prompt_global"?u.value=m.data.data:m.data.type==="weilin_prompt_ui_floating_ball_setting"?t.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true":m.data.type==="weilin_prompt_ui_restore_window"&&g()};return(m,$)=>(openBlock(),createElementBlock("div",_hoisted_1,[f.value.prompt.visible?(openBlock(),createBlock(DraggableWindow,{key:0,name:"promptBox",title:o.value==="prompt"?unref(n)("promptBox.windowTitle"):unref(n)("promptBox.windowTitleGlobal"),position:f.value.prompt.position,size:f.value.prompt.size,"z-index":unref(windowManager).getZIndex("prompt"),"onUpdate:position":$[0]||($[0]=E=>w("prompt",E)),"onUpdate:size":$[1]||($[1]=E=>S("prompt",E)),onActive:$[2]||($[2]=E=>unref(windowManager).setActiveWindow("prompt")),onClose:$[3]||($[3]=E=>v("prompt"))},{default:withCtx(()=>[createVNode(PromptBox,{promptManager:o.value,ref_key:"promptBoxRef",ref:N},null,8,["promptManager"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.tag.visible?(openBlock(),createBlock(DraggableWindow,{key:1,name:"tagManager",title:unref(n)("tagManager.windowTitle"),position:f.value.tag.position,size:f.value.tag.size,"z-index":unref(windowManager).getZIndex("tag"),"onUpdate:position":$[4]||($[4]=E=>w("tag",E)),"onUpdate:size":$[5]||($[5]=E=>S("tag",E)),onActive:$[6]||($[6]=E=>unref(windowManager).setActiveWindow("tag")),onClose:$[7]||($[7]=E=>v("tag"))},{default:withCtx(()=>[createVNode(TagManager,{tagManager:a.value},null,8,["tagManager"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.lora.visible?(openBlock(),createBlock(DraggableWindow,{key:2,name:"loraManager",title:unref(n)("loraManager.windowTitle"),position:f.value.lora.position,size:f.value.lora.size,"z-index":unref(windowManager).getZIndex("lora"),"onUpdate:position":$[8]||($[8]=E=>w("lora",E)),"onUpdate:size":$[9]||($[9]=E=>S("lora",E)),onActive:$[10]||($[10]=E=>unref(windowManager).setActiveWindow("lora")),onClose:$[11]||($[11]=E=>v("lora"))},{default:withCtx(()=>[createVNode(LoraManager,{loraManager:r.value},null,8,["loraManager"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.history.visible?(openBlock(),createBlock(DraggableWindow,{key:3,name:"historyManager",title:unref(n)("history.windowTitle"),position:f.value.history.position,size:f.value.history.size,"z-index":unref(windowManager).getZIndex("history"),"onUpdate:position":$[12]||($[12]=E=>w("history",E)),"onUpdate:size":$[13]||($[13]=E=>S("history",E)),onActive:$[14]||($[14]=E=>unref(windowManager).setActiveWindow("history")),onClose:$[15]||($[15]=E=>v("history"))},{default:withCtx(()=>[createVNode(HistoryManager)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.ai_window.visible?(openBlock(),createBlock(DraggableWindow,{key:4,name:"aiWindow",title:unref(n)("aiWindow.windowTitle"),position:f.value.ai_window.position,size:f.value.ai_window.size,"z-index":unref(windowManager).getZIndex("ai_window"),"onUpdate:position":$[16]||($[16]=E=>w("ai_window",E)),"onUpdate:size":$[17]||($[17]=E=>S("ai_window",E)),onActive:$[18]||($[18]=E=>unref(windowManager).setActiveWindow("ai_window")),onClose:$[19]||($[19]=E=>v("ai_window"))},{default:withCtx(()=>[createVNode(AiWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.node_list_window.visible?(openBlock(),createBlock(DraggableWindow,{key:5,name:"nodeListWindow",title:unref(n)("nodeListWindow.windowTitle"),position:f.value.node_list_window.position,size:f.value.node_list_window.size,"z-index":unref(windowManager).getZIndex("node_list_window"),"onUpdate:position":$[20]||($[20]=E=>w("node_list_window",E)),"onUpdate:size":$[21]||($[21]=E=>S("node_list_window",E)),onActive:$[22]||($[22]=E=>unref(windowManager).setActiveWindow("node_list_window")),onClose:$[23]||($[23]=E=>v("node_list_window"))},{default:withCtx(()=>[createVNode(NodeListWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),t.value?(openBlock(),createBlock(FloatingBall,{key:6},{default:withCtx(()=>$[24]||($[24]=[createTextVNode("WeiLin")])),_:1})):createCommentVNode("",!0)]))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-4dae5e00"]]);var clipboard$1={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */var clipboard=clipboard$1.exports,hasRequiredClipboard;function requireClipboard(){return hasRequiredClipboard||(hasRequiredClipboard=1,function(e,t){(function(s,r){e.exports=r()})(clipboard,function(){return function(){var n={686:function(a,o,i){i.d(o,{default:function(){return j}});var l=i(279),u=i.n(l),c=i(370),d=i.n(c),f=i(817),y=i.n(f);function v(V){try{return document.execCommand(V)}catch{return!1}}var w=function(F){var te=y()(F);return v("cut"),te},S=w;function g(V){var F=document.documentElement.getAttribute("dir")==="rtl",te=document.createElement("textarea");te.style.fontSize="12pt",te.style.border="0",te.style.padding="0",te.style.margin="0",te.style.position="absolute",te.style[F?"right":"left"]="-9999px";var ae=window.pageYOffset||document.documentElement.scrollTop;return te.style.top="".concat(ae,"px"),te.setAttribute("readonly",""),te.value=V,te}var N=function(F,te){var ae=g(F);te.container.appendChild(ae);var de=y()(ae);return v("copy"),ae.remove(),de},x=function(F){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},ae="";return typeof F=="string"?ae=N(F,te):F instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(F==null?void 0:F.type)?ae=N(F.value,te):(ae=y()(F),v("copy")),ae},m=x;function $(V){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(te){return typeof te}:$=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},$(V)}var E=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=F.action,ae=te===void 0?"copy":te,de=F.container,Z=F.target,ee=F.text;if(ae!=="copy"&&ae!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Z!==void 0)if(Z&&$(Z)==="object"&&Z.nodeType===1){if(ae==="copy"&&Z.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(ae==="cut"&&(Z.hasAttribute("readonly")||Z.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ee)return m(ee,{container:de});if(Z)return ae==="cut"?S(Z):m(Z,{container:de})},k=E;function R(V){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(te){return typeof te}:R=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},R(V)}function A(V,F){if(!(V instanceof F))throw new TypeError("Cannot call a class as a function")}function ne(V,F){for(var te=0;te<F.length;te++){var ae=F[te];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(V,ae.key,ae)}}function se(V,F,te){return F&&ne(V.prototype,F),te&&ne(V,te),V}function X(V,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(F&&F.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),F&&ue(V,F)}function ue(V,F){return ue=Object.setPrototypeOf||function(ae,de){return ae.__proto__=de,ae},ue(V,F)}function ie(V){var F=ce();return function(){var ae=z(V),de;if(F){var Z=z(this).constructor;de=Reflect.construct(ae,arguments,Z)}else de=ae.apply(this,arguments);return ye(this,de)}}function ye(V,F){return F&&(R(F)==="object"||typeof F=="function")?F:me(V)}function me(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function z(V){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)},z(V)}function G(V,F){var te="data-clipboard-".concat(V);if(F.hasAttribute(te))return F.getAttribute(te)}var ge=function(V){X(te,V);var F=ie(te);function te(ae,de){var Z;return A(this,te),Z=F.call(this),Z.resolveOptions(de),Z.listenClick(ae),Z}return se(te,[{key:"resolveOptions",value:function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof de.action=="function"?de.action:this.defaultAction,this.target=typeof de.target=="function"?de.target:this.defaultTarget,this.text=typeof de.text=="function"?de.text:this.defaultText,this.container=R(de.container)==="object"?de.container:document.body}},{key:"listenClick",value:function(de){var Z=this;this.listener=d()(de,"click",function(ee){return Z.onClick(ee)})}},{key:"onClick",value:function(de){var Z=de.delegateTarget||de.currentTarget,ee=this.action(Z)||"copy",he=k({action:ee,container:this.container,target:this.target(Z),text:this.text(Z)});this.emit(he?"success":"error",{action:ee,text:he,trigger:Z,clearSelection:function(){Z&&Z.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(de){return G("action",de)}},{key:"defaultTarget",value:function(de){var Z=G("target",de);if(Z)return document.querySelector(Z)}},{key:"defaultText",value:function(de){return G("text",de)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(de){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return m(de,Z)}},{key:"cut",value:function(de){return S(de)}},{key:"isSupported",value:function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Z=typeof de=="string"?[de]:de,ee=!!document.queryCommandSupported;return Z.forEach(function(he){ee=ee&&!!document.queryCommandSupported(he)}),ee}}]),te}(u()),j=ge},828:function(a){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function l(u,c){for(;u&&u.nodeType!==o;){if(typeof u.matches=="function"&&u.matches(c))return u;u=u.parentNode}}a.exports=l},438:function(a,o,i){var l=i(828);function u(f,y,v,w,S){var g=d.apply(this,arguments);return f.addEventListener(v,g,S),{destroy:function(){f.removeEventListener(v,g,S)}}}function c(f,y,v,w,S){return typeof f.addEventListener=="function"?u.apply(null,arguments):typeof v=="function"?u.bind(null,document).apply(null,arguments):(typeof f=="string"&&(f=document.querySelectorAll(f)),Array.prototype.map.call(f,function(g){return u(g,y,v,w,S)}))}function d(f,y,v,w){return function(S){S.delegateTarget=l(S.target,y),S.delegateTarget&&w.call(f,S)}}a.exports=c},879:function(a,o){o.node=function(i){return i!==void 0&&i instanceof HTMLElement&&i.nodeType===1},o.nodeList=function(i){var l=Object.prototype.toString.call(i);return i!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in i&&(i.length===0||o.node(i[0]))},o.string=function(i){return typeof i=="string"||i instanceof String},o.fn=function(i){var l=Object.prototype.toString.call(i);return l==="[object Function]"}},370:function(a,o,i){var l=i(879),u=i(438);function c(v,w,S){if(!v&&!w&&!S)throw new Error("Missing required arguments");if(!l.string(w))throw new TypeError("Second argument must be a String");if(!l.fn(S))throw new TypeError("Third argument must be a Function");if(l.node(v))return d(v,w,S);if(l.nodeList(v))return f(v,w,S);if(l.string(v))return y(v,w,S);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function d(v,w,S){return v.addEventListener(w,S),{destroy:function(){v.removeEventListener(w,S)}}}function f(v,w,S){return Array.prototype.forEach.call(v,function(g){g.addEventListener(w,S)}),{destroy:function(){Array.prototype.forEach.call(v,function(g){g.removeEventListener(w,S)})}}}function y(v,w,S){return u(document.body,v,w,S)}a.exports=c},817:function(a){function o(i){var l;if(i.nodeName==="SELECT")i.focus(),l=i.value;else if(i.nodeName==="INPUT"||i.nodeName==="TEXTAREA"){var u=i.hasAttribute("readonly");u||i.setAttribute("readonly",""),i.select(),i.setSelectionRange(0,i.value.length),u||i.removeAttribute("readonly"),l=i.value}else{i.hasAttribute("contenteditable")&&i.focus();var c=window.getSelection(),d=document.createRange();d.selectNodeContents(i),c.removeAllRanges(),c.addRange(d),l=c.toString()}return l}a.exports=o},279:function(a){function o(){}o.prototype={on:function(i,l,u){var c=this.e||(this.e={});return(c[i]||(c[i]=[])).push({fn:l,ctx:u}),this},once:function(i,l,u){var c=this;function d(){c.off(i,d),l.apply(u,arguments)}return d._=l,this.on(i,d,u)},emit:function(i){var l=[].slice.call(arguments,1),u=((this.e||(this.e={}))[i]||[]).slice(),c=0,d=u.length;for(c;c<d;c++)u[c].fn.apply(u[c].ctx,l);return this},off:function(i,l){var u=this.e||(this.e={}),c=u[i],d=[];if(c&&l)for(var f=0,y=c.length;f<y;f++)c[f].fn!==l&&c[f].fn._!==l&&d.push(c[f]);return d.length?u[i]=d:delete u[i],this}},a.exports=o,a.exports.TinyEmitter=o}},s={};function r(a){if(s[a])return s[a].exports;var o=s[a]={exports:{}};return n[a](o,o.exports,r),o.exports}return function(){r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,{a:o}),o}}(),function(){r.d=function(a,o){for(var i in o)r.o(o,i)&&!r.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:o[i]})}}(),function(){r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)}}(),r(686)}().default})}(clipboard$1)),clipboard$1.exports}var clipboardExports=requireClipboard();const Clipboard=getDefaultExportFromCjs(clipboardExports),VueClipboard=e=>({toClipboard(t,n){return new Promise((s,r)=>{const a=document.createElement("button"),o=new Clipboard(a,{text:()=>t,action:()=>"copy",container:n!==void 0?n:document.body});o.on("success",i=>{o.destroy(),s(i)}),o.on("error",i=>{o.destroy(),r(i)}),document.body.appendChild(a),a.click(),document.body.removeChild(a)})}}),{toClipboard}=VueClipboard(),div=document.createElement("div");div.id="weilin_comfyui_tools_prompt_ui_div";const body=document.querySelector("body");body.appendChild(div);const app=createApp(App);app.use(createPinia()),app.use(i18n),initI18n(),app.config.globalProperties.$copyText=toClipboard,app.mount(div),console.log("WeiLin Prompt UI is running - version "+version),console.log("WeiLin 节点插件已运行 - 版本 "+version)});
//# sourceMappingURL=main.entry.js.map
